import{E as f,p as _}from"./constants.32292d8d.js";import{E as v}from"./el-progress.1e2c2aec.js";import{E as w}from"./index.5fe7711e.js";import"./base.c3d2e3d9.js";/* empty css                *//* empty css                  */import{d as E,r as t,k,l as g,q as o,s as l,B as h,m as x,v as b,F as B}from"./entry.1dc6e359.js";import"./error.78e43d3e.js";import"./use-form-common-props.197ce949.js";import"./index.901f8d30.js";import"./use-global-config.5035f634.js";import"./index.f8748455.js";const C=["src"],z=E({__name:"imageWatermark",setup(y){const n=t(),r=t([]),a=t();t(""),t(!1),t();const i=async e=>{n.value=e,a.value=e.url};function m(){const e=document.createElement("a");e.href=a.value,e.download=n.value.name,e.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{e.remove()},100)}return(e,s)=>{const c=f,u=v,p=w;return k(),g(B,null,[o(u,{"file-list":r.value,"onUpdate:fileList":s[0]||(s[0]=d=>r.value=d),"auto-upload":!1,"list-type":"picture-card","show-file-list":!0,onChange:i},{default:l(()=>[o(c,null,{default:l(()=>[o(h(_))]),_:1})]),_:1},8,["file-list"]),x("img",{id:"watermarkImg",src:a.value,style:{"max-width":"500px","max-height":"500px"}},null,8,C),o(p,{onClick:m},{default:l(()=>[b("下载")]),_:1})],64)}}});export{z as default};
