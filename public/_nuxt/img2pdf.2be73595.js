import{T as j,M as L,H as S}from"./components.b8cc7c2b.js";import{E as T}from"./index.8f5bc808.js";import{E as H}from"./el-progress.1eae7595.js";import{E as N}from"./el-image-viewer.09f698aa.js";import{E as O,p as P,q as R,z as M,a as q}from"./constants.0737b991.js";import{E as A}from"./el-card.5d6d708b.js";import{E as $}from"./el-overlay.07b01796.js";import{_ as X}from"./client-only.80bd0e48.js";import"./base.c054e6db.js";/* empty css                  *//* empty css                */import"./el-loading.b1ea91ae.js";import{d as Y,r as w,k as G,l as J,q as e,s as t,v as b,m as o,z as C,A as F,B as d,F as K,x as Q,y as W,_ as Z}from"./entry.89a8456c.js";import{D as ee}from"./vuedraggable.umd.0a0a1d84.js";import{E as te}from"./jspdf.es.min.6d521d43.js";import{f as oe}from"./util.a9abac9b.js";import{E as ae}from"./index.13bae289.js";import"./index.64d33a3b.js";import"./use-global-config.0787c757.js";import"./use-form-common-props.4add0763.js";import"./index.f8748455.js";import"./error.78e43d3e.js";import"./aria.60e0cdc6.js";import"./debounce.17f18a2b.js";import"./index.5eefbf66.js";import"./position.c4c9a777.js";import"./scroll.58f66198.js";import"./vnode.76be746b.js";import"./focus-trap.110fc0b9.js";import"./event.9519ab40.js";import"./_commonjsHelpers.042e6b4d.js";const E=f=>(Q("data-v-1a646ed4"),f=f(),W(),f),le={style:{width:"90%",margin:"0 auto"}},se={style:{width:"60%",margin:"0 auto","margin-top":"15%"}},ie=E(()=>o("div",{style:{"font-size":"24px",height:"50px"}},"图片转PDF",-1)),ne={style:{"margin-top":"10%","font-size":"24px"}},re=E(()=>o("div",{style:{color:"black"}},"或者拖放多个文件",-1)),ce={style:{width:"100%",margin:"0 auto","margin-top":"10%"}},de={class:"drag-box",style:{width:"70%",float:"left",margin:"0 auto","text-align":"center"}},pe={style:{float:"left",margin:"0 8px 8px 0",border:"1px solid var(--el-border-color)","border-radius":"6px",position:"relative"}},me=E(()=>o("div",{style:{height:"10px"}},null,-1)),_e=["src"],fe={style:{float:"right",width:"25%"}},ue=Y({__name:"img2pdf",setup(f){const v=w(!0),n=w([]),k=w(""),y=w(!1),D=a=>{a.id=n.value.length,n.value.push(a),v.value=!1},z=a=>{console.log(a),n.value.splice(a,1)},B=a=>{console.log(111),k.value=n.value[a].url,y.value=!0};async function U(){const a=ae.service({lock:!0,background:"rgba(0, 0, 0, 0.7)"}),[p,m]=[595.28,841.89],l=new te("p","pt","a4",!0);for(const i of n.value){const s=new Image;s.src=URL.createObjectURL(i.raw);let u=0,r=0;await new Promise(_=>{s.onload=()=>{r=s.width,u=s.height,URL.revokeObjectURL(s.src),_(0)}});const g=await oe(i.raw);let c=p/(r/u),h=0;c>m?c=m:h=(m-c)/2,l.addImage(g,0,h,p,c,i.name),l.addPage()}const x=l.internal.getNumberOfPages();l.deletePage(x),l.save("image.pdf"),a.close()}return(a,p)=>{const m=j,l=L,x=S,i=T,s=H,u=N,r=O,g=A,c=$,h=X;return G(),J(K,null,[e(x,null,{default:t(()=>[e(m,null,{default:t(()=>[b("在线图片转PDF")]),_:1}),e(l,{name:"description",content:"将图片转为PDF"}),e(l,{name:"keywords",content:"图像,图片,转换,PDF,图片转PDF"})]),_:1}),o("div",le,[C(o("div",se,[ie,o("div",null,[e(s,{class:"upload-demo",drag:"","list-type":"picture-card","show-file-list":!1,"auto-upload":!1,onChange:D,multiple:"true",accept:".gif,.tif,.tiff,.png,.crw,.cr2,.dng,.raf,.nef,.nrw,.orf,.rw2,.pef,.arw,.srf,.sr2,.raw,.psd,.svg,.webp,.heic,.jpg,.jpeg"},{default:t(()=>[o("div",ne,[e(i,{ref:"uploadId",style:{"font-size":"24px"},type:"primary",round:"",size:"large",icon:d(P)},{default:t(()=>[b("上传多个图片")]),_:1},8,["icon"]),re])]),_:1})])],512),[[F,v.value]]),C(o("div",ce,[o("div",de,[e(g,{shadow:"always"},{default:t(()=>[e(d(ee),{list:n.value,animation:100,"item-key":"id",class:"list-group",forceFallback:!0,"ghost-class":"ghost"},{item:t(({element:_,index:I})=>[o("div",pe,[e(u,{fit:"contain",style:{width:"150px",height:"150px"},src:_.url},null,8,["src"]),e(i,{type:"danger",class:"el-icon-close",onClick:V=>z(I),icon:d(R),circle:"",color:"#D6D6D6"},null,8,["onClick","icon"]),e(r,{class:"el-icon-yl",onClick:V=>B(I)},{default:t(()=>[e(d(M))]),_:2},1032,["onClick"])])]),_:1},8,["list"]),e(s,{style:{float:"left","margin-left":"5px","margin-bottom":"10px"},"auto-upload":!1,"list-type":"picture-card","show-file-list":!1,multiple:"true",onChange:D,accept:".gif,.tif,.tiff,.png,.crw,.cr2,.dng,.raf,.nef,.nrw,.orf,.rw2,.pef,.arw,.srf,.sr2,.raw,.psd,.svg,.webp,.heic,.jpg,.jpeg"},{default:t(()=>[e(r,null,{default:t(()=>[e(d(P))]),_:1})]),_:1}),me]),_:1})]),e(h,null,{default:t(()=>[e(c,{modelValue:y.value,"onUpdate:modelValue":p[0]||(p[0]=_=>y.value=_)},{default:t(()=>[o("img",{"w-full":"",src:k.value,style:{width:"100%"},alt:"Preview Image"},null,8,_e)]),_:1},8,["modelValue"])]),_:1}),o("div",fe,[e(g,{shadow:"always"},{default:t(()=>[e(i,{onClick:U,type:"primary",style:{width:"100%"},size:"large"},{default:t(()=>[b("生成PDF "),e(r,{class:"el-icon--right"},{default:t(()=>[e(d(q))]),_:1})]),_:1})]),_:1})])],512),[[F,!v.value]])])],64)}}});const Ye=Z(ue,[["__scopeId","data-v-1a646ed4"]]);export{Ye as default};
