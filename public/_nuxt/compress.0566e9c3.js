var Xi=Object.defineProperty,Ut=(G,cr)=>{for(var e in cr)Xi(G,e,{get:cr[e],enumerable:!0})},Vi=(G,cr,e)=>(Ma(G,typeof cr!="symbol"?cr+"":cr,e),e),Ma=(G,cr,e)=>cr in G?Xi(G,cr,{enumerable:!0,configurable:!0,writable:!0,value:e}):G[cr]=e,di;function La(G,cr){const e=G.getContext("2d");if(!e)throw Error("Canvas not initialized");e.clearRect(0,0,G.width,G.height),e.putImageData(cr,0,0)}async function vi(G,cr,e){const lr=document.createElement("canvas");lr.width=G.width,lr.height=G.height;const Tr=lr.getContext("2d");if(!Tr)throw Error("Canvas not initialized");Tr.putImageData(G,0,0);let hr;if("toBlob"in lr)hr=await new Promise(F=>lr.toBlob(F,cr,e));else{const F=lr.toDataURL(cr,e),er=/data:([^;]+);base64,(.*)$/.exec(F);if(!er)throw Error("Data URL reading failed");const kr=er[1],Ir=atob(er[2]),a=new Uint8Array(Ir.length);for(let Ie=0;Ie<a.length;Ie+=1)a[Ie]=Ir.charCodeAt(Ie);hr=new Blob([a],{type:kr})}if(!hr)throw Error("Encoding failed");return hr}function Gi(G){return"displayWidth"in G?G.displayWidth:G.width}function Yi(G){return"displayHeight"in G?G.displayHeight:G.height}function wi(G,cr={}){const{width:e=Gi(G),height:lr=Yi(G),sx:Tr=0,sy:hr=0,sw:F=Gi(G),sh:er=Yi(G)}=cr,kr=document.createElement("canvas");kr.width=e,kr.height=lr;const Ir=kr.getContext("2d");if(!Ir)throw new Error("Could not create canvas context");return Ir.drawImage(G,Tr,hr,F,er,0,0,e,lr),Ir.getImageData(0,0,e,lr)}function Na(G,cr,e,lr,Tr,hr,F,er){const kr=document.createElement("canvas");kr.width=G.width,kr.height=G.height,La(kr,G);const Ir=document.createElement("canvas");Ir.width=hr,Ir.height=F;const a=Ir.getContext("2d");if(!a)throw new Error("Could not create canvas context");return er==="pixelated"?a.imageSmoothingEnabled=!1:a.imageSmoothingQuality=er,a.drawImage(kr,cr,e,lr,Tr,0,0,hr,F),a.getImageData(0,0,hr,F)}async function Ha(G){try{const cr=await vi(new ImageData(1,1),G);return cr?cr.type===G:!1}catch{return!1}}var Qi=typeof ImageDecoder<"u";async function xa(G){if(!Qi)return!1;try{return await ImageDecoder.isTypeSupported(G)}catch{return!1}}async function ja(G,cr){if(!Qi)throw Error("This browser does not support ImageDecoder. This function should not have been called.");const e=new ImageDecoder({type:cr,data:new Response(G).body}),{image:lr}=await e.decode();return wi(lr)}async function Ba(G){const cr=new Image;cr.decoding="async",cr.src=G;const e=new Promise((lr,Tr)=>{cr.onload=()=>lr(),cr.onerror=()=>Tr(Error("Image loading error"))});return cr.decode&&await cr.decode().catch(()=>null),await e,cr}var Ai=new Map;function Va(G){if(!Ai.has(G)){const cr=(async()=>{const e=document.createElement("picture"),lr=document.createElement("img"),Tr=document.createElement("source");return Tr.srcset="data:,x",Tr.type=G,e.append(Tr,lr),await 0,!!lr.currentSrc})();Ai.set(G,cr)}return Ai.get(G)}function Ji(G){return new Response(G).arrayBuffer()}function Ga(G){return new Response(G).text()}var Ya=[[/^%PDF-/,"application/pdf"],[/^GIF87a/,"image/gif"],[/^GIF89a/,"image/gif"],[/^\x89PNG\x0D\x0A\x1A\x0A/,"image/png"],[/^\xFF\xD8\xFF/,"image/jpeg"],[/^BM/,"image/bmp"],[/^I I/,"image/tiff"],[/^II*/,"image/tiff"],[/^MM\x00*/,"image/tiff"],[/^RIFF....WEBPVP8[LX ]/s,"image/webp"],[/^\xF4\xFF\x6F/,"image/webp2"],[/^\x00\x00\x00 ftypavif\x00\x00\x00\x00/,"image/avif"],[/^\xff\x0a/,"image/jxl"],[/^\x00\x00\x00\x0cJXL \x0d\x0a\x87\x0a/,"image/jxl"]],qa=new Map(Ya);async function za(G){const cr=await Ji(G.slice(0,16)),e=Array.from(new Uint8Array(cr)).map(lr=>String.fromCodePoint(lr)).join("");for(const[lr,Tr]of qa)if(lr.test(e))return Tr;return""}async function Ni(G){const cr=URL.createObjectURL(G);try{return await Ba(cr)}finally{URL.revokeObjectURL(cr)}}async function Ka(G,cr){if(await xa(cr))try{return await ja(G,cr)}catch{}const e="createImageBitmap"in self?await createImageBitmap(G):await Ni(G);return wi(e)}var Zi={};Ut(Zi,{defaultOptions:()=>Za,extension:()=>Ja,label:()=>Xa,mimeType:()=>Qa});var Xa="AVIF",Qa="image/avif",Ja="avif",Za={cqLevel:33,cqAlphaLevel:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:6,subsample:1,chromaDeltaQ:!1,sharpness:0,tune:0},$i={};Ut($i,{defaultOptions:()=>eo,extension:()=>ro,label:()=>$a,mimeType:()=>Hi});var $a="Browser GIF",Hi="image/gif",ro="gif",eo={},ra={};Ut(ra,{defaultOptions:()=>io,extension:()=>to,label:()=>no,mimeType:()=>ea});var no="Browser JPEG",ea="image/jpeg",to="jpg",io={quality:.75},na={};Ut(na,{defaultOptions:()=>uo,extension:()=>oo,label:()=>ao,mimeType:()=>ta});var ao="Browser PNG",ta="image/png",oo="png",uo={},ia={};Ut(ia,{defaultOptions:()=>lo,extension:()=>co,label:()=>fo,mimeType:()=>so});var fo="JPEG XL (beta)",so="image/jxl",co="jxl",lo={speed:4,quality:75,progressive:!1,epf:-1,nearLossless:0,lossyPalette:!1,decodingSpeedTier:0},aa={};Ut(aa,{defaultOptions:()=>go,extension:()=>po,label:()=>vo,mimeType:()=>_o});var vo="MozJPEG",_o="image/jpeg",po="jpg",go={quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:3,quant_table:3,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75},oa={};Ut(oa,{defaultOptions:()=>Eo,extension:()=>yo,label:()=>ho,mimeType:()=>mo});var ho="OxiPNG",mo="image/png",yo="png",Eo={level:2,interlace:!1},ua={};Ut(ua,{defaultOptions:()=>Ao,extension:()=>bo,label:()=>wo,mimeType:()=>To});var wo="WebP",To="image/webp",bo="webp",Ao={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0},fa={};Ut(fa,{defaultOptions:()=>So,extension:()=>Ro,label:()=>Co,mimeType:()=>Fo});var Co="WebP v2 (unstable)",Fo="image/webp2",Ro="wp2",So={quality:75,alpha_quality:75,effort:5,pass:1,sns:50,uv_mode:3,csp_type:0,error_diffusion:0,use_random_matrix:!1},sa={};Ut(sa,{avifEncode:()=>ca});function jt(G){return G({noInitialRun:!0})}function Ti(G){return new Response(G).arrayBuffer()}var xi=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),bi=()=>(async G=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(G)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Po=function(){var G=import.meta.url;return function(a){a=a||{};function e(){return ue.buffer!=Jr&&oe(ue.buffer),$e}function lr(){return ue.buffer!=Jr&&oe(ue.buffer),gn}function Tr(){return ue.buffer!=Jr&&oe(ue.buffer),Qn}function hr(){return ue.buffer!=Jr&&oe(ue.buffer),Pn}function F(){return ue.buffer!=Jr&&oe(ue.buffer),An}function er(){return ue.buffer!=Jr&&oe(ue.buffer),ae}function kr(){return ue.buffer!=Jr&&oe(ue.buffer),Le}function Ir(){return ue.buffer!=Jr&&oe(ue.buffer),Ae}var a=typeof a<"u"?a:{},Ie,_e;a.ready=new Promise(function(r,t){Ie=r,_e=t});var $r={},xr;for(xr in a)a.hasOwnProperty(xr)&&($r[xr]=a[xr]);var cn=function(r,t){throw t},vn=!0,mr=a.ENVIRONMENT_IS_PTHREAD||!1,wr="";function Ve(r){return a.locateFile?a.locateFile(r,wr):wr+r}var Hn;wr=self.location.href,G&&(wr=G),wr.indexOf("blob:")!==0?wr=wr.substr(0,wr.lastIndexOf("/")+1):wr="",Hn=function(r){var t=new XMLHttpRequest;return t.open("GET",r,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)};var jn=a.print||console.log.bind(console),Qr=a.printErr||console.warn.bind(console);for(xr in $r)$r.hasOwnProperty(xr)&&(a[xr]=$r[xr]);$r=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&(cn=a.quit);var ce=0,In=function(r){ce=r},Gr=function(){return ce},Wr;a.wasmBinary&&(Wr=a.wasmBinary);var we=a.noExitRuntime||!0;typeof WebAssembly!="object"&&Lr("no native wasm support detected");var ue,pn,Kr=!1;function jr(r,t){r||Lr("Assertion failed: "+t)}function Rr(r,t,u){for(var _=t+u,b="";!(t>=_);){var W=r[t++];if(!W)return b;if(!(W&128)){b+=String.fromCharCode(W);continue}var I=r[t++]&63;if((W&224)==192){b+=String.fromCharCode((W&31)<<6|I);continue}var x=r[t++]&63;if((W&240)==224?W=(W&15)<<12|I<<6|x:W=(W&7)<<18|I<<12|x<<6|r[t++]&63,W<65536)b+=String.fromCharCode(W);else{var ar=W-65536;b+=String.fromCharCode(55296|ar>>10,56320|ar&1023)}}return b}function Yr(r,t){return r?Rr(lr(),r,t):""}function qr(r,t,u,_){if(!(_>0))return 0;for(var b=u,W=u+_-1,I=0;I<r.length;++I){var x=r.charCodeAt(I);if(x>=55296&&x<=57343){var ar=r.charCodeAt(++I);x=65536+((x&1023)<<10)|ar&1023}if(x<=127){if(u>=W)break;t[u++]=x}else if(x<=2047){if(u+1>=W)break;t[u++]=192|x>>6,t[u++]=128|x&63}else if(x<=65535){if(u+2>=W)break;t[u++]=224|x>>12,t[u++]=128|x>>6&63,t[u++]=128|x&63}else{if(u+3>=W)break;t[u++]=240|x>>18,t[u++]=128|x>>12&63,t[u++]=128|x>>6&63,t[u++]=128|x&63}}return t[u]=0,u-b}function Er(r,t,u){return qr(r,lr(),t,u)}function Hr(r){for(var t=0,u=0;u<r.length;++u){var _=r.charCodeAt(u);_>=55296&&_<=57343&&(_=65536+((_&1023)<<10)|r.charCodeAt(++u)&1023),_<=127?++t:_<=2047?t+=2:_<=65535?t+=3:t+=4}return t}function be(r,t){for(var u="",_=0;!(_>=t/2);++_){var b=Tr()[r+_*2>>1];if(b==0)break;u+=String.fromCharCode(b)}return u}function Mr(r,t,u){if(u===void 0&&(u=2147483647),u<2)return 0;u-=2;for(var _=t,b=u<r.length*2?u/2:r.length,W=0;W<b;++W){var I=r.charCodeAt(W);Tr()[t>>1]=I,t+=2}return Tr()[t>>1]=0,t-_}function qe(r){return r.length*2}function Re(r,t){for(var u=0,_="";!(u>=t/4);){var b=F()[r+u*4>>2];if(b==0)break;if(++u,b>=65536){var W=b-65536;_+=String.fromCharCode(55296|W>>10,56320|W&1023)}else _+=String.fromCharCode(b)}return _}function fe(r,t,u){if(u===void 0&&(u=2147483647),u<4)return 0;for(var _=t,b=_+u-4,W=0;W<r.length;++W){var I=r.charCodeAt(W);if(I>=55296&&I<=57343){var x=r.charCodeAt(++W);I=65536+((I&1023)<<10)|x&1023}if(F()[t>>2]=I,t+=4,t+4>b)break}return F()[t>>2]=0,t-_}function bn(r){for(var t=0,u=0;u<r.length;++u){var _=r.charCodeAt(u);_>=55296&&_<=57343&&++u,t+=4}return t}function Ze(r,t){return r%t>0&&(r+=t-r%t),r}var Jr,$e,gn,Qn,Pn,An,ae,Le,Ae;mr&&(Jr=a.buffer);function oe(r){Jr=r,a.HEAP8=$e=new Int8Array(r),a.HEAP16=Qn=new Int16Array(r),a.HEAP32=An=new Int32Array(r),a.HEAPU8=gn=new Uint8Array(r),a.HEAPU16=Pn=new Uint16Array(r),a.HEAPU32=ae=new Uint32Array(r),a.HEAPF32=Le=new Float32Array(r),a.HEAPF64=Ae=new Float64Array(r)}var Ue=a.INITIAL_MEMORY||16777216;if(mr)ue=a.wasmMemory,Jr=a.buffer;else if(a.wasmMemory)ue=a.wasmMemory;else if(ue=new WebAssembly.Memory({initial:Ue/65536,maximum:2147483648/65536,shared:!0}),!(ue.buffer instanceof SharedArrayBuffer))throw Qr("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Error("bad memory");ue&&(Jr=ue.buffer),Ue=Jr.byteLength,oe(Jr);var ye,Mn=[],re=[],Rn=[];function ze(){if(!mr){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)le(a.preRun.shift());ee(Mn)}}function Ce(){mr||ee(re)}function rn(){if(!mr){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)st(a.postRun.shift());ee(Rn)}}function le(r){Mn.unshift(r)}function xe(r){re.unshift(r)}function st(r){Rn.unshift(r)}var pe=0,de=null;function hn(r){jr(!mr,"addRunDependency cannot be used in a pthread worker"),pe++,a.monitorRunDependencies&&a.monitorRunDependencies(pe)}function We(r){if(pe--,a.monitorRunDependencies&&a.monitorRunDependencies(pe),pe==0&&de){var t=de;de=null,t()}}a.preloadedImages={},a.preloadedAudios={};function Lr(r){a.onAbort&&a.onAbort(r),mr&&console.error("Pthread aborting at "+new Error().stack),r+="",Qr(r),Kr=!0,r="abort("+r+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(r);throw _e(t),t}var Se="data:application/octet-stream;base64,";function Pe(r){return r.startsWith(Se)}if(a.locateFile){var Br="avif_enc_mt.wasm";Pe(Br)||(Br=Ve(Br))}else var Br=new URL("../wasm/avif_enc_mt.wasm",self.location).toString();function Ee(r){try{if(r==Br&&Wr)return new Uint8Array(Wr);if(Hn)return Hn(r);throw"both async and sync fetching of the wasm failed"}catch(t){Lr(t)}}function Ke(){return!Wr&&vn&&typeof fetch=="function"?fetch(Br,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw"failed to load wasm binary file at '"+Br+"'";return r.arrayBuffer()}).catch(function(){return Ee(Br)}):Promise.resolve().then(function(){return Ee(Br)})}function en(){var r={a:It};function t(I,x){var ar=I.exports;if(a.asm=ar,ye=a.asm.ja,xe(a.asm.fa),nr.tlsInitFunctions.push(a.asm.ia),pn=x,!mr){var pr=nr.unusedWorkers.length;nr.unusedWorkers.forEach(function(Ar){nr.loadWasmModuleToWorker(Ar,function(){--pr||We()})})}}mr||hn();function u(I){t(I.instance,I.module)}function _(I){return Ke().then(function(x){var ar=WebAssembly.instantiate(x,r);return ar}).then(I,function(x){Qr("failed to asynchronously prepare wasm: "+x),Lr(x)})}function b(){return!Wr&&typeof WebAssembly.instantiateStreaming=="function"&&!Pe(Br)&&typeof fetch=="function"?fetch(Br,{credentials:"same-origin"}).then(function(I){var x=WebAssembly.instantiateStreaming(I,r);return x.then(u,function(ar){return Qr("wasm streaming compile failed: "+ar),Qr("falling back to ArrayBuffer instantiation"),_(u)})}):_(u)}if(a.instantiateWasm)try{var W=a.instantiateWasm(r,t);return W}catch(I){return Qr("Module.instantiateWasm callback failed with error: "+I),!1}return b().catch(_e),{}}var Ur={601124:function(){throw"Canceled!"},601142:function(r,t){setTimeout(function(){Vt(r,t)},0)}};function Cn(){nr.initRuntime()}function ee(r){for(;r.length>0;){var t=r.shift();if(typeof t=="function"){t(a);continue}var u=t.func;typeof u=="number"?t.arg===void 0?ye.get(u)():ye.get(u)(t.arg):u(t.arg===void 0?null:t.arg)}}var se={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function Fe(r,t){if(r<=0||r>e().length||r&!0||t<0)return-28;if(t==0)return 0;t>=2147483647&&(t=1/0);var u=Atomics.load(F(),Y>>2),_=0;if(u==r){var b=Atomics.compareExchange(F(),Y>>2,u,0);if(b==u&&(--t,_=1,t<=0))return 1}var W=Atomics.notify(F(),r>>2,t);if(W>=0)return W+_;throw"Atomics.notify returned an unexpected value "+W}a._emscripten_futex_wake=Fe;function vr(r){if(mr)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!r)throw"Internal Error! Null pthread_ptr in killThread!";F()[r+12>>2]=0;var t=nr.pthreads[r];t.worker.terminate(),nr.freeThreadData(t),nr.runningWorkers.splice(nr.runningWorkers.indexOf(t.worker),1),t.worker.pthread=void 0}function ne(r){if(mr)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!r)throw"Internal Error! Null pthread_ptr in cancelThread!";var t=nr.pthreads[r];t.worker.postMessage({cmd:"cancel"})}function nn(r){if(mr)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!r)throw"Internal Error! Null pthread_ptr in cleanupThread!";var t=nr.pthreads[r];if(t){F()[r+12>>2]=0;var u=t.worker;nr.returnWorkerToPool(u)}}var nr={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var r=navigator.hardwareConcurrency,t=0;t<r;++t)nr.allocateUnusedWorker()},initRuntime:function(){for(var r=Tt(228),t=0;t<228/4;++t)er()[r/4+t]=0;F()[r+12>>2]=r;var u=r+152;F()[u>>2]=u;for(var _=Tt(512),t=0;t<128;++t)er()[_/4+t]=0;Atomics.store(er(),r+100>>2,_),Atomics.store(er(),r+40>>2,r),Xn(r,!vn,1),Jt(r)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;nr.threadExitHandlers.length>0;)nr.threadExitHandlers.pop()();mr&&St()&&Gt()},runExitHandlersAndDeinitThread:function(r,t){Atomics.store(er(),r+56>>2,1),Atomics.store(er(),r+60>>2,0),nr.runExitHandlers(),Atomics.store(er(),r+4>>2,t),Atomics.store(er(),r+0>>2,1),Fe(r+0,2147483647),Xn(0,0,0)},setExitStatus:function(r){},threadExit:function(r){var t=St();t&&(nr.runExitHandlersAndDeinitThread(t,r),mr&&postMessage({cmd:"exit"}))},threadCancel:function(){nr.runExitHandlersAndDeinitThread(St(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var r in nr.pthreads){var t=nr.pthreads[r];t&&t.worker&&nr.returnWorkerToPool(t.worker)}nr.pthreads={};for(var u=0;u<nr.unusedWorkers.length;++u){var _=nr.unusedWorkers[u];_.terminate()}nr.unusedWorkers=[];for(var u=0;u<nr.runningWorkers.length;++u){var _=nr.runningWorkers[u],t=_.pthread;nr.freeThreadData(t),_.terminate()}nr.runningWorkers=[]},freeThreadData:function(r){if(r){if(r.threadInfoStruct){var t=F()[r.threadInfoStruct+100>>2];F()[r.threadInfoStruct+100>>2]=0,vt(t),vt(r.threadInfoStruct)}r.threadInfoStruct=0,r.allocatedOwnStack&&r.stackBase&&vt(r.stackBase),r.stackBase=0,r.worker&&(r.worker.pthread=null)}},returnWorkerToPool:function(r){nr.runWithoutMainThreadQueuedCalls(function(){delete nr.pthreads[r.pthread.threadInfoStruct],nr.unusedWorkers.push(r),nr.runningWorkers.splice(nr.runningWorkers.indexOf(r),1),nr.freeThreadData(r.pthread),r.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(r){F()[N>>2]=0;try{r()}finally{F()[N>>2]=1}},receiveObjectTransfer:function(r){},threadInit:function(){for(var r in nr.tlsInitFunctions)nr.tlsInitFunctions[r]()},loadWasmModuleToWorker:function(r,t){r.onmessage=function(u){var _=u.data,b=_.cmd;if(r.pthread&&(nr.currentProxiedOperationCallerThread=r.pthread.threadInfoStruct),_.targetThread&&_.targetThread!=St()){var W=nr.pthreads[_.targetThread];W?W.worker.postMessage(u.data,_.transferList):console.error('Internal error! Worker sent a message "'+b+'" to target pthread '+_.targetThread+", but that thread no longer exists!"),nr.currentProxiedOperationCallerThread=void 0;return}if(b==="processQueuedMainThreadWork")Pt();else if(b==="spawnThread")Xt(u.data);else if(b==="cleanupThread")nn(_.thread);else if(b==="killThread")vr(_.thread);else if(b==="cancelThread")ne(_.thread);else if(b==="loaded")r.loaded=!0,t&&t(r),r.runPthread&&(r.runPthread(),delete r.runPthread);else if(b==="print")jn("Thread "+_.threadId+": "+_.text);else if(b==="printErr")Qr("Thread "+_.threadId+": "+_.text);else if(b==="alert")alert("Thread "+_.threadId+": "+_.text);else if(b==="exit"){var I=r.pthread&&Atomics.load(er(),r.pthread.threadInfoStruct+64>>2);I&&nr.returnWorkerToPool(r)}else if(b==="exitProcess")try{n(_.returnCode)}catch(x){if(x instanceof ht)return;throw x}else b==="cancelDone"?nr.returnWorkerToPool(r):b==="objectTransfer"?nr.receiveObjectTransfer(u.data):u.data.target==="setimmediate"?r.postMessage(u.data):Qr("worker sent an unknown command "+b);nr.currentProxiedOperationCallerThread=void 0},r.onerror=function(u){Qr("pthread sent an error! "+u.filename+":"+u.lineno+": "+u.message)},r.postMessage({cmd:"load",urlOrBlob:a.mainScriptUrlOrBlob,wasmMemory:ue,wasmModule:pn})},allocateUnusedWorker:function(){if(!a.locateFile){nr.unusedWorkers.push(new Worker(new URL("../wasm/avif_enc_mt.worker.js?type=classic&worker_file",self.location)));return}var r=Ve("avif_enc_mt.worker.js");nr.unusedWorkers.push(new Worker(r))},getNewWorker:function(){return nr.unusedWorkers.length==0&&(nr.allocateUnusedWorker(),nr.loadWasmModuleToWorker(nr.unusedWorkers[0])),nr.unusedWorkers.pop()},busySpinWait:function(r){for(var t=performance.now()+r;performance.now()<t;);}};function ge(r,t){i(r,t),wt(r)}a.establishStackSpace=ge;function Ge(r,t){return ye.get(r)(t)}a.invokeEntryPoint=Ge;var ie=0;function Sr(){return we||ie>0}a.keepRuntimeAlive=Sr;function un(r,t,u,_){Lr("Assertion failed: "+Yr(r)+", at: "+[t?Yr(t):"unknown filename",u,_?Yr(_):"unknown function"])}var te;mr?te=function(){return performance.now()-a.__performance_now_clock_drift}:te=function(){return performance.now()};function Xr(r,t){nr.threadExitHandlers.push(function(){ye.get(r)(t)})}function _n(r,t){return Xr(r,t)}var Ne={mappings:{},buffers:[null,[],[]],printChar:function(r,t){var u=Ne.buffers[r];t===0||t===10?((r===1?jn:Qr)(Rr(u,0)),u.length=0):u.push(t)},varargs:void 0,get:function(){Ne.varargs+=4;var r=F()[Ne.varargs-4>>2];return r},getStr:function(r){var t=Yr(r);return t},get64:function(r,t){return r}};function Be(r,t,u){return mr?tr(1,1,r,t,u):(Ne.varargs=u,0)}function Fn(r,t,u){return mr?tr(2,1,r,t,u):(Ne.varargs=u,0)}function He(r,t,u){if(mr)return tr(3,1,r,t,u);Ne.varargs=u}var fn={};function Qe(r){for(;r.length;){var t=r.pop(),u=r.pop();u(t)}}function yn(r){return this.fromWireType(er()[r>>2])}var On={},Je={},ln={},Ln=48,$n=57;function rt(r){if(r===void 0)return"_unknown";r=r.replace(/[^a-zA-Z0-9_]/g,"$");var t=r.charCodeAt(0);return t>=Ln&&t<=$n?"_"+r:r}function En(r,t){return r=rt(r),new Function("body","return function "+r+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(t)}function xn(r,t){var u=En(t,function(_){this.name=t,this.message=_;var b=new Error(_).stack;b!==void 0&&(this.stack=this.toString()+`
`+b.replace(/^Error(:[^\n]*)?\n/,""))});return u.prototype=Object.create(r.prototype),u.prototype.constructor=u,u.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},u}var zn=void 0;function Bn(r){throw new zn(r)}function wn(r,t,u){r.forEach(function(x){ln[x]=t});function _(x){var ar=u(x);ar.length!==r.length&&Bn("Mismatched type converter count");for(var pr=0;pr<r.length;++pr)zr(r[pr],ar[pr])}var b=new Array(t.length),W=[],I=0;t.forEach(function(x,ar){Je.hasOwnProperty(x)?b[ar]=Je[x]:(W.push(x),On.hasOwnProperty(x)||(On[x]=[]),On[x].push(function(){b[ar]=Je[x],++I,I===W.length&&_(b)}))}),W.length===0&&_(b)}function Kn(r){var t=fn[r];delete fn[r];var u=t.rawConstructor,_=t.rawDestructor,b=t.fields,W=b.map(function(I){return I.getterReturnType}).concat(b.map(function(I){return I.setterArgumentType}));wn([r],W,function(I){var x={};return b.forEach(function(ar,pr){var Ar=ar.fieldName,Or=I[pr],Te=ar.getter,on=ar.getterContext,dt=I[pr+b.length],pt=ar.setter,mt=ar.setterContext;x[Ar]={read:function(dr){return Or.fromWireType(Te(on,dr))},write:function(dr,Pr){var Dn=[];pt(mt,dr,dt.toWireType(Dn,Pr)),Qe(Dn)}}}),[{name:t.name,fromWireType:function(ar){var pr={};for(var Ar in x)pr[Ar]=x[Ar].read(ar);return _(ar),pr},toWireType:function(ar,pr){for(var Ar in x)if(!(Ar in pr))throw new TypeError('Missing field:  "'+Ar+'"');var Or=u();for(Ar in x)x[Ar].write(Or,pr[Ar]);return ar!==null&&ar.push(_,Or),Or},argPackAdvance:8,readValueFromPointer:yn,destructorFunction:_}]})}function et(r,t,u,_,b){}function Oe(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+r)}}function qn(){for(var r=new Array(256),t=0;t<256;++t)r[t]=String.fromCharCode(t);De=r}var De=void 0;function ke(r){for(var t="",u=r;lr()[u];)t+=De[lr()[u++]];return t}var Me=void 0;function sn(r){throw new Me(r)}function zr(r,t,u){if(u=u||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var _=t.name;if(r||sn('type "'+_+'" must have a positive integer typeid pointer'),Je.hasOwnProperty(r)){if(u.ignoreDuplicateRegistrations)return;sn("Cannot register type '"+_+"' twice")}if(Je[r]=t,delete ln[r],On.hasOwnProperty(r)){var b=On[r];delete On[r],b.forEach(function(W){W()})}}function tn(r,t,u,_,b){var W=Oe(u);t=ke(t),zr(r,{name:t,fromWireType:function(I){return!!I},toWireType:function(I,x){return x?_:b},argPackAdvance:8,readValueFromPointer:function(I){var x;if(u===1)x=e();else if(u===2)x=Tr();else if(u===4)x=F();else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(x[I>>W])},destructorFunction:null})}var at=[],dn=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ye(r){r>4&&--dn[r].refcount===0&&(dn[r]=void 0,at.push(r))}function Sn(){for(var r=0,t=5;t<dn.length;++t)dn[t]!==void 0&&++r;return r}function ct(){for(var r=5;r<dn.length;++r)if(dn[r]!==void 0)return dn[r];return null}function Jn(){a.count_emval_handles=Sn,a.get_first_emval=ct}function nt(r){switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var t=at.length?at.pop():dn.length;return dn[t]={refcount:1,value:r},t}}}function Vn(r,t){t=ke(t),zr(r,{name:t,fromWireType:function(u){var _=dn[u].value;return Ye(u),_},toWireType:function(u,_){return nt(_)},argPackAdvance:8,readValueFromPointer:yn,destructorFunction:null})}function ot(r){if(r===null)return"null";var t=typeof r;return t==="object"||t==="array"||t==="function"?r.toString():""+r}function Gn(r,t){switch(t){case 2:return function(u){return this.fromWireType(kr()[u>>2])};case 3:return function(u){return this.fromWireType(Ir()[u>>3])};default:throw new TypeError("Unknown float type: "+r)}}function kn(r,t,u){var _=Oe(u);t=ke(t),zr(r,{name:t,fromWireType:function(b){return b},toWireType:function(b,W){if(typeof W!="number"&&typeof W!="boolean")throw new TypeError('Cannot convert "'+ot(W)+'" to '+this.name);return W},argPackAdvance:8,readValueFromPointer:Gn(t,_),destructorFunction:null})}function ut(r,t){if(!(r instanceof Function))throw new TypeError("new_ called with constructor type "+typeof r+" which is not a function");var u=En(r.name||"unknownFunctionName",function(){});u.prototype=r.prototype;var _=new u,b=r.apply(_,t);return b instanceof Object?b:_}function mn(r,t,u,_,b){var W=t.length;W<2&&sn("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var I=t[1]!==null&&u!==null,x=!1,ar=1;ar<t.length;++ar)if(t[ar]!==null&&t[ar].destructorFunction===void 0){x=!0;break}for(var pr=t[0].name!=="void",Ar="",Or="",ar=0;ar<W-2;++ar)Ar+=(ar!==0?", ":"")+"arg"+ar,Or+=(ar!==0?", ":"")+"arg"+ar+"Wired";var Te="return function "+rt(r)+"("+Ar+`) {
if (arguments.length !== `+(W-2)+`) {
throwBindingError('function `+r+" called with ' + arguments.length + ' arguments, expected "+(W-2)+` args!');
}
`;x&&(Te+=`var destructors = [];
`);var on=x?"destructors":"null",dt=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],pt=[sn,_,b,Qe,t[0],t[1]];I&&(Te+="var thisWired = classParam.toWireType("+on+`, this);
`);for(var ar=0;ar<W-2;++ar)Te+="var arg"+ar+"Wired = argType"+ar+".toWireType("+on+", arg"+ar+"); // "+t[ar+2].name+`
`,dt.push("argType"+ar),pt.push(t[ar+2]);if(I&&(Or="thisWired"+(Or.length>0?", ":"")+Or),Te+=(pr?"var rv = ":"")+"invoker(fn"+(Or.length>0?", ":"")+Or+`);
`,x)Te+=`runDestructors(destructors);
`;else for(var ar=I?1:2;ar<t.length;++ar){var mt=ar===1?"thisWired":"arg"+(ar-2)+"Wired";t[ar].destructorFunction!==null&&(Te+=mt+"_dtor("+mt+"); // "+t[ar].name+`
`,dt.push(mt+"_dtor"),pt.push(t[ar].destructorFunction))}pr&&(Te+=`var ret = retType.fromWireType(rv);
return ret;
`),Te+=`}
`,dt.push(Te);var dr=ut(Function,dt).apply(null,pt);return dr}function Wn(r,t,u){if(r[t].overloadTable===void 0){var _=r[t];r[t]=function(){return r[t].overloadTable.hasOwnProperty(arguments.length)||sn("Function '"+u+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+r[t].overloadTable+")!"),r[t].overloadTable[arguments.length].apply(this,arguments)},r[t].overloadTable=[],r[t].overloadTable[_.argCount]=_}}function V(r,t,u){a.hasOwnProperty(r)?((u===void 0||a[r].overloadTable!==void 0&&a[r].overloadTable[u]!==void 0)&&sn("Cannot register public name '"+r+"' twice"),Wn(a,r,r),a.hasOwnProperty(u)&&sn("Cannot register multiple overloads of a function with the same number of arguments ("+u+")!"),a[r].overloadTable[u]=t):(a[r]=t,u!==void 0&&(a[r].numArguments=u))}function X(r,t){for(var u=[],_=0;_<r;_++)u.push(F()[(t>>2)+_]);return u}function C(r,t,u){a.hasOwnProperty(r)||Bn("Replacing nonexistant public symbol"),a[r].overloadTable!==void 0&&u!==void 0?a[r].overloadTable[u]=t:(a[r]=t,a[r].argCount=u)}function d(r,t,u){var _=a["dynCall_"+r];return u&&u.length?_.apply(null,[t].concat(u)):_.call(null,t)}function y(r,t,u){return r.includes("j")?d(r,t,u):ye.get(t).apply(null,u)}function P(r,t){var u=[];return function(){u.length=arguments.length;for(var _=0;_<arguments.length;_++)u[_]=arguments[_];return y(r,t,u)}}function j(r,t){r=ke(r);function u(){return r.includes("j")?P(r,t):ye.get(t)}var _=u();return typeof _!="function"&&sn("unknown function pointer with signature "+r+": "+t),_}var g=void 0;function T(r){var t=Rt(r),u=ke(t);return vt(t),u}function c(r,t){var u=[],_={};function b(W){if(!_[W]&&!Je[W]){if(ln[W]){ln[W].forEach(b);return}u.push(W),_[W]=!0}}throw t.forEach(b),new g(r+": "+u.map(T).join([", "]))}function p(r,t,u,_,b,W){var I=X(t,u);r=ke(r),b=j(_,b),V(r,function(){c("Cannot call "+r+" due to unbound types",I)},t-1),wn([],I,function(x){var ar=[x[0],null].concat(x.slice(1));return C(r,mn(r,ar,null,b,W),t-1),[]})}function R(r,t,u){switch(t){case 0:return u?function(b){return e()[b]}:function(b){return lr()[b]};case 1:return u?function(b){return Tr()[b>>1]}:function(b){return hr()[b>>1]};case 2:return u?function(b){return F()[b>>2]}:function(b){return er()[b>>2]};default:throw new TypeError("Unknown integer type: "+r)}}function B(r,t,u,_,b){t=ke(t),b===-1&&(b=4294967295);var W=Oe(u),I=function(pr){return pr};if(_===0){var x=32-8*u;I=function(pr){return pr<<x>>>x}}var ar=t.includes("unsigned");zr(r,{name:t,fromWireType:I,toWireType:function(pr,Ar){if(typeof Ar!="number"&&typeof Ar!="boolean")throw new TypeError('Cannot convert "'+ot(Ar)+'" to '+this.name);if(Ar<_||Ar>b)throw new TypeError('Passing a number "'+ot(Ar)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+_+", "+b+"]!");return ar?Ar>>>0:Ar|0},argPackAdvance:8,readValueFromPointer:R(t,W,_!==0),destructorFunction:null})}function K(r,t,u){var _=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],b=_[t];function W(I){I=I>>2;var x=er(),ar=x[I],pr=x[I+1];return new b(Jr,pr,ar)}u=ke(u),zr(r,{name:u,fromWireType:W,argPackAdvance:8,readValueFromPointer:W},{ignoreDuplicateRegistrations:!0})}function E(r,t){t=ke(t);var u=t==="std::string";zr(r,{name:t,fromWireType:function(_){var b=er()[_>>2],W;if(u)for(var I=_+4,x=0;x<=b;++x){var ar=_+4+x;if(x==b||lr()[ar]==0){var pr=ar-I,Ar=Yr(I,pr);W===void 0?W=Ar:(W+=String.fromCharCode(0),W+=Ar),I=ar+1}}else{for(var Or=new Array(b),x=0;x<b;++x)Or[x]=String.fromCharCode(lr()[_+4+x]);W=Or.join("")}return vt(_),W},toWireType:function(_,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var W,I=typeof b=="string";I||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int8Array||sn("Cannot pass non-string to std::string"),u&&I?W=function(){return Hr(b)}:W=function(){return b.length};var x=W(),ar=Tt(4+x+1);if(er()[ar>>2]=x,u&&I)Er(b,ar+4,x+1);else if(I)for(var pr=0;pr<x;++pr){var Ar=b.charCodeAt(pr);Ar>255&&(vt(ar),sn("String has UTF-16 code units that do not fit in 8 bits")),lr()[ar+4+pr]=Ar}else for(var pr=0;pr<x;++pr)lr()[ar+4+pr]=b[pr];return _!==null&&_.push(vt,ar),ar},argPackAdvance:8,readValueFromPointer:yn,destructorFunction:function(_){vt(_)}})}function S(r,t,u){u=ke(u);var _,b,W,I,x;t===2?(_=be,b=Mr,I=qe,W=function(){return hr()},x=1):t===4&&(_=Re,b=fe,I=bn,W=function(){return er()},x=2),zr(r,{name:u,fromWireType:function(ar){for(var pr=er()[ar>>2],Ar=W(),Or,Te=ar+4,on=0;on<=pr;++on){var dt=ar+4+on*t;if(on==pr||Ar[dt>>x]==0){var pt=dt-Te,mt=_(Te,pt);Or===void 0?Or=mt:(Or+=String.fromCharCode(0),Or+=mt),Te=dt+t}}return vt(ar),Or},toWireType:function(ar,pr){typeof pr!="string"&&sn("Cannot pass non-string to C++ string type "+u);var Ar=I(pr),Or=Tt(4+Ar+t);return er()[Or>>2]=Ar>>x,b(pr,Or+4,Ar+t),ar!==null&&ar.push(vt,Or),Or},argPackAdvance:8,readValueFromPointer:yn,destructorFunction:function(ar){vt(ar)}})}function l(r,t,u,_,b,W){fn[r]={name:ke(t),rawConstructor:j(u,_),rawDestructor:j(b,W),fields:[]}}function m(r,t,u,_,b,W,I,x,ar,pr){fn[r].fields.push({fieldName:ke(t),getterReturnType:u,getter:j(_,b),getterContext:W,setterArgumentType:I,setter:j(x,ar),setterContext:pr})}function U(r,t){t=ke(t),zr(r,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(u,_){}})}function q(r,t){if(r==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(mr)postMessage({targetThread:r,cmd:"processThreadQueue"});else{var u=nr.pthreads[r],_=u&&u.worker;if(!_)return;_.postMessage({cmd:"processThreadQueue"})}return 1}var f={};function s(r){var t=f[r];return t===void 0?ke(r):t}function h(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function O(r){return r===0?nt(h()):(r=s(r),nt(h()[r]))}function M(r){r>4&&(dn[r].refcount+=1)}function rr(r,t){var u=Je[r];return u===void 0&&sn(t+" has unknown type "+T(r)),u}function sr(r){for(var t="",u=0;u<r;++u)t+=(u!==0?", ":"")+"arg"+u;for(var _="return function emval_allocator_"+r+`(constructor, argTypes, args) {
`,u=0;u<r;++u)_+="var argType"+u+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+u+'], "parameter '+u+`");
var arg`+u+" = argType"+u+`.readValueFromPointer(args);
args += argType`+u+`['argPackAdvance'];
`;return _+="var obj = new constructor("+t+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",_)(rr,a,nt)}var ir={};function fr(r){return r||sn("Cannot use deleted val. handle = "+r),dn[r].value}function br(r,t,u,_){r=fr(r);var b=ir[t];return b||(b=sr(t),ir[t]=b),b(r,u,_)}function Nr(){Lr()}var D=[];function L(r,t){D.length=0;var u;for(t>>=2;u=lr()[r++];){var _=u<105;_&&t&1&&t++,D.push(_?Ir()[t++>>1]:F()[t]),++t}return D}function z(r,t,u){var _=L(t,u);return Ur[r].apply(null,_)}function w(){}function k(r,t){}function H(r,t,u){if(r<=0||r>e().length||r&!0)return-28;{var _=Atomics.wait(F(),r>>2,t,u);if(_==="timed-out")return-73;if(_==="not-equal")return-6;if(_==="ok")return 0;throw"Atomics.wait returned an unexpected value "+_}}function J(r,t){throw o(r,t||1),"longjmp"}function $(r,t){return J(r,t)}function ur(r,t,u){lr().copyWithin(r,t,t+u)}function _r(){return navigator.hardwareConcurrency}function tr(r,t){for(var u=arguments.length-2,_=gt(),b=u,W=xt(b*8),I=W>>3,x=0;x<u;x++){var ar=arguments[2+x];Ir()[I+x]=ar}var pr=Ht(r,b,W,t);return wt(_),pr}var gr=[];function Vr(r,t,u){gr.length=t;for(var _=u>>3,b=0;b<t;b++)gr[b]=Ir()[_+b];var W=r<0,I=W?Ur[-r-1]:Dt[r];return I.apply(null,gr)}function ve(r){try{return ue.grow(r-Jr.byteLength+65535>>>16),oe(ue.buffer),1}catch{}}function yr(r){var t=lr().length;if(r=r>>>0,r<=t)return!1;var u=2147483648;if(r>u)return!1;for(var _=1;_<=4;_*=2){var b=t*(1+.2/_);b=Math.min(b,r+100663296);var W=Math.min(u,Ze(Math.max(r,b),65536)),I=ve(W);if(I)return!0}return!1}var Zr={inEventHandler:0,removeAllEventListeners:function(){for(var r=Zr.eventHandlers.length-1;r>=0;--r)Zr._removeHandler(r);Zr.eventHandlers=[],Zr.deferredCalls=[]},registerRemoveEventListeners:function(){Zr.removeEventListenersRegistered||(Zr.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(r,t,u){function _(I,x){if(I.length!=x.length)return!1;for(var ar in I)if(I[ar]!=x[ar])return!1;return!0}for(var b in Zr.deferredCalls){var W=Zr.deferredCalls[b];if(W.targetFunction==r&&_(W.argsList,u))return}Zr.deferredCalls.push({targetFunction:r,precedence:t,argsList:u}),Zr.deferredCalls.sort(function(I,x){return I.precedence<x.precedence})},removeDeferredCalls:function(r){for(var t=0;t<Zr.deferredCalls.length;++t)Zr.deferredCalls[t].targetFunction==r&&(Zr.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return Zr.inEventHandler&&Zr.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(Zr.canPerformEventHandlerRequests())for(var r=0;r<Zr.deferredCalls.length;++r){var t=Zr.deferredCalls[r];Zr.deferredCalls.splice(r,1),--r,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(r,t){for(var u=0;u<Zr.eventHandlers.length;++u)Zr.eventHandlers[u].target==r&&(!t||t==Zr.eventHandlers[u].eventTypeString)&&Zr._removeHandler(u--)},_removeHandler:function(r){var t=Zr.eventHandlers[r];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),Zr.eventHandlers.splice(r,1)},registerOrRemoveHandler:function(r){var t=function(b){++Zr.inEventHandler,Zr.currentEventHandler=r,Zr.runDeferredCalls(),r.handlerFunc(b),Zr.runDeferredCalls(),--Zr.inEventHandler};if(r.callbackfunc)r.eventListenerFunc=t,r.target.addEventListener(r.eventTypeString,t,r.useCapture),Zr.eventHandlers.push(r),Zr.registerRemoveEventListeners();else for(var u=0;u<Zr.eventHandlers.length;++u)Zr.eventHandlers[u].target==r.target&&Zr.eventHandlers[u].eventTypeString==r.eventTypeString&&Zr._removeHandler(u--)},queueEventHandlerOnThread_iiii:function(r,t,u,_,b){var W=gt(),I=xt(12);F()[I>>2]=u,F()[I+4>>2]=_,F()[I+8>>2]=b,_t(0,r,637534208,t,_,I),wt(W)},getTargetThreadForEventCallback:function(r){switch(r){case 1:return 0;case 2:return nr.currentProxiedOperationCallerThread;default:return r}},getNodeNameForTarget:function(r){return r?r==window?"#window":r==screen?"#screen":r&&r.nodeName?r.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function Nn(r){var t=Hr(r)+1,u=Tt(t);return Er(r,u,t),u}function ft(r,t,u,_){var b=gt(),W=xt(12),I=0;t&&(I=Nn(t)),F()[W>>2]=I,F()[W+4>>2]=u,F()[W+8>>2]=_,_t(0,r,657457152,0,I,W),wt(b)}function Fr(r,t,u,_){t=t?Yr(t):"",ft(r,t,u,_)}function he(r){return r>2?Yr(r):r}var tt=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function Un(r){r=he(r);var t=tt[r]||(typeof document<"u"?document.querySelector(r):void 0);return t}function yt(r){return Un(r)}function Ct(r,t,u){var _=yt(r);if(!_)return-4;if(_.canvasSharedPtr&&(F()[_.canvasSharedPtr>>2]=t,F()[_.canvasSharedPtr+4>>2]=u),_.offscreenCanvas||!_.controlTransferredOffscreen){_.offscreenCanvas&&(_=_.offscreenCanvas);var b=!1;if(_.GLctxObject&&_.GLctxObject.GLctx){var W=_.GLctxObject.GLctx.getParameter(2978);b=W[0]===0&&W[1]===0&&W[2]===_.width&&W[3]===_.height}_.width=t,_.height=u,b&&_.GLctxObject.GLctx.viewport(0,0,t,u)}else if(_.canvasSharedPtr){var I=F()[_.canvasSharedPtr+8>>2];return Fr(I,r,t,u),1}else return-4;return 0}function Ot(r,t,u){return mr?tr(4,1,r,t,u):Ct(r,t,u)}function fi(r,t,u){var _=yt(r);return _?Ct(r,t,u):Ot(r,t,u)}function an(r){}function si(r){var t=r.getExtension("ANGLE_instanced_arrays");if(t)return r.vertexAttribDivisor=function(u,_){t.vertexAttribDivisorANGLE(u,_)},r.drawArraysInstanced=function(u,_,b,W){t.drawArraysInstancedANGLE(u,_,b,W)},r.drawElementsInstanced=function(u,_,b,W,I){t.drawElementsInstancedANGLE(u,_,b,W,I)},1}function ci(r){var t=r.getExtension("OES_vertex_array_object");if(t)return r.createVertexArray=function(){return t.createVertexArrayOES()},r.deleteVertexArray=function(u){t.deleteVertexArrayOES(u)},r.bindVertexArray=function(u){t.bindVertexArrayOES(u)},r.isVertexArray=function(u){return t.isVertexArrayOES(u)},1}function li(r){var t=r.getExtension("WEBGL_draw_buffers");if(t)return r.drawBuffers=function(u,_){t.drawBuffersWEBGL(u,_)},1}function je(r){return!!(r.multiDrawWebgl=r.getExtension("WEBGL_multi_draw"))}var lt={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(t){lt.lastError||(lt.lastError=t)},getNewId:function(r){for(var t=lt.counter++,u=r.length;u<t;u++)r[u]=null;return t},getSource:function(r,t,u,_){for(var b="",W=0;W<t;++W){var I=_?F()[_+W*4>>2]:-1;b+=Yr(F()[u+W*4>>2],I<0?void 0:I)}return b},createContext:function(r,t){r.getContextSafariWebGL2Fixed||(r.getContextSafariWebGL2Fixed=r.getContext,r.getContext=function(b,W){var I=r.getContextSafariWebGL2Fixed(b,W);return b=="webgl"==I instanceof WebGLRenderingContext?I:null});var u=r.getContext("webgl",t);if(!u)return 0;var _=lt.registerContext(u,t);return _},registerContext:function(r,t){var u=Tt(8);F()[u+4>>2]=St();var _={handle:u,attributes:t,version:t.majorVersion,GLctx:r};return r.canvas&&(r.canvas.GLctxObject=_),lt.contexts[u]=_,(typeof t.enableExtensionsByDefault>"u"||t.enableExtensionsByDefault)&&lt.initExtensions(_),u},makeContextCurrent:function(r){return lt.currentContext=lt.contexts[r],a.ctx=Qt=lt.currentContext&&lt.currentContext.GLctx,!(r&&!Qt)},getContext:function(r){return lt.contexts[r]},deleteContext:function(r){lt.currentContext===lt.contexts[r]&&(lt.currentContext=null),typeof Zr=="object"&&Zr.removeAllHandlersOnTarget(lt.contexts[r].GLctx.canvas),lt.contexts[r]&&lt.contexts[r].GLctx.canvas&&(lt.contexts[r].GLctx.canvas.GLctxObject=void 0),vt(lt.contexts[r].handle),lt.contexts[r]=null},initExtensions:function(r){if(r||(r=lt.currentContext),!r.initExtensionsDone){r.initExtensionsDone=!0;var t=r.GLctx;si(t),ci(t),li(t),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query"),je(t);var u=t.getSupportedExtensions()||[];u.forEach(function(_){!_.includes("lose_context")&&!_.includes("debug")&&t.getExtension(_)})}}},Zt=["default","low-power","high-performance"];function $t(r,t){var u=t>>2,_=F()[u+6],b={alpha:!!F()[u+0],depth:!!F()[u+1],stencil:!!F()[u+2],antialias:!!F()[u+3],premultipliedAlpha:!!F()[u+4],preserveDrawingBuffer:!!F()[u+5],powerPreference:Zt[_],failIfMajorPerformanceCaveat:!!F()[u+7],majorVersion:F()[u+8],minorVersion:F()[u+9],enableExtensionsByDefault:F()[u+10],explicitSwapControl:F()[u+11],proxyContextToMainThread:F()[u+12],renderViaOffscreenBackBuffer:F()[u+13]},W=yt(r);if(!W||b.explicitSwapControl)return 0;var I=lt.createContext(W,b);return I}function Yt(r,t){return $t(r,t)}function ui(r){return mr?tr(5,1,r):0}function kt(r,t,u,_){if(mr)return tr(6,1,r,t,u,_);var b=Ne.getStreamFromFD(r),W=Ne.doReadv(b,t,u);return F()[_>>2]=W,0}function Lt(r,t,u,_,b){if(mr)return tr(7,1,r,t,u,_,b)}function Kt(r,t,u,_){if(mr)return tr(8,1,r,t,u,_);for(var b=0,W=0;W<u;W++){for(var I=F()[t+W*8>>2],x=F()[t+(W*8+4)>>2],ar=0;ar<x;ar++)Ne.printChar(r,lr()[I+ar]);b+=x}return F()[_>>2]=b,0}function ri(){return Gr()}function qt(r){var t=nr.threadExitHandlers.pop();r&&t()}function Xt(r){if(mr)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var t=nr.getNewWorker();if(!t)return 6;if(t.pthread!==void 0)throw"Internal error!";if(!r.pthread_ptr)throw"Internal error, no pthread ptr!";nr.runningWorkers.push(t);for(var u=Tt(128*4),_=0;_<128;++_)F()[u+_*4>>2]=0;var b=r.stackBase+r.stackSize,W=nr.pthreads[r.pthread_ptr]={worker:t,stackBase:r.stackBase,stackSize:r.stackSize,allocatedOwnStack:r.allocatedOwnStack,threadInfoStruct:r.pthread_ptr},I=W.threadInfoStruct>>2;Atomics.store(er(),I+16,r.detached),Atomics.store(er(),I+25,u),Atomics.store(er(),I+10,W.threadInfoStruct),Atomics.store(er(),I+20,r.stackSize),Atomics.store(er(),I+19,b),Atomics.store(er(),I+26,r.stackSize),Atomics.store(er(),I+(104+8>>2),b),Atomics.store(er(),I+(104+12>>2),r.detached);var x=Wt(),ar=x+40;Atomics.store(er(),I+43,ar),t.pthread=W;var pr={cmd:"run",start_routine:r.startRoutine,arg:r.arg,threadInfoStruct:r.pthread_ptr,stackBase:r.stackBase,stackSize:r.stackSize};return t.runPthread=function(){pr.time=performance.now(),t.postMessage(pr,r.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}function ei(r,t,u,_){if(typeof SharedArrayBuffer>"u")return Qr("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!r)return Qr("pthread_create called with a null thread pointer!"),28;var b=[],W=0;if(mr&&(b.length===0||W))return Nt(687865856,r,t,u,_);var I=0,x=0,ar=0;t&&t!=-1?(I=F()[t>>2],I+=81920,x=F()[t+8>>2],ar=F()[t+12>>2]!==0):I=2097152;var pr=x==0;pr?x=v(16,I):(x-=I,jr(x>0));for(var Ar=Tt(228),Or=0;Or<57;++Or)er()[(Ar>>2)+Or]=0;F()[r>>2]=Ar,F()[Ar+12>>2]=Ar;var Te=Ar+152;F()[Te>>2]=Te;var on={stackBase:x,stackSize:I,allocatedOwnStack:pr,detached:ar,startRoutine:u,pthread_ptr:Ar,arg:_,transferList:b};return mr?(on.cmd="spawnThread",postMessage(on,b),0):Xt(on)}function it(){if(mr){var r=St();if(r){var t=Atomics.load(er(),r+56>>2);if(!t){var u=Atomics.load(er(),r+0>>2);if(u==2)throw"Canceled!"}}}}function Et(r,t,u){if(!r)return Qr("pthread_join attempted on a null thread pointer!"),se.ESRCH;if(mr&&St()==r)return Qr("PThread "+r+" is attempting to join to itself!"),se.EDEADLK;if(!mr&&At()==r)return Qr("Main thread "+r+" is attempting to join to itself!"),se.EDEADLK;var _=F()[r+12>>2];if(_!==r)return Qr("pthread_join attempted on thread "+r+", which does not point to a valid thread, or does not exist anymore!"),se.ESRCH;var b=Atomics.load(er(),r+64>>2);if(b)return Qr("Attempted to join thread "+r+", which was already detached!"),se.EINVAL;for(;;){var W=Atomics.load(er(),r+0>>2);if(W==1){var I=Atomics.load(er(),r+4>>2);return t&&(F()[t>>2]=I),Atomics.store(er(),r+64>>2,1),mr?postMessage({cmd:"cleanupThread",thread:r}):nn(r),0}if(!u)return se.EBUSY;it(),mr||Pt(),H(r+0,W,mr?100:1)}}function ni(r,t){return Et(r,t,!0)}function ti(r){In(r)}function ii(r){var t=Date.now()/1e3|0;return r&&(F()[r>>2]=t),t}mr||nr.initMainThreadBlock(),zn=a.InternalError=xn(Error,"InternalError"),qn(),Me=a.BindingError=xn(Error,"BindingError"),Jn(),g=a.UnboundTypeError=xn(Error,"UnboundTypeError");var Qt,Dt=[null,Be,Fn,He,Ot,ui,kt,Lt,Kt],It={k:un,C:_n,u:Be,P:Fn,R:He,F:Kn,I:et,aa:tn,$:Vn,z:kn,E:p,j:B,g:K,A:E,r:S,K:l,h:m,ba:U,Z:q,o:Ye,_:O,D:M,Q:br,i:Nr,y:z,V:w,x:k,l:H,m:Fe,p:te,e:$,M:ur,ea:_r,W:Vr,N:yr,X:fi,w:an,Y:Yt,v:ui,O:kt,H:Lt,S:Kt,c:ri,L:Cn,q:me,s:Tn,t:Cr,J:Dr,G:Yn,n:Q,f:or,d:Z,a:ue||a.wasmMemory,T:qt,U:Xr,B:ei,ca:ni,b:ti,da:ii};en(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.fa).apply(null,arguments)};var Tt=a._malloc=function(){return(Tt=a._malloc=a.asm.ga).apply(null,arguments)},vt=a._free=function(){return(vt=a._free=a.asm.ha).apply(null,arguments)};a._emscripten_tls_init=function(){return(a._emscripten_tls_init=a.asm.ia).apply(null,arguments)};var Rt=a.___getTypeName=function(){return(Rt=a.___getTypeName=a.asm.ka).apply(null,arguments)};a.___embind_register_native_and_builtin_types=function(){return(a.___embind_register_native_and_builtin_types=a.asm.la).apply(null,arguments)},a._emscripten_current_thread_process_queued_calls=function(){return(a._emscripten_current_thread_process_queued_calls=a.asm.ma).apply(null,arguments)};var Jt=a._emscripten_register_main_browser_thread_id=function(){return(Jt=a._emscripten_register_main_browser_thread_id=a.asm.na).apply(null,arguments)},At=a._emscripten_main_browser_thread_id=function(){return(At=a._emscripten_main_browser_thread_id=a.asm.oa).apply(null,arguments)},Vt=a.__emscripten_do_dispatch_to_thread=function(){return(Vt=a.__emscripten_do_dispatch_to_thread=a.asm.pa).apply(null,arguments)},Nt=a._emscripten_sync_run_in_main_thread_4=function(){return(Nt=a._emscripten_sync_run_in_main_thread_4=a.asm.qa).apply(null,arguments)},Pt=a._emscripten_main_thread_process_queued_calls=function(){return(Pt=a._emscripten_main_thread_process_queued_calls=a.asm.ra).apply(null,arguments)},Ht=a._emscripten_run_in_main_runtime_thread_js=function(){return(Ht=a._emscripten_run_in_main_runtime_thread_js=a.asm.sa).apply(null,arguments)},_t=a.__emscripten_call_on_thread=function(){return(_t=a.__emscripten_call_on_thread=a.asm.ta).apply(null,arguments)},Xn=a.__emscripten_thread_init=function(){return(Xn=a.__emscripten_thread_init=a.asm.ua).apply(null,arguments)},St=a._pthread_self=function(){return(St=a._pthread_self=a.asm.va).apply(null,arguments)},Gt=a.___pthread_tsd_run_dtors=function(){return(Gt=a.___pthread_tsd_run_dtors=a.asm.wa).apply(null,arguments)},Wt=a._emscripten_get_global_libc=function(){return(Wt=a._emscripten_get_global_libc=a.asm.xa).apply(null,arguments)},gt=a.stackSave=function(){return(gt=a.stackSave=a.asm.ya).apply(null,arguments)},wt=a.stackRestore=function(){return(wt=a.stackRestore=a.asm.za).apply(null,arguments)},xt=a.stackAlloc=function(){return(xt=a.stackAlloc=a.asm.Aa).apply(null,arguments)},i=a._emscripten_stack_set_limits=function(){return(i=a._emscripten_stack_set_limits=a.asm.Ba).apply(null,arguments)},o=a._setThrew=function(){return(o=a._setThrew=a.asm.Ca).apply(null,arguments)},v=a._memalign=function(){return(v=a._memalign=a.asm.Da).apply(null,arguments)};a.dynCall_jiiiiiiiii=function(){return(a.dynCall_jiiiiiiiii=a.asm.Ea).apply(null,arguments)};var A=a.dynCall_ijiii=function(){return(A=a.dynCall_ijiii=a.asm.Fa).apply(null,arguments)};a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.Ga).apply(null,arguments)},a.dynCall_jiiiiiiii=function(){return(a.dynCall_jiiiiiiii=a.asm.Ha).apply(null,arguments)},a.dynCall_jiiiiii=function(){return(a.dynCall_jiiiiii=a.asm.Ia).apply(null,arguments)},a.dynCall_jiiiii=function(){return(a.dynCall_jiiiii=a.asm.Ja).apply(null,arguments)},a.dynCall_iiijii=function(){return(a.dynCall_iiijii=a.asm.Ka).apply(null,arguments)};var N=a.__emscripten_allow_main_runtime_queued_calls=600816,Y=a.__emscripten_main_thread_futex=897300;function Q(r,t){var u=gt();try{ye.get(r)(t)}catch(_){if(wt(u),_!==_+0&&_!=="longjmp")throw _;o(1,0)}}function Z(r,t,u,_,b){var W=gt();try{ye.get(r)(t,u,_,b)}catch(I){if(wt(W),I!==I+0&&I!=="longjmp")throw I;o(1,0)}}function or(r,t,u){var _=gt();try{ye.get(r)(t,u)}catch(b){if(wt(_),b!==b+0&&b!=="longjmp")throw b;o(1,0)}}function Cr(r,t,u,_,b,W,I,x,ar,pr){var Ar=gt();try{return ye.get(r)(t,u,_,b,W,I,x,ar,pr)}catch(Or){if(wt(Ar),Or!==Or+0&&Or!=="longjmp")throw Or;o(1,0)}}function Dr(r,t,u,_,b,W,I,x,ar,pr,Ar,Or){var Te=gt();try{return ye.get(r)(t,u,_,b,W,I,x,ar,pr,Ar,Or)}catch(on){if(wt(Te),on!==on+0&&on!=="longjmp")throw on;o(1,0)}}function me(r,t,u,_,b){var W=gt();try{return ye.get(r)(t,u,_,b)}catch(I){if(wt(W),I!==I+0&&I!=="longjmp")throw I;o(1,0)}}function Tn(r,t,u,_,b,W,I,x,ar){var pr=gt();try{return ye.get(r)(t,u,_,b,W,I,x,ar)}catch(Ar){if(wt(pr),Ar!==Ar+0&&Ar!=="longjmp")throw Ar;o(1,0)}}function Yn(r,t,u,_,b,W){var I=gt();try{return A(r,t,u,_,b,W)}catch(x){if(wt(I),x!==x+0&&x!=="longjmp")throw x;o(1,0)}}a.PThread=nr,a.PThread=nr,a.wasmMemory=ue,a.ExitStatus=ht;var Zn;function ht(r){this.name="ExitStatus",this.message="Program terminated with exit("+r+")",this.status=r}de=function r(){Zn||bt(),Zn||(de=r)};function bt(r){if(pe>0)return;if(mr){Ie(a),Ce(),postMessage({cmd:"loaded"});return}if(ze(),pe>0)return;function t(){Zn||(Zn=!0,a.calledRun=!0,!Kr&&(Ce(),Ie(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),rn()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t()}a.run=bt;function n(r,t){if(!(t&&Sr()&&r===0)){if(!t&&mr)throw postMessage({cmd:"exitProcess",returnCode:r}),new ht(r);Sr()||(nr.terminateAllThreads(),a.onExit&&a.onExit(r),Kr=!0),cn(r,new ht(r))}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return mr&&(we=!1,nr.initWorker()),bt(),a.ready}}(),Oo=Po,ko=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(w,k){lr=w,Tr=k});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er="";function kr(w){return e.locateFile?e.locateFile(w,er):er+w}er=self.location.href,G&&(er=G),er.indexOf("blob:")!==0?er=er.substr(0,er.lastIndexOf("/")+1):er="";var Ir=e.print||console.log.bind(console),a=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var Ie=0,_e=function(w){Ie=w},$r=function(){return Ie};e.wasmBinary&&e.wasmBinary,e.noExitRuntime,typeof WebAssembly!="object"&&Ue("no native wasm support detected");var xr,cn=!1,vn=new TextDecoder("utf8");function mr(w,k,H){for(var J=k+H,$=k;w[$]&&!($>=J);)++$;return vn.decode(w.subarray?w.subarray(k,$):new Uint8Array(w.slice(k,$)))}function wr(w,k){if(!w)return"";for(var H=w+k,J=w;!(J>=H)&&Rr[J];)++J;return vn.decode(Rr.subarray(w,J))}function Ve(w,k,H,J){if(!(J>0))return 0;for(var $=H,ur=H+J-1,_r=0;_r<w.length;++_r){var tr=w.charCodeAt(_r);if(tr>=55296&&tr<=57343){var gr=w.charCodeAt(++_r);tr=65536+((tr&1023)<<10)|gr&1023}if(tr<=127){if(H>=ur)break;k[H++]=tr}else if(tr<=2047){if(H+1>=ur)break;k[H++]=192|tr>>6,k[H++]=128|tr&63}else if(tr<=65535){if(H+2>=ur)break;k[H++]=224|tr>>12,k[H++]=128|tr>>6&63,k[H++]=128|tr&63}else{if(H+3>=ur)break;k[H++]=240|tr>>18,k[H++]=128|tr>>12&63,k[H++]=128|tr>>6&63,k[H++]=128|tr&63}}return k[H]=0,H-$}function Hn(w,k,H){return Ve(w,Rr,k,H)}function jn(w){for(var k=0,H=0;H<w.length;++H){var J=w.charCodeAt(H);J>=55296&&J<=57343&&(J=65536+((J&1023)<<10)|w.charCodeAt(++H)&1023),J<=127?++k:J<=2047?k+=2:J<=65535?k+=3:k+=4}return k}var Qr=new TextDecoder("utf-16le");function ce(w,k){for(var H=w,J=H>>1,$=J+k/2;!(J>=$)&&qr[J];)++J;return H=J<<1,Qr.decode(Rr.subarray(w,H))}function In(w,k,H){if(H===void 0&&(H=2147483647),H<2)return 0;H-=2;for(var J=k,$=H<w.length*2?H/2:w.length,ur=0;ur<$;++ur){var _r=w.charCodeAt(ur);Yr[k>>1]=_r,k+=2}return Yr[k>>1]=0,k-J}function Gr(w){return w.length*2}function Wr(w,k){for(var H=0,J="";!(H>=k/4);){var $=Er[w+H*4>>2];if($==0)break;if(++H,$>=65536){var ur=$-65536;J+=String.fromCharCode(55296|ur>>10,56320|ur&1023)}else J+=String.fromCharCode($)}return J}function we(w,k,H){if(H===void 0&&(H=2147483647),H<4)return 0;for(var J=k,$=J+H-4,ur=0;ur<w.length;++ur){var _r=w.charCodeAt(ur);if(_r>=55296&&_r<=57343){var tr=w.charCodeAt(++ur);_r=65536+((_r&1023)<<10)|tr&1023}if(Er[k>>2]=_r,k+=4,k+4>$)break}return Er[k>>2]=0,k-J}function ue(w){for(var k=0,H=0;H<w.length;++H){var J=w.charCodeAt(H);J>=55296&&J<=57343&&++H,k+=4}return k}function pn(w,k){return w%k>0&&(w+=k-w%k),w}var Kr,jr,Rr,Yr,qr,Er,Hr,be,Mr;function qe(w){Kr=w,e.HEAP8=jr=new Int8Array(w),e.HEAP16=Yr=new Int16Array(w),e.HEAP32=Er=new Int32Array(w),e.HEAPU8=Rr=new Uint8Array(w),e.HEAPU16=qr=new Uint16Array(w),e.HEAPU32=Hr=new Uint32Array(w),e.HEAPF32=be=new Float32Array(w),e.HEAPF64=Mr=new Float64Array(w)}e.INITIAL_MEMORY;var Re,fe=[],bn=[],Ze=[];function Jr(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Qn(e.preRun.shift());ze(fe)}function $e(){ze(bn)}function gn(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)An(e.postRun.shift());ze(Ze)}function Qn(w){fe.unshift(w)}function Pn(w){bn.unshift(w)}function An(w){Ze.unshift(w)}var ae=0,Le=null;function Ae(w){ae++,e.monitorRunDependencies&&e.monitorRunDependencies(ae)}function oe(w){if(ae--,e.monitorRunDependencies&&e.monitorRunDependencies(ae),ae==0&&Le){var k=Le;Le=null,k()}}e.preloadedImages={},e.preloadedAudios={};function Ue(w){e.onAbort&&e.onAbort(w),w+="",a(w),cn=!0,w="abort("+w+"). Build with -s ASSERTIONS=1 for more info.";var k=new WebAssembly.RuntimeError(w);throw Tr(k),k}var ye="data:application/octet-stream;base64,";function Mn(w){return w.startsWith(ye)}if(e.locateFile){var re="avif_enc.wasm";Mn(re)||(re=kr(re))}else var re=new URL("../wasm/avif_enc.wasm",self.location).toString();function Rn(){var w={a:R};function k(_r,tr){var gr=_r.exports;e.asm=gr,xr=e.asm.T,qe(xr.buffer),Re=e.asm.aa,Pn(e.asm.U),oe()}Ae();function H(_r){k(_r.instance)}function J(_r){var tr=WebAssembly.instantiate(di,w);return tr.then(_r,function(gr){a("failed to asynchronously prepare wasm: "+gr),Ue(gr)})}function $(){return J(H)}if(e.instantiateWasm)try{var ur=e.instantiateWasm(w,k);return ur}catch(_r){return a("Module17.instantiateWasm callback failed with error: "+_r),!1}return $().catch(Tr),{}}function ze(w){for(;w.length>0;){var k=w.shift();if(typeof k=="function"){k(e);continue}var H=k.func;typeof H=="number"?k.arg===void 0?Re.get(H)():Re.get(H)(k.arg):H(k.arg===void 0?null:k.arg)}}function Ce(w,k){}function rn(w,k){return void 0}var le={mappings:{},buffers:[null,[],[]],printChar:function(w,k){var H=le.buffers[w];k===0||k===10?((w===1?Ir:a)(mr(H,0)),H.length=0):H.push(k)},varargs:void 0,get:function(){le.varargs+=4;var w=Er[le.varargs-4>>2];return w},getStr:function(w){var k=wr(w);return k},get64:function(w,k){return w}};function xe(w,k,H){return le.varargs=H,0}function st(w,k,H){return le.varargs=H,0}function pe(w,k,H){le.varargs=H}var de={};function hn(w){for(;w.length;){var k=w.pop(),H=w.pop();H(k)}}function We(w){return this.fromWireType(Hr[w>>2])}var Lr={},Se={},Pe={},Br=48,Ee=57;function Ke(w){if(w===void 0)return"_unknown";w=w.replace(/[^a-zA-Z0-9_]/g,"$");var k=w.charCodeAt(0);return k>=Br&&k<=Ee?"_"+w:w}function en(w,k){return w=Ke(w),new Function("body","return function "+w+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(k)}function Ur(w,k){var H=en(k,function(J){this.name=k,this.message=J;var $=new Error(J).stack;$!==void 0&&(this.stack=this.toString()+`
`+$.replace(/^Error(:[^\n]*)?\n/,""))});return H.prototype=Object.create(w.prototype),H.prototype.constructor=H,H.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},H}var Cn=void 0;function ee(w){throw new Cn(w)}function se(w,k,H){w.forEach(function(tr){Pe[tr]=k});function J(tr){var gr=H(tr);gr.length!==w.length&&ee("Mismatched type converter count");for(var Vr=0;Vr<w.length;++Vr)Sr(w[Vr],gr[Vr])}var $=new Array(k.length),ur=[],_r=0;k.forEach(function(tr,gr){Se.hasOwnProperty(tr)?$[gr]=Se[tr]:(ur.push(tr),Lr.hasOwnProperty(tr)||(Lr[tr]=[]),Lr[tr].push(function(){$[gr]=Se[tr],++_r,_r===ur.length&&J($)}))}),ur.length===0&&J($)}function Fe(w){var k=de[w];delete de[w];var H=k.rawConstructor,J=k.rawDestructor,$=k.fields,ur=$.map(function(_r){return _r.getterReturnType}).concat($.map(function(_r){return _r.setterArgumentType}));se([w],ur,function(_r){var tr={};return $.forEach(function(gr,Vr){var ve=gr.fieldName,yr=_r[Vr],Zr=gr.getter,Nn=gr.getterContext,ft=_r[Vr+$.length],Fr=gr.setter,he=gr.setterContext;tr[ve]={read:function(tt){return yr.fromWireType(Zr(Nn,tt))},write:function(tt,Un){var yt=[];Fr(he,tt,ft.toWireType(yt,Un)),hn(yt)}}}),[{name:k.name,fromWireType:function(gr){var Vr={};for(var ve in tr)Vr[ve]=tr[ve].read(gr);return J(gr),Vr},toWireType:function(gr,Vr){for(var ve in tr)if(!(ve in Vr))throw new TypeError('Missing field:  "'+ve+'"');var yr=H();for(ve in tr)tr[ve].write(yr,Vr[ve]);return gr!==null&&gr.push(J,yr),yr},argPackAdvance:8,readValueFromPointer:We,destructorFunction:J}]})}function vr(w,k,H,J,$){}function ne(w){switch(w){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+w)}}function nn(){for(var w=new Array(256),k=0;k<256;++k)w[k]=String.fromCharCode(k);nr=w}var nr=void 0;function ge(w){for(var k="",H=w;Rr[H];)k+=nr[Rr[H++]];return k}var Ge=void 0;function ie(w){throw new Ge(w)}function Sr(w,k,H){if(H=H||{},!("argPackAdvance"in k))throw new TypeError("registerType registeredInstance requires argPackAdvance");var J=k.name;if(w||ie('type "'+J+'" must have a positive integer typeid pointer'),Se.hasOwnProperty(w)){if(H.ignoreDuplicateRegistrations)return;ie("Cannot register type '"+J+"' twice")}if(Se[w]=k,delete Pe[w],Lr.hasOwnProperty(w)){var $=Lr[w];delete Lr[w],$.forEach(function(ur){ur()})}}function un(w,k,H,J,$){var ur=ne(H);k=ge(k),Sr(w,{name:k,fromWireType:function(_r){return!!_r},toWireType:function(_r,tr){return tr?J:$},argPackAdvance:8,readValueFromPointer:function(_r){var tr;if(H===1)tr=jr;else if(H===2)tr=Yr;else if(H===4)tr=Er;else throw new TypeError("Unknown boolean type size: "+k);return this.fromWireType(tr[_r>>ur])},destructorFunction:null})}var te=[],Xr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function _n(w){w>4&&--Xr[w].refcount===0&&(Xr[w]=void 0,te.push(w))}function Ne(){for(var w=0,k=5;k<Xr.length;++k)Xr[k]!==void 0&&++w;return w}function Be(){for(var w=5;w<Xr.length;++w)if(Xr[w]!==void 0)return Xr[w];return null}function Fn(){e.count_emval_handles=Ne,e.get_first_emval=Be}function He(w){switch(w){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var k=te.length?te.pop():Xr.length;return Xr[k]={refcount:1,value:w},k}}}function fn(w,k){k=ge(k),Sr(w,{name:k,fromWireType:function(H){var J=Xr[H].value;return _n(H),J},toWireType:function(H,J){return He(J)},argPackAdvance:8,readValueFromPointer:We,destructorFunction:null})}function Qe(w){if(w===null)return"null";var k=typeof w;return k==="object"||k==="array"||k==="function"?w.toString():""+w}function yn(w,k){switch(k){case 2:return function(H){return this.fromWireType(be[H>>2])};case 3:return function(H){return this.fromWireType(Mr[H>>3])};default:throw new TypeError("Unknown float type: "+w)}}function On(w,k,H){var J=ne(H);k=ge(k),Sr(w,{name:k,fromWireType:function($){return $},toWireType:function($,ur){if(typeof ur!="number"&&typeof ur!="boolean")throw new TypeError('Cannot convert "'+Qe(ur)+'" to '+this.name);return ur},argPackAdvance:8,readValueFromPointer:yn(k,J),destructorFunction:null})}function Je(w,k){if(!(w instanceof Function))throw new TypeError("new_ called with constructor type "+typeof w+" which is not a function");var H=en(w.name||"unknownFunctionName",function(){});H.prototype=w.prototype;var J=new H,$=w.apply(J,k);return $ instanceof Object?$:J}function ln(w,k,H,J,$){var ur=k.length;ur<2&&ie("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var _r=k[1]!==null&&H!==null,tr=!1,gr=1;gr<k.length;++gr)if(k[gr]!==null&&k[gr].destructorFunction===void 0){tr=!0;break}for(var Vr=k[0].name!=="void",ve="",yr="",gr=0;gr<ur-2;++gr)ve+=(gr!==0?", ":"")+"arg"+gr,yr+=(gr!==0?", ":"")+"arg"+gr+"Wired";var Zr="return function "+Ke(w)+"("+ve+`) {
if (arguments.length !== `+(ur-2)+`) {
throwBindingError('function `+w+" called with ' + arguments.length + ' arguments, expected "+(ur-2)+` args!');
}
`;tr&&(Zr+=`var destructors = [];
`);var Nn=tr?"destructors":"null",ft=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Fr=[ie,J,$,hn,k[0],k[1]];_r&&(Zr+="var thisWired = classParam.toWireType("+Nn+`, this);
`);for(var gr=0;gr<ur-2;++gr)Zr+="var arg"+gr+"Wired = argType"+gr+".toWireType("+Nn+", arg"+gr+"); // "+k[gr+2].name+`
`,ft.push("argType"+gr),Fr.push(k[gr+2]);if(_r&&(yr="thisWired"+(yr.length>0?", ":"")+yr),Zr+=(Vr?"var rv = ":"")+"invoker(fn"+(yr.length>0?", ":"")+yr+`);
`,tr)Zr+=`runDestructors(destructors);
`;else for(var gr=_r?1:2;gr<k.length;++gr){var he=gr===1?"thisWired":"arg"+(gr-2)+"Wired";k[gr].destructorFunction!==null&&(Zr+=he+"_dtor("+he+"); // "+k[gr].name+`
`,ft.push(he+"_dtor"),Fr.push(k[gr].destructorFunction))}Vr&&(Zr+=`var ret = retType.fromWireType(rv);
return ret;
`),Zr+=`}
`,ft.push(Zr);var tt=Je(Function,ft).apply(null,Fr);return tt}function Ln(w,k,H){if(w[k].overloadTable===void 0){var J=w[k];w[k]=function(){return w[k].overloadTable.hasOwnProperty(arguments.length)||ie("Function '"+H+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+w[k].overloadTable+")!"),w[k].overloadTable[arguments.length].apply(this,arguments)},w[k].overloadTable=[],w[k].overloadTable[J.argCount]=J}}function $n(w,k,H){e.hasOwnProperty(w)?((H===void 0||e[w].overloadTable!==void 0&&e[w].overloadTable[H]!==void 0)&&ie("Cannot register public name '"+w+"' twice"),Ln(e,w,w),e.hasOwnProperty(H)&&ie("Cannot register multiple overloads of a function with the same number of arguments ("+H+")!"),e[w].overloadTable[H]=k):(e[w]=k,H!==void 0&&(e[w].numArguments=H))}function rt(w,k){for(var H=[],J=0;J<w;J++)H.push(Er[(k>>2)+J]);return H}function En(w,k,H){e.hasOwnProperty(w)||ee("Replacing nonexistant public symbol"),e[w].overloadTable!==void 0&&H!==void 0?e[w].overloadTable[H]=k:(e[w]=k,e[w].argCount=H)}function xn(w,k,H){var J=e["dynCall_"+w];return H&&H.length?J.apply(null,[k].concat(H)):J.call(null,k)}function zn(w,k,H){return w.includes("j")?xn(w,k,H):Re.get(k).apply(null,H)}function Bn(w,k){var H=[];return function(){H.length=arguments.length;for(var J=0;J<arguments.length;J++)H[J]=arguments[J];return zn(w,k,H)}}function wn(w,k){w=ge(w);function H(){return w.includes("j")?Bn(w,k):Re.get(k)}var J=H();return typeof J!="function"&&ie("unknown function pointer with signature "+w+": "+k),J}var Kn=void 0;function et(w){var k=E(w),H=ge(k);return K(k),H}function Oe(w,k){var H=[],J={};function $(ur){if(!J[ur]&&!Se[ur]){if(Pe[ur]){Pe[ur].forEach($);return}H.push(ur),J[ur]=!0}}throw k.forEach($),new Kn(w+": "+H.map(et).join([", "]))}function qn(w,k,H,J,$,ur){var _r=rt(k,H);w=ge(w),$=wn(J,$),$n(w,function(){Oe("Cannot call "+w+" due to unbound types",_r)},k-1),se([],_r,function(tr){var gr=[tr[0],null].concat(tr.slice(1));return En(w,ln(w,gr,null,$,ur),k-1),[]})}function De(w,k,H){switch(k){case 0:return H?function($){return jr[$]}:function($){return Rr[$]};case 1:return H?function($){return Yr[$>>1]}:function($){return qr[$>>1]};case 2:return H?function($){return Er[$>>2]}:function($){return Hr[$>>2]};default:throw new TypeError("Unknown integer type: "+w)}}function ke(w,k,H,J,$){k=ge(k),$===-1&&($=4294967295);var ur=ne(H),_r=function(Vr){return Vr};if(J===0){var tr=32-8*H;_r=function(Vr){return Vr<<tr>>>tr}}var gr=k.includes("unsigned");Sr(w,{name:k,fromWireType:_r,toWireType:function(Vr,ve){if(typeof ve!="number"&&typeof ve!="boolean")throw new TypeError('Cannot convert "'+Qe(ve)+'" to '+this.name);if(ve<J||ve>$)throw new TypeError('Passing a number "'+Qe(ve)+'" from JS side to C/C++ side to an argument of type "'+k+'", which is outside the valid range ['+J+", "+$+"]!");return gr?ve>>>0:ve|0},argPackAdvance:8,readValueFromPointer:De(k,ur,J!==0),destructorFunction:null})}function Me(w,k,H){var J=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],$=J[k];function ur(_r){_r=_r>>2;var tr=Hr,gr=tr[_r],Vr=tr[_r+1];return new $(Kr,Vr,gr)}H=ge(H),Sr(w,{name:H,fromWireType:ur,argPackAdvance:8,readValueFromPointer:ur},{ignoreDuplicateRegistrations:!0})}function sn(w,k){k=ge(k);var H=k==="std::string";Sr(w,{name:k,fromWireType:function(J){var $=Hr[J>>2],ur;if(H)for(var _r=J+4,tr=0;tr<=$;++tr){var gr=J+4+tr;if(tr==$||Rr[gr]==0){var Vr=gr-_r,ve=wr(_r,Vr);ur===void 0?ur=ve:(ur+=String.fromCharCode(0),ur+=ve),_r=gr+1}}else{for(var yr=new Array($),tr=0;tr<$;++tr)yr[tr]=String.fromCharCode(Rr[J+4+tr]);ur=yr.join("")}return K(J),ur},toWireType:function(J,$){$ instanceof ArrayBuffer&&($=new Uint8Array($));var ur,_r=typeof $=="string";_r||$ instanceof Uint8Array||$ instanceof Uint8ClampedArray||$ instanceof Int8Array||ie("Cannot pass non-string to std::string"),H&&_r?ur=function(){return jn($)}:ur=function(){return $.length};var tr=ur(),gr=B(4+tr+1);if(Hr[gr>>2]=tr,H&&_r)Hn($,gr+4,tr+1);else if(_r)for(var Vr=0;Vr<tr;++Vr){var ve=$.charCodeAt(Vr);ve>255&&(K(gr),ie("String has UTF-16 code units that do not fit in 8 bits")),Rr[gr+4+Vr]=ve}else for(var Vr=0;Vr<tr;++Vr)Rr[gr+4+Vr]=$[Vr];return J!==null&&J.push(K,gr),gr},argPackAdvance:8,readValueFromPointer:We,destructorFunction:function(J){K(J)}})}function zr(w,k,H){H=ge(H);var J,$,ur,_r,tr;k===2?(J=ce,$=In,_r=Gr,ur=function(){return qr},tr=1):k===4&&(J=Wr,$=we,_r=ue,ur=function(){return Hr},tr=2),Sr(w,{name:H,fromWireType:function(gr){for(var Vr=Hr[gr>>2],ve=ur(),yr,Zr=gr+4,Nn=0;Nn<=Vr;++Nn){var ft=gr+4+Nn*k;if(Nn==Vr||ve[ft>>tr]==0){var Fr=ft-Zr,he=J(Zr,Fr);yr===void 0?yr=he:(yr+=String.fromCharCode(0),yr+=he),Zr=ft+k}}return K(gr),yr},toWireType:function(gr,Vr){typeof Vr!="string"&&ie("Cannot pass non-string to C++ string type "+H);var ve=_r(Vr),yr=B(4+ve+k);return Hr[yr>>2]=ve>>tr,$(Vr,yr+4,ve+k),gr!==null&&gr.push(K,yr),yr},argPackAdvance:8,readValueFromPointer:We,destructorFunction:function(gr){K(gr)}})}function tn(w,k,H,J,$,ur){de[w]={name:ge(k),rawConstructor:wn(H,J),rawDestructor:wn($,ur),fields:[]}}function at(w,k,H,J,$,ur,_r,tr,gr,Vr){de[w].fields.push({fieldName:ge(k),getterReturnType:H,getter:wn(J,$),getterContext:ur,setterArgumentType:_r,setter:wn(tr,gr),setterContext:Vr})}function dn(w,k){k=ge(k),Sr(w,{isVoid:!0,name:k,argPackAdvance:0,fromWireType:function(){},toWireType:function(H,J){}})}var Ye={};function Sn(w){var k=Ye[w];return k===void 0?ge(w):k}function ct(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Jn(w){return w===0?He(ct()):(w=Sn(w),He(ct()[w]))}function nt(w){w>4&&(Xr[w].refcount+=1)}function Vn(w,k){var H=Se[w];return H===void 0&&ie(k+" has unknown type "+et(w)),H}function ot(w){for(var k="",H=0;H<w;++H)k+=(H!==0?", ":"")+"arg"+H;for(var J="return function emval_allocator_"+w+`(constructor, argTypes, args) {
`,H=0;H<w;++H)J+="var argType"+H+" = requireRegisteredType(Module17['HEAP32'][(argTypes >>> 2) + "+H+'], "parameter '+H+`");
var arg`+H+" = argType"+H+`.readValueFromPointer(args);
args += argType`+H+`['argPackAdvance'];
`;return J+="var obj = new constructor("+k+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module17","__emval_register",J)(Vn,e,He)}var Gn={};function kn(w){return w||ie("Cannot use deleted val. handle = "+w),Xr[w].value}function ut(w,k,H,J){w=kn(w);var $=Gn[k];return $||($=ot(k),Gn[k]=$),$(w,H,J)}function mn(){Ue()}function Wn(w,k){throw m(w,k||1),"longjmp"}function V(w,k){return Wn(w,k)}function X(w,k,H){Rr.copyWithin(w,k,k+H)}function C(w){try{return xr.grow(w-Kr.byteLength+65535>>>16),qe(xr.buffer),1}catch{}}function d(w){var k=Rr.length;w=w>>>0;var H=2147483648;if(w>H)return!1;for(var J=1;J<=4;J*=2){var $=k*(1+.2/J);$=Math.min($,w+100663296);var ur=Math.min(H,pn(Math.max(w,$),65536)),_r=C(ur);if(_r)return!0}return!1}function y(w){return 0}function P(w,k,H,J){var $=le.getStreamFromFD(w),ur=le.doReadv($,k,H);return Er[J>>2]=ur,0}function j(w,k,H,J,$){}function g(w,k,H,J){for(var $=0,ur=0;ur<H;ur++){for(var _r=Er[k+ur*8>>2],tr=Er[k+(ur*8+4)>>2],gr=0;gr<tr;gr++)le.printChar(w,Rr[_r+gr]);$+=tr}return Er[J>>2]=$,0}function T(){return $r()}function c(w){_e(w)}function p(w){var k=Date.now()/1e3|0;return w&&(Er[w>>2]=k),k}Cn=e.InternalError=Ur(Error,"InternalError"),nn(),Ge=e.BindingError=Ur(Error,"BindingError"),Fn(),Kn=e.UnboundTypeError=Ur(Error,"UnboundTypeError");var R={S:rn,u:xe,K:st,L:pe,A:Fe,D:vr,O:un,N:fn,w:On,z:qn,j:ke,f:Me,x:sn,p:zr,F:tn,g:at,P:dn,m:_n,R:Jn,y:nt,H:ut,e:mn,d:V,I:X,o:d,v:y,J:P,C:j,M:g,b:T,i:rr,k:O,s:M,G:sr,B:D,l:s,h:q,t:h,c:f,E:Nr,q:br,n:ir,r:fr,a:c,Q:p};Rn(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.U).apply(null,arguments)};var B=e._malloc=function(){return(B=e._malloc=e.asm.V).apply(null,arguments)},K=e._free=function(){return(K=e._free=e.asm.W).apply(null,arguments)},E=e.___getTypeName=function(){return(E=e.___getTypeName=e.asm.X).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.Y).apply(null,arguments)};var S=e.stackSave=function(){return(S=e.stackSave=e.asm.Z).apply(null,arguments)},l=e.stackRestore=function(){return(l=e.stackRestore=e.asm._).apply(null,arguments)},m=e._setThrew=function(){return(m=e._setThrew=e.asm.$).apply(null,arguments)};e.dynCall_jiiiiiiiii=function(){return(e.dynCall_jiiiiiiiii=e.asm.ba).apply(null,arguments)};var U=e.dynCall_ijiii=function(){return(U=e.dynCall_ijiii=e.asm.ca).apply(null,arguments)};e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.da).apply(null,arguments)},e.dynCall_jiiiiiiii=function(){return(e.dynCall_jiiiiiiii=e.asm.ea).apply(null,arguments)},e.dynCall_jiiiiii=function(){return(e.dynCall_jiiiiii=e.asm.fa).apply(null,arguments)},e.dynCall_jiiiii=function(){return(e.dynCall_jiiiii=e.asm.ga).apply(null,arguments)},e.dynCall_iiijii=function(){return(e.dynCall_iiijii=e.asm.ha).apply(null,arguments)};function q(w,k,H){var J=S();try{Re.get(w)(k,H)}catch($){if(l(J),$!==$+0&&$!=="longjmp")throw $;m(1,0)}}function f(w,k,H,J,$){var ur=S();try{Re.get(w)(k,H,J,$)}catch(_r){if(l(ur),_r!==_r+0&&_r!=="longjmp")throw _r;m(1,0)}}function s(w,k){var H=S();try{Re.get(w)(k)}catch(J){if(l(H),J!==J+0&&J!=="longjmp")throw J;m(1,0)}}function h(w,k,H,J){var $=S();try{Re.get(w)(k,H,J)}catch(ur){if(l($),ur!==ur+0&&ur!=="longjmp")throw ur;m(1,0)}}function O(w,k,H,J,$){var ur=S();try{return Re.get(w)(k,H,J,$)}catch(_r){if(l(ur),_r!==_r+0&&_r!=="longjmp")throw _r;m(1,0)}}function M(w,k,H,J,$,ur,_r,tr,gr,Vr){var ve=S();try{return Re.get(w)(k,H,J,$,ur,_r,tr,gr,Vr)}catch(yr){if(l(ve),yr!==yr+0&&yr!=="longjmp")throw yr;m(1,0)}}function rr(w,k,H){var J=S();try{return Re.get(w)(k,H)}catch($){if(l(J),$!==$+0&&$!=="longjmp")throw $;m(1,0)}}function sr(w,k,H,J,$,ur,_r,tr,gr,Vr,ve,yr){var Zr=S();try{return Re.get(w)(k,H,J,$,ur,_r,tr,gr,Vr,ve,yr)}catch(Nn){if(l(Zr),Nn!==Nn+0&&Nn!=="longjmp")throw Nn;m(1,0)}}function ir(w,k,H,J,$,ur,_r,tr,gr,Vr,ve){var yr=S();try{Re.get(w)(k,H,J,$,ur,_r,tr,gr,Vr,ve)}catch(Zr){if(l(yr),Zr!==Zr+0&&Zr!=="longjmp")throw Zr;m(1,0)}}function fr(w,k,H,J,$,ur,_r,tr,gr,Vr,ve,yr){var Zr=S();try{Re.get(w)(k,H,J,$,ur,_r,tr,gr,Vr,ve,yr)}catch(Nn){if(l(Zr),Nn!==Nn+0&&Nn!=="longjmp")throw Nn;m(1,0)}}function br(w,k,H,J,$,ur,_r){var tr=S();try{Re.get(w)(k,H,J,$,ur,_r)}catch(gr){if(l(tr),gr!==gr+0&&gr!=="longjmp")throw gr;m(1,0)}}function Nr(w,k,H,J,$,ur){var _r=S();try{Re.get(w)(k,H,J,$,ur)}catch(tr){if(l(_r),tr!==tr+0&&tr!=="longjmp")throw tr;m(1,0)}}function D(w,k,H,J,$,ur){var _r=S();try{return U(w,k,H,J,$,ur)}catch(tr){if(l(_r),tr!==tr+0&&tr!=="longjmp")throw tr;m(1,0)}}var L;Le=function w(){L||z(),L||(Le=w)};function z(w){if(ae>0||(Jr(),ae>0))return;function k(){L||(L=!0,e.calledRun=!0,!cn&&($e(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),gn()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),k()},1)):k()}if(e.run=z,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return z(),e.ready}}(),Wo=ko,Ci;async function Uo(){return await bi()?jt(Oo):jt(Wo)}async function Do(G,cr){Ci||(Ci=Uo());const lr=(await Ci).encode(G.data,G.width,G.height,cr);if(!lr)throw new Error("Encoding error");return lr.buffer}var ca=(G,cr)=>Do(G,cr),la={};Ut(la,{browserGIFEncode:()=>da,featureTest:()=>Io});var Io=()=>Ha(Hi),da=(G,cr)=>vi(G,Hi),va={};Ut(va,{browserJPEGEncode:()=>_a});var _a=(G,cr)=>vi(G,ea,cr.quality),pa={};Ut(pa,{browserPNGEncode:()=>ga});var ga=(G,cr)=>vi(G,ta),ha={};Ut(ha,{jxlEncode:()=>ma});var Mo=function(){var G=import.meta.url;return function(a){a=a||{};function e(){return Wr.buffer!=Jr&&oe(Wr.buffer),$e}function lr(){return Wr.buffer!=Jr&&oe(Wr.buffer),gn}function Tr(){return Wr.buffer!=Jr&&oe(Wr.buffer),Qn}function hr(){return Wr.buffer!=Jr&&oe(Wr.buffer),Pn}function F(){return Wr.buffer!=Jr&&oe(Wr.buffer),An}function er(){return Wr.buffer!=Jr&&oe(Wr.buffer),ae}function kr(){return Wr.buffer!=Jr&&oe(Wr.buffer),Le}function Ir(){return Wr.buffer!=Jr&&oe(Wr.buffer),Ae}var a=typeof a<"u"?a:{},Ie,_e;a.ready=new Promise(function(n,r){Ie=n,_e=r});var $r={},xr;for(xr in a)a.hasOwnProperty(xr)&&($r[xr]=a[xr]);var cn="./this.program",vn=function(n,r){throw r},mr=!0,wr=a.ENVIRONMENT_IS_PTHREAD||!1,Ve="";function Hn(n){return a.locateFile?a.locateFile(n,Ve):Ve+n}var jn;Ve=self.location.href,G&&(Ve=G),Ve.indexOf("blob:")!==0?Ve=Ve.substr(0,Ve.lastIndexOf("/")+1):Ve="",jn=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)};var Qr=a.print||console.log.bind(console),ce=a.printErr||console.warn.bind(console);for(xr in $r)$r.hasOwnProperty(xr)&&(a[xr]=$r[xr]);$r=null,a.arguments&&a.arguments,a.thisProgram&&(cn=a.thisProgram),a.quit&&(vn=a.quit);var In;a.wasmBinary&&(In=a.wasmBinary);var Gr=a.noExitRuntime||!0;typeof WebAssembly!="object"&&Lr("no native wasm support detected");var Wr,we,ue=!1;function pn(n,r){n||Lr("Assertion failed: "+r)}function Kr(n,r,t){for(var u=r+t,_="";!(r>=u);){var b=n[r++];if(!b)return _;if(!(b&128)){_+=String.fromCharCode(b);continue}var W=n[r++]&63;if((b&224)==192){_+=String.fromCharCode((b&31)<<6|W);continue}var I=n[r++]&63;if((b&240)==224?b=(b&15)<<12|W<<6|I:b=(b&7)<<18|W<<12|I<<6|n[r++]&63,b<65536)_+=String.fromCharCode(b);else{var x=b-65536;_+=String.fromCharCode(55296|x>>10,56320|x&1023)}}return _}function jr(n,r){return n?Kr(lr(),n,r):""}function Rr(n,r,t,u){if(!(u>0))return 0;for(var _=t,b=t+u-1,W=0;W<n.length;++W){var I=n.charCodeAt(W);if(I>=55296&&I<=57343){var x=n.charCodeAt(++W);I=65536+((I&1023)<<10)|x&1023}if(I<=127){if(t>=b)break;r[t++]=I}else if(I<=2047){if(t+1>=b)break;r[t++]=192|I>>6,r[t++]=128|I&63}else if(I<=65535){if(t+2>=b)break;r[t++]=224|I>>12,r[t++]=128|I>>6&63,r[t++]=128|I&63}else{if(t+3>=b)break;r[t++]=240|I>>18,r[t++]=128|I>>12&63,r[t++]=128|I>>6&63,r[t++]=128|I&63}}return r[t]=0,t-_}function Yr(n,r,t){return Rr(n,lr(),r,t)}function qr(n){for(var r=0,t=0;t<n.length;++t){var u=n.charCodeAt(t);u>=55296&&u<=57343&&(u=65536+((u&1023)<<10)|n.charCodeAt(++t)&1023),u<=127?++r:u<=2047?r+=2:u<=65535?r+=3:r+=4}return r}function Er(n,r){for(var t="",u=0;!(u>=r/2);++u){var _=Tr()[n+u*2>>1];if(_==0)break;t+=String.fromCharCode(_)}return t}function Hr(n,r,t){if(t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var u=r,_=t<n.length*2?t/2:n.length,b=0;b<_;++b){var W=n.charCodeAt(b);Tr()[r>>1]=W,r+=2}return Tr()[r>>1]=0,r-u}function be(n){return n.length*2}function Mr(n,r){for(var t=0,u="";!(t>=r/4);){var _=F()[n+t*4>>2];if(_==0)break;if(++t,_>=65536){var b=_-65536;u+=String.fromCharCode(55296|b>>10,56320|b&1023)}else u+=String.fromCharCode(_)}return u}function qe(n,r,t){if(t===void 0&&(t=2147483647),t<4)return 0;for(var u=r,_=u+t-4,b=0;b<n.length;++b){var W=n.charCodeAt(b);if(W>=55296&&W<=57343){var I=n.charCodeAt(++b);W=65536+((W&1023)<<10)|I&1023}if(F()[r>>2]=W,r+=4,r+4>_)break}return F()[r>>2]=0,r-u}function Re(n){for(var r=0,t=0;t<n.length;++t){var u=n.charCodeAt(t);u>=55296&&u<=57343&&++t,r+=4}return r}function fe(n,r){e().set(n,r)}function bn(n,r,t){for(var u=0;u<n.length;++u)e()[r++>>0]=n.charCodeAt(u);t||(e()[r>>0]=0)}function Ze(n,r){return n%r>0&&(n+=r-n%r),n}var Jr,$e,gn,Qn,Pn,An,ae,Le,Ae;wr&&(Jr=a.buffer);function oe(n){Jr=n,a.HEAP8=$e=new Int8Array(n),a.HEAP16=Qn=new Int16Array(n),a.HEAP32=An=new Int32Array(n),a.HEAPU8=gn=new Uint8Array(n),a.HEAPU16=Pn=new Uint16Array(n),a.HEAPU32=ae=new Uint32Array(n),a.HEAPF32=Le=new Float32Array(n),a.HEAPF64=Ae=new Float64Array(n)}var Ue=a.INITIAL_MEMORY||16777216;if(wr)Wr=a.wasmMemory,Jr=a.buffer;else if(a.wasmMemory)Wr=a.wasmMemory;else if(Wr=new WebAssembly.Memory({initial:Ue/65536,maximum:2147483648/65536,shared:!0}),!(Wr.buffer instanceof SharedArrayBuffer))throw ce("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Error("bad memory");Wr&&(Jr=Wr.buffer),Ue=Jr.byteLength,oe(Jr);var ye,Mn=[],re=[],Rn=[];function ze(){if(!wr){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)le(a.preRun.shift());ee(Mn)}}function Ce(){wr||ee(re)}function rn(){if(!wr){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)st(a.postRun.shift());ee(Rn)}}function le(n){Mn.unshift(n)}function xe(n){re.unshift(n)}function st(n){Rn.unshift(n)}var pe=0,de=null;function hn(n){pn(!wr,"addRunDependency cannot be used in a pthread worker"),pe++,a.monitorRunDependencies&&a.monitorRunDependencies(pe)}function We(n){if(pe--,a.monitorRunDependencies&&a.monitorRunDependencies(pe),pe==0&&de){var r=de;de=null,r()}}a.preloadedImages={},a.preloadedAudios={};function Lr(n){a.onAbort&&a.onAbort(n),wr&&console.error("Pthread aborting at "+new Error().stack),n+="",ce(n),ue=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(n);throw _e(r),r}var Se="data:application/octet-stream;base64,";function Pe(n){return n.startsWith(Se)}if(a.locateFile){var Br="jxl_enc_mt_simd.wasm";Pe(Br)||(Br=Hn(Br))}else var Br=new URL("../wasm/jxl_enc_mt_simd.wasm",self.location).toString();function Ee(n){try{if(n==Br&&In)return new Uint8Array(In);if(jn)return jn(n);throw"both async and sync fetching of the wasm failed"}catch(r){Lr(r)}}function Ke(){return!In&&mr&&typeof fetch=="function"?fetch(Br,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Br+"'";return n.arrayBuffer()}).catch(function(){return Ee(Br)}):Promise.resolve().then(function(){return Ee(Br)})}function en(){var n={a:Ht};function r(W,I){var x=W.exports;if(a.asm=x,ye=a.asm.Z,xe(a.asm.V),nr.tlsInitFunctions.push(a.asm.Y),we=I,!wr){var ar=nr.unusedWorkers.length;nr.unusedWorkers.forEach(function(pr){nr.loadWasmModuleToWorker(pr,function(){--ar||We()})})}}wr||hn();function t(W){r(W.instance,W.module)}function u(W){return Ke().then(function(I){var x=WebAssembly.instantiate(I,n);return x}).then(W,function(I){ce("failed to asynchronously prepare wasm: "+I),Lr(I)})}function _(){return!In&&typeof WebAssembly.instantiateStreaming=="function"&&!Pe(Br)&&typeof fetch=="function"?fetch(Br,{credentials:"same-origin"}).then(function(W){var I=WebAssembly.instantiateStreaming(W,n);return I.then(t,function(x){return ce("wasm streaming compile failed: "+x),ce("falling back to ArrayBuffer instantiation"),u(t)})}):u(t)}if(a.instantiateWasm)try{var b=a.instantiateWasm(n,r);return b}catch(W){return ce("Module.instantiateWasm callback failed with error: "+W),!1}return _().catch(_e),{}}var Ur={60540:function(){throw"Canceled!"},60558:function(n,r){setTimeout(function(){gt(n,r)},0)}};function Cn(){nr.initRuntime()}function ee(n){for(;n.length>0;){var r=n.shift();if(typeof r=="function"){r(a);continue}var t=r.func;typeof t=="number"?r.arg===void 0?ye.get(t)():ye.get(t)(r.arg):t(r.arg===void 0?null:r.arg)}}var se={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function Fe(n,r){if(n<=0||n>e().length||n&!0||r<0)return-28;if(r==0)return 0;r>=2147483647&&(r=1/0);var t=Atomics.load(F(),Tn>>2),u=0;if(t==n){var _=Atomics.compareExchange(F(),Tn>>2,t,0);if(_==t&&(--r,u=1,r<=0))return 1}var b=Atomics.notify(F(),n>>2,r);if(b>=0)return b+u;throw"Atomics.notify returned an unexpected value "+b}a._emscripten_futex_wake=Fe;function vr(n){if(wr)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in killThread!";F()[n+12>>2]=0;var r=nr.pthreads[n];r.worker.terminate(),nr.freeThreadData(r),nr.runningWorkers.splice(nr.runningWorkers.indexOf(r.worker),1),r.worker.pthread=void 0}function ne(n){if(wr)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in cancelThread!";var r=nr.pthreads[n];r.worker.postMessage({cmd:"cancel"})}function nn(n){if(wr)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in cleanupThread!";var r=nr.pthreads[n];if(r){F()[n+12>>2]=0;var t=r.worker;nr.returnWorkerToPool(t)}}var nr={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var n=navigator.hardwareConcurrency,r=0;r<n;++r)nr.allocateUnusedWorker()},initRuntime:function(){for(var n=_t(228),r=0;r<228/4;++r)er()[n/4+r]=0;F()[n+12>>2]=n;var t=n+152;F()[t>>2]=t;for(var u=_t(512),r=0;r<128;++r)er()[u/4+r]=0;Atomics.store(er(),n+100>>2,u),Atomics.store(er(),n+40>>2,n),v(n,!mr,1),Gt(n)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;nr.threadExitHandlers.length>0;)nr.threadExitHandlers.pop()();wr&&Y()&&N()},runExitHandlersAndDeinitThread:function(n,r){Atomics.store(er(),n+56>>2,1),Atomics.store(er(),n+60>>2,0),nr.runExitHandlers(),Atomics.store(er(),n+4>>2,r),Atomics.store(er(),n+0>>2,1),Fe(n+0,2147483647),v(0,0,0)},setExitStatus:function(n){},threadExit:function(n){var r=Y();r&&(nr.runExitHandlersAndDeinitThread(r,n),wr&&postMessage({cmd:"exit"}))},threadCancel:function(){nr.runExitHandlersAndDeinitThread(Y(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var n in nr.pthreads){var r=nr.pthreads[n];r&&r.worker&&nr.returnWorkerToPool(r.worker)}nr.pthreads={};for(var t=0;t<nr.unusedWorkers.length;++t){var u=nr.unusedWorkers[t];u.terminate()}nr.unusedWorkers=[];for(var t=0;t<nr.runningWorkers.length;++t){var u=nr.runningWorkers[t],r=u.pthread;nr.freeThreadData(r),u.terminate()}nr.runningWorkers=[]},freeThreadData:function(n){if(n){if(n.threadInfoStruct){var r=F()[n.threadInfoStruct+100>>2];F()[n.threadInfoStruct+100>>2]=0,Xn(r),Xn(n.threadInfoStruct)}n.threadInfoStruct=0,n.allocatedOwnStack&&n.stackBase&&Xn(n.stackBase),n.stackBase=0,n.worker&&(n.worker.pthread=null)}},returnWorkerToPool:function(n){nr.runWithoutMainThreadQueuedCalls(function(){delete nr.pthreads[n.pthread.threadInfoStruct],nr.unusedWorkers.push(n),nr.runningWorkers.splice(nr.runningWorkers.indexOf(n),1),nr.freeThreadData(n.pthread),n.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(n){F()[me>>2]=0;try{n()}finally{F()[me>>2]=1}},receiveObjectTransfer:function(n){},threadInit:function(){for(var n in nr.tlsInitFunctions)nr.tlsInitFunctions[n]()},loadWasmModuleToWorker:function(n,r){n.onmessage=function(t){var u=t.data,_=u.cmd;if(n.pthread&&(nr.currentProxiedOperationCallerThread=n.pthread.threadInfoStruct),u.targetThread&&u.targetThread!=Y()){var b=nr.pthreads[u.targetThread];b?b.worker.postMessage(t.data,u.transferList):console.error('Internal error! Worker sent a message "'+_+'" to target pthread '+u.targetThread+", but that thread no longer exists!"),nr.currentProxiedOperationCallerThread=void 0;return}if(_==="processQueuedMainThreadWork")xt();else if(_==="spawnThread")it(t.data);else if(_==="cleanupThread")nn(u.thread);else if(_==="killThread")vr(u.thread);else if(_==="cancelThread")ne(u.thread);else if(_==="loaded")n.loaded=!0,r&&r(n),n.runPthread&&(n.runPthread(),delete n.runPthread);else if(_==="print")Qr("Thread "+u.threadId+": "+u.text);else if(_==="printErr")ce("Thread "+u.threadId+": "+u.text);else if(_==="alert")alert("Thread "+u.threadId+": "+u.text);else if(_==="exit"){var W=n.pthread&&Atomics.load(er(),n.pthread.threadInfoStruct+64>>2);W&&nr.returnWorkerToPool(n)}else if(_==="exitProcess")try{bt(u.returnCode)}catch(I){if(I instanceof Zn)return;throw I}else _==="cancelDone"?nr.returnWorkerToPool(n):_==="objectTransfer"?nr.receiveObjectTransfer(t.data):t.data.target==="setimmediate"?n.postMessage(t.data):ce("worker sent an unknown command "+_);nr.currentProxiedOperationCallerThread=void 0},n.onerror=function(t){ce("pthread sent an error! "+t.filename+":"+t.lineno+": "+t.message)},n.postMessage({cmd:"load",urlOrBlob:a.mainScriptUrlOrBlob,wasmMemory:Wr,wasmModule:we})},allocateUnusedWorker:function(){if(!a.locateFile){nr.unusedWorkers.push(new Worker(new URL("../wasm/jxl_enc_mt_simd.worker.js?type=classic&worker_file",self.location)));return}var n=Hn("jxl_enc_mt_simd.worker.js");nr.unusedWorkers.push(new Worker(n))},getNewWorker:function(){return nr.unusedWorkers.length==0&&(nr.allocateUnusedWorker(),nr.loadWasmModuleToWorker(nr.unusedWorkers[0])),nr.unusedWorkers.pop()},busySpinWait:function(n){for(var r=performance.now()+n;performance.now()<r;);}};function ge(n,r){Cr(n,r),Z(n)}a.establishStackSpace=ge;function Ge(n,r){return ye.get(n)(r)}a.invokeEntryPoint=Ge;var ie=0;function Sr(){return Gr||ie>0}a.keepRuntimeAlive=Sr;function un(n,r,t,u){Lr("Assertion failed: "+jr(n)+", at: "+[r?jr(r):"unknown filename",t,u?jr(u):"unknown function"])}var te;wr?te=function(){return performance.now()-a.__performance_now_clock_drift}:te=function(){return performance.now()};var Xr={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function _n(n){return _t(n+Xr.SIZE)+Xr.SIZE}function Ne(n,r){if(wr)return _r(1,1,n,r)}function Be(n,r){nr.threadExitHandlers.push(function(){ye.get(n)(r)})}function Fn(n,r){return Be(n,r)}function He(n){this.excPtr=n,this.ptr=n-Xr.SIZE,this.set_type=function(r){F()[this.ptr+Xr.TYPE_OFFSET>>2]=r},this.get_type=function(){return F()[this.ptr+Xr.TYPE_OFFSET>>2]},this.set_destructor=function(r){F()[this.ptr+Xr.DESTRUCTOR_OFFSET>>2]=r},this.get_destructor=function(){return F()[this.ptr+Xr.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(r){F()[this.ptr+Xr.REFCOUNT_OFFSET>>2]=r},this.set_caught=function(r){r=r?1:0,e()[this.ptr+Xr.CAUGHT_OFFSET>>0]=r},this.get_caught=function(){return e()[this.ptr+Xr.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(r){r=r?1:0,e()[this.ptr+Xr.RETHROWN_OFFSET>>0]=r},this.get_rethrown=function(){return e()[this.ptr+Xr.RETHROWN_OFFSET>>0]!=0},this.init=function(r,t){this.set_type(r),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(F(),this.ptr+Xr.REFCOUNT_OFFSET>>2,1)},this.release_ref=function(){var r=Atomics.sub(F(),this.ptr+Xr.REFCOUNT_OFFSET>>2,1);return r===1}}function fn(n,r,t){var u=new He(n);throw u.init(r,t),n}var Qe={};function yn(n){for(;n.length;){var r=n.pop(),t=n.pop();t(r)}}function On(n){return this.fromWireType(er()[n>>2])}var Je={},ln={},Ln={},$n=48,rt=57;function En(n){if(n===void 0)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var r=n.charCodeAt(0);return r>=$n&&r<=rt?"_"+n:n}function xn(n,r){return n=En(n),new Function("body","return function "+n+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(r)}function zn(n,r){var t=xn(r,function(u){this.name=r,this.message=u;var _=new Error(u).stack;_!==void 0&&(this.stack=this.toString()+`
`+_.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},t}var Bn=void 0;function wn(n){throw new Bn(n)}function Kn(n,r,t){n.forEach(function(I){Ln[I]=r});function u(I){var x=t(I);x.length!==n.length&&wn("Mismatched type converter count");for(var ar=0;ar<n.length;++ar)tn(n[ar],x[ar])}var _=new Array(r.length),b=[],W=0;r.forEach(function(I,x){ln.hasOwnProperty(I)?_[x]=ln[I]:(b.push(I),Je.hasOwnProperty(I)||(Je[I]=[]),Je[I].push(function(){_[x]=ln[I],++W,W===b.length&&u(_)}))}),b.length===0&&u(_)}function et(n){var r=Qe[n];delete Qe[n];var t=r.rawConstructor,u=r.rawDestructor,_=r.fields,b=_.map(function(W){return W.getterReturnType}).concat(_.map(function(W){return W.setterArgumentType}));Kn([n],b,function(W){var I={};return _.forEach(function(x,ar){var pr=x.fieldName,Ar=W[ar],Or=x.getter,Te=x.getterContext,on=W[ar+_.length],dt=x.setter,pt=x.setterContext;I[pr]={read:function(mt){return Ar.fromWireType(Or(Te,mt))},write:function(mt,dr){var Pr=[];dt(pt,mt,on.toWireType(Pr,dr)),yn(Pr)}}}),[{name:r.name,fromWireType:function(x){var ar={};for(var pr in I)ar[pr]=I[pr].read(x);return u(x),ar},toWireType:function(x,ar){for(var pr in I)if(!(pr in ar))throw new TypeError('Missing field:  "'+pr+'"');var Ar=t();for(pr in I)I[pr].write(Ar,ar[pr]);return x!==null&&x.push(u,Ar),Ar},argPackAdvance:8,readValueFromPointer:On,destructorFunction:u}]})}function Oe(n,r,t,u,_){}function qn(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}function De(){for(var n=new Array(256),r=0;r<256;++r)n[r]=String.fromCharCode(r);ke=n}var ke=void 0;function Me(n){for(var r="",t=n;lr()[t];)r+=ke[lr()[t++]];return r}var sn=void 0;function zr(n){throw new sn(n)}function tn(n,r,t){if(t=t||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var u=r.name;if(n||zr('type "'+u+'" must have a positive integer typeid pointer'),ln.hasOwnProperty(n)){if(t.ignoreDuplicateRegistrations)return;zr("Cannot register type '"+u+"' twice")}if(ln[n]=r,delete Ln[n],Je.hasOwnProperty(n)){var _=Je[n];delete Je[n],_.forEach(function(b){b()})}}function at(n,r,t,u,_){var b=qn(t);r=Me(r),tn(n,{name:r,fromWireType:function(W){return!!W},toWireType:function(W,I){return I?u:_},argPackAdvance:8,readValueFromPointer:function(W){var I;if(t===1)I=e();else if(t===2)I=Tr();else if(t===4)I=F();else throw new TypeError("Unknown boolean type size: "+r);return this.fromWireType(I[W>>b])},destructorFunction:null})}var dn=[],Ye=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Sn(n){n>4&&--Ye[n].refcount===0&&(Ye[n]=void 0,dn.push(n))}function ct(){for(var n=0,r=5;r<Ye.length;++r)Ye[r]!==void 0&&++n;return n}function Jn(){for(var n=5;n<Ye.length;++n)if(Ye[n]!==void 0)return Ye[n];return null}function nt(){a.count_emval_handles=ct,a.get_first_emval=Jn}function Vn(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var r=dn.length?dn.pop():Ye.length;return Ye[r]={refcount:1,value:n},r}}}function ot(n,r){r=Me(r),tn(n,{name:r,fromWireType:function(t){var u=Ye[t].value;return Sn(t),u},toWireType:function(t,u){return Vn(u)},argPackAdvance:8,readValueFromPointer:On,destructorFunction:null})}function Gn(n){if(n===null)return"null";var r=typeof n;return r==="object"||r==="array"||r==="function"?n.toString():""+n}function kn(n,r){switch(r){case 2:return function(t){return this.fromWireType(kr()[t>>2])};case 3:return function(t){return this.fromWireType(Ir()[t>>3])};default:throw new TypeError("Unknown float type: "+n)}}function ut(n,r,t){var u=qn(t);r=Me(r),tn(n,{name:r,fromWireType:function(_){return _},toWireType:function(_,b){if(typeof b!="number"&&typeof b!="boolean")throw new TypeError('Cannot convert "'+Gn(b)+'" to '+this.name);return b},argPackAdvance:8,readValueFromPointer:kn(r,u),destructorFunction:null})}function mn(n,r){if(!(n instanceof Function))throw new TypeError("new_ called with constructor type "+typeof n+" which is not a function");var t=xn(n.name||"unknownFunctionName",function(){});t.prototype=n.prototype;var u=new t,_=n.apply(u,r);return _ instanceof Object?_:u}function Wn(n,r,t,u,_){var b=r.length;b<2&&zr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var W=r[1]!==null&&t!==null,I=!1,x=1;x<r.length;++x)if(r[x]!==null&&r[x].destructorFunction===void 0){I=!0;break}for(var ar=r[0].name!=="void",pr="",Ar="",x=0;x<b-2;++x)pr+=(x!==0?", ":"")+"arg"+x,Ar+=(x!==0?", ":"")+"arg"+x+"Wired";var Or="return function "+En(n)+"("+pr+`) {
if (arguments.length !== `+(b-2)+`) {
throwBindingError('function `+n+" called with ' + arguments.length + ' arguments, expected "+(b-2)+` args!');
}
`;I&&(Or+=`var destructors = [];
`);var Te=I?"destructors":"null",on=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],dt=[zr,u,_,yn,r[0],r[1]];W&&(Or+="var thisWired = classParam.toWireType("+Te+`, this);
`);for(var x=0;x<b-2;++x)Or+="var arg"+x+"Wired = argType"+x+".toWireType("+Te+", arg"+x+"); // "+r[x+2].name+`
`,on.push("argType"+x),dt.push(r[x+2]);if(W&&(Ar="thisWired"+(Ar.length>0?", ":"")+Ar),Or+=(ar?"var rv = ":"")+"invoker(fn"+(Ar.length>0?", ":"")+Ar+`);
`,I)Or+=`runDestructors(destructors);
`;else for(var x=W?1:2;x<r.length;++x){var pt=x===1?"thisWired":"arg"+(x-2)+"Wired";r[x].destructorFunction!==null&&(Or+=pt+"_dtor("+pt+"); // "+r[x].name+`
`,on.push(pt+"_dtor"),dt.push(r[x].destructorFunction))}ar&&(Or+=`var ret = retType.fromWireType(rv);
return ret;
`),Or+=`}
`,on.push(Or);var mt=mn(Function,on).apply(null,dt);return mt}function V(n,r,t){if(n[r].overloadTable===void 0){var u=n[r];n[r]=function(){return n[r].overloadTable.hasOwnProperty(arguments.length)||zr("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+n[r].overloadTable+")!"),n[r].overloadTable[arguments.length].apply(this,arguments)},n[r].overloadTable=[],n[r].overloadTable[u.argCount]=u}}function X(n,r,t){a.hasOwnProperty(n)?((t===void 0||a[n].overloadTable!==void 0&&a[n].overloadTable[t]!==void 0)&&zr("Cannot register public name '"+n+"' twice"),V(a,n,n),a.hasOwnProperty(t)&&zr("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),a[n].overloadTable[t]=r):(a[n]=r,t!==void 0&&(a[n].numArguments=t))}function C(n,r){for(var t=[],u=0;u<n;u++)t.push(F()[(r>>2)+u]);return t}function d(n,r,t){a.hasOwnProperty(n)||wn("Replacing nonexistant public symbol"),a[n].overloadTable!==void 0&&t!==void 0?a[n].overloadTable[t]=r:(a[n]=r,a[n].argCount=t)}function y(n,r,t){var u=a["dynCall_"+n];return t&&t.length?u.apply(null,[r].concat(t)):u.call(null,r)}function P(n,r,t){return n.includes("j")?y(n,r,t):ye.get(r).apply(null,t)}function j(n,r){var t=[];return function(){t.length=arguments.length;for(var u=0;u<arguments.length;u++)t[u]=arguments[u];return P(n,r,t)}}function g(n,r){n=Me(n);function t(){return n.includes("j")?j(n,r):ye.get(r)}var u=t();return typeof u!="function"&&zr("unknown function pointer with signature "+n+": "+r),u}var T=void 0;function c(n){var r=St(n),t=Me(r);return Xn(r),t}function p(n,r){var t=[],u={};function _(b){if(!u[b]&&!ln[b]){if(Ln[b]){Ln[b].forEach(_);return}t.push(b),u[b]=!0}}throw r.forEach(_),new T(n+": "+t.map(c).join([", "]))}function R(n,r,t,u,_,b){var W=C(r,t);n=Me(n),_=g(u,_),X(n,function(){p("Cannot call "+n+" due to unbound types",W)},r-1),Kn([],W,function(I){var x=[I[0],null].concat(I.slice(1));return d(n,Wn(n,x,null,_,b),r-1),[]})}function B(n,r,t){switch(r){case 0:return t?function(_){return e()[_]}:function(_){return lr()[_]};case 1:return t?function(_){return Tr()[_>>1]}:function(_){return hr()[_>>1]};case 2:return t?function(_){return F()[_>>2]}:function(_){return er()[_>>2]};default:throw new TypeError("Unknown integer type: "+n)}}function K(n,r,t,u,_){r=Me(r),_===-1&&(_=4294967295);var b=qn(t),W=function(ar){return ar};if(u===0){var I=32-8*t;W=function(ar){return ar<<I>>>I}}var x=r.includes("unsigned");tn(n,{name:r,fromWireType:W,toWireType:function(ar,pr){if(typeof pr!="number"&&typeof pr!="boolean")throw new TypeError('Cannot convert "'+Gn(pr)+'" to '+this.name);if(pr<u||pr>_)throw new TypeError('Passing a number "'+Gn(pr)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+u+", "+_+"]!");return x?pr>>>0:pr|0},argPackAdvance:8,readValueFromPointer:B(r,b,u!==0),destructorFunction:null})}function E(n,r,t){var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],_=u[r];function b(W){W=W>>2;var I=er(),x=I[W],ar=I[W+1];return new _(Jr,ar,x)}t=Me(t),tn(n,{name:t,fromWireType:b,argPackAdvance:8,readValueFromPointer:b},{ignoreDuplicateRegistrations:!0})}function S(n,r){r=Me(r);var t=r==="std::string";tn(n,{name:r,fromWireType:function(u){var _=er()[u>>2],b;if(t)for(var W=u+4,I=0;I<=_;++I){var x=u+4+I;if(I==_||lr()[x]==0){var ar=x-W,pr=jr(W,ar);b===void 0?b=pr:(b+=String.fromCharCode(0),b+=pr),W=x+1}}else{for(var Ar=new Array(_),I=0;I<_;++I)Ar[I]=String.fromCharCode(lr()[u+4+I]);b=Ar.join("")}return Xn(u),b},toWireType:function(u,_){_ instanceof ArrayBuffer&&(_=new Uint8Array(_));var b,W=typeof _=="string";W||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int8Array||zr("Cannot pass non-string to std::string"),t&&W?b=function(){return qr(_)}:b=function(){return _.length};var I=b(),x=_t(4+I+1);if(er()[x>>2]=I,t&&W)Yr(_,x+4,I+1);else if(W)for(var ar=0;ar<I;++ar){var pr=_.charCodeAt(ar);pr>255&&(Xn(x),zr("String has UTF-16 code units that do not fit in 8 bits")),lr()[x+4+ar]=pr}else for(var ar=0;ar<I;++ar)lr()[x+4+ar]=_[ar];return u!==null&&u.push(Xn,x),x},argPackAdvance:8,readValueFromPointer:On,destructorFunction:function(u){Xn(u)}})}function l(n,r,t){t=Me(t);var u,_,b,W,I;r===2?(u=Er,_=Hr,W=be,b=function(){return hr()},I=1):r===4&&(u=Mr,_=qe,W=Re,b=function(){return er()},I=2),tn(n,{name:t,fromWireType:function(x){for(var ar=er()[x>>2],pr=b(),Ar,Or=x+4,Te=0;Te<=ar;++Te){var on=x+4+Te*r;if(Te==ar||pr[on>>I]==0){var dt=on-Or,pt=u(Or,dt);Ar===void 0?Ar=pt:(Ar+=String.fromCharCode(0),Ar+=pt),Or=on+r}}return Xn(x),Ar},toWireType:function(x,ar){typeof ar!="string"&&zr("Cannot pass non-string to C++ string type "+t);var pr=W(ar),Ar=_t(4+pr+r);return er()[Ar>>2]=pr>>I,_(ar,Ar+4,pr+r),x!==null&&x.push(Xn,Ar),Ar},argPackAdvance:8,readValueFromPointer:On,destructorFunction:function(x){Xn(x)}})}function m(n,r,t,u,_,b){Qe[n]={name:Me(r),rawConstructor:g(t,u),rawDestructor:g(_,b),fields:[]}}function U(n,r,t,u,_,b,W,I,x,ar){Qe[n].fields.push({fieldName:Me(r),getterReturnType:t,getter:g(u,_),getterContext:b,setterArgumentType:W,setter:g(I,x),setterContext:ar})}function q(n,r){r=Me(r),tn(n,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:function(){},toWireType:function(t,u){}})}function f(n,r){if(n==r)postMessage({cmd:"processQueuedMainThreadWork"});else if(wr)postMessage({targetThread:n,cmd:"processThreadQueue"});else{var t=nr.pthreads[n],u=t&&t.worker;if(!u)return;u.postMessage({cmd:"processThreadQueue"})}return 1}var s={};function h(n){var r=s[n];return r===void 0?Me(n):r}function O(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function M(n){return n===0?Vn(O()):(n=h(n),Vn(O()[n]))}function rr(n){n>4&&(Ye[n].refcount+=1)}function sr(n,r){var t=ln[n];return t===void 0&&zr(r+" has unknown type "+c(n)),t}function ir(n){for(var r="",t=0;t<n;++t)r+=(t!==0?", ":"")+"arg"+t;for(var u="return function emval_allocator_"+n+`(constructor, argTypes, args) {
`,t=0;t<n;++t)u+="var argType"+t+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+t+'], "parameter '+t+`");
var arg`+t+" = argType"+t+`.readValueFromPointer(args);
args += argType`+t+`['argPackAdvance'];
`;return u+="var obj = new constructor("+r+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",u)(sr,a,Vn)}var fr={};function br(n){return n||zr("Cannot use deleted val. handle = "+n),Ye[n].value}function Nr(n,r,t,u){n=br(n);var _=fr[r];return _||(_=ir(r),fr[r]=_),_(n,t,u)}function D(){Lr()}var L=[];function z(n,r){L.length=0;var t;for(r>>=2;t=lr()[n++];){var u=t<105;u&&r&1&&r++,L.push(u?Ir()[r++>>1]:F()[r]),++r}return L}function w(n,r,t){var u=z(r,t);return Ur[n].apply(null,u)}function k(){}function H(n,r){}function J(n,r,t){if(n<=0||n>e().length||n&!0)return-28;{var u=Atomics.wait(F(),n>>2,r,t);if(u==="timed-out")return-73;if(u==="not-equal")return-6;if(u==="ok")return 0;throw"Atomics.wait returned an unexpected value "+u}}function $(n,r,t){lr().copyWithin(n,r,r+t)}function ur(){return navigator.hardwareConcurrency}function _r(n,r){for(var t=arguments.length-2,u=Q(),_=t,b=or(_*8),W=b>>3,I=0;I<t;I++){var x=arguments[2+I];Ir()[W+I]=x}var ar=i(n,_,b,r);return Z(u),ar}var tr=[];function gr(n,r,t){tr.length=r;for(var u=t>>3,_=0;_<r;_++)tr[_]=Ir()[u+_];var b=n<0,W=b?Ur[-n-1]:Nt[n];return W.apply(null,tr)}function Vr(n){try{return Wr.grow(n-Jr.byteLength+65535>>>16),oe(Wr.buffer),1}catch{}}function ve(n){var r=lr().length;if(n=n>>>0,n<=r)return!1;var t=2147483648;if(n>t)return!1;for(var u=1;u<=4;u*=2){var _=r*(1+.2/u);_=Math.min(_,n+100663296);var b=Math.min(t,Ze(Math.max(n,_),65536)),W=Vr(b);if(W)return!0}return!1}var yr={inEventHandler:0,removeAllEventListeners:function(){for(var n=yr.eventHandlers.length-1;n>=0;--n)yr._removeHandler(n);yr.eventHandlers=[],yr.deferredCalls=[]},registerRemoveEventListeners:function(){yr.removeEventListenersRegistered||(yr.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(n,r,t){function u(W,I){if(W.length!=I.length)return!1;for(var x in W)if(W[x]!=I[x])return!1;return!0}for(var _ in yr.deferredCalls){var b=yr.deferredCalls[_];if(b.targetFunction==n&&u(b.argsList,t))return}yr.deferredCalls.push({targetFunction:n,precedence:r,argsList:t}),yr.deferredCalls.sort(function(W,I){return W.precedence<I.precedence})},removeDeferredCalls:function(n){for(var r=0;r<yr.deferredCalls.length;++r)yr.deferredCalls[r].targetFunction==n&&(yr.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:function(){return yr.inEventHandler&&yr.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(yr.canPerformEventHandlerRequests())for(var n=0;n<yr.deferredCalls.length;++n){var r=yr.deferredCalls[n];yr.deferredCalls.splice(n,1),--n,r.targetFunction.apply(null,r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(n,r){for(var t=0;t<yr.eventHandlers.length;++t)yr.eventHandlers[t].target==n&&(!r||r==yr.eventHandlers[t].eventTypeString)&&yr._removeHandler(t--)},_removeHandler:function(n){var r=yr.eventHandlers[n];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),yr.eventHandlers.splice(n,1)},registerOrRemoveHandler:function(n){var r=function(_){++yr.inEventHandler,yr.currentEventHandler=n,yr.runDeferredCalls(),n.handlerFunc(_),yr.runDeferredCalls(),--yr.inEventHandler};if(n.callbackfunc)n.eventListenerFunc=r,n.target.addEventListener(n.eventTypeString,r,n.useCapture),yr.eventHandlers.push(n),yr.registerRemoveEventListeners();else for(var t=0;t<yr.eventHandlers.length;++t)yr.eventHandlers[t].target==n.target&&yr.eventHandlers[t].eventTypeString==n.eventTypeString&&yr._removeHandler(t--)},queueEventHandlerOnThread_iiii:function(n,r,t,u,_){var b=Q(),W=or(12);F()[W>>2]=t,F()[W+4>>2]=u,F()[W+8>>2]=_,o(0,n,637534208,r,u,W),Z(b)},getTargetThreadForEventCallback:function(n){switch(n){case 1:return 0;case 2:return nr.currentProxiedOperationCallerThread;default:return n}},getNodeNameForTarget:function(n){return n?n==window?"#window":n==screen?"#screen":n&&n.nodeName?n.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function Zr(n){var r=qr(n)+1,t=_t(r);return Yr(n,t,r),t}function Nn(n,r,t,u){var _=Q(),b=or(12),W=0;r&&(W=Zr(r)),F()[b>>2]=W,F()[b+4>>2]=t,F()[b+8>>2]=u,o(0,n,657457152,0,W,b),Z(_)}function ft(n,r,t,u){r=r?jr(r):"",Nn(n,r,t,u)}function Fr(n){return n>2?jr(n):n}var he=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function tt(n){n=Fr(n);var r=he[n]||(typeof document<"u"?document.querySelector(n):void 0);return r}function Un(n){return tt(n)}function yt(n,r,t){var u=Un(n);if(!u)return-4;if(u.canvasSharedPtr&&(F()[u.canvasSharedPtr>>2]=r,F()[u.canvasSharedPtr+4>>2]=t),u.offscreenCanvas||!u.controlTransferredOffscreen){u.offscreenCanvas&&(u=u.offscreenCanvas);var _=!1;if(u.GLctxObject&&u.GLctxObject.GLctx){var b=u.GLctxObject.GLctx.getParameter(2978);_=b[0]===0&&b[1]===0&&b[2]===u.width&&b[3]===u.height}u.width=r,u.height=t,_&&u.GLctxObject.GLctx.viewport(0,0,r,t)}else if(u.canvasSharedPtr){var W=F()[u.canvasSharedPtr+8>>2];return ft(W,n,r,t),1}else return-4;return 0}function Ct(n,r,t){return wr?_r(2,1,n,r,t):yt(n,r,t)}function Ot(n,r,t){var u=Un(n);return u?yt(n,r,t):Ct(n,r,t)}function fi(n){}function an(n){var r=n.getExtension("ANGLE_instanced_arrays");if(r)return n.vertexAttribDivisor=function(t,u){r.vertexAttribDivisorANGLE(t,u)},n.drawArraysInstanced=function(t,u,_,b){r.drawArraysInstancedANGLE(t,u,_,b)},n.drawElementsInstanced=function(t,u,_,b,W){r.drawElementsInstancedANGLE(t,u,_,b,W)},1}function si(n){var r=n.getExtension("OES_vertex_array_object");if(r)return n.createVertexArray=function(){return r.createVertexArrayOES()},n.deleteVertexArray=function(t){r.deleteVertexArrayOES(t)},n.bindVertexArray=function(t){r.bindVertexArrayOES(t)},n.isVertexArray=function(t){return r.isVertexArrayOES(t)},1}function ci(n){var r=n.getExtension("WEBGL_draw_buffers");if(r)return n.drawBuffers=function(t,u){r.drawBuffersWEBGL(t,u)},1}function li(n){return!!(n.multiDrawWebgl=n.getExtension("WEBGL_multi_draw"))}var je={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(r){je.lastError||(je.lastError=r)},getNewId:function(n){for(var r=je.counter++,t=n.length;t<r;t++)n[t]=null;return r},getSource:function(n,r,t,u){for(var _="",b=0;b<r;++b){var W=u?F()[u+b*4>>2]:-1;_+=jr(F()[t+b*4>>2],W<0?void 0:W)}return _},createContext:function(n,r){n.getContextSafariWebGL2Fixed||(n.getContextSafariWebGL2Fixed=n.getContext,n.getContext=function(_,b){var W=n.getContextSafariWebGL2Fixed(_,b);return _=="webgl"==W instanceof WebGLRenderingContext?W:null});var t=n.getContext("webgl",r);if(!t)return 0;var u=je.registerContext(t,r);return u},registerContext:function(n,r){var t=_t(8);F()[t+4>>2]=Y();var u={handle:t,attributes:r,version:r.majorVersion,GLctx:n};return n.canvas&&(n.canvas.GLctxObject=u),je.contexts[t]=u,(typeof r.enableExtensionsByDefault>"u"||r.enableExtensionsByDefault)&&je.initExtensions(u),t},makeContextCurrent:function(n){return je.currentContext=je.contexts[n],a.ctx=Vt=je.currentContext&&je.currentContext.GLctx,!(n&&!Vt)},getContext:function(n){return je.contexts[n]},deleteContext:function(n){je.currentContext===je.contexts[n]&&(je.currentContext=null),typeof yr=="object"&&yr.removeAllHandlersOnTarget(je.contexts[n].GLctx.canvas),je.contexts[n]&&je.contexts[n].GLctx.canvas&&(je.contexts[n].GLctx.canvas.GLctxObject=void 0),Xn(je.contexts[n].handle),je.contexts[n]=null},initExtensions:function(n){if(n||(n=je.currentContext),!n.initExtensionsDone){n.initExtensionsDone=!0;var r=n.GLctx;an(r),si(r),ci(r),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query"),li(r);var t=r.getSupportedExtensions()||[];t.forEach(function(u){!u.includes("lose_context")&&!u.includes("debug")&&r.getExtension(u)})}}},lt=["default","low-power","high-performance"];function Zt(n,r){var t=r>>2,u=F()[t+6],_={alpha:!!F()[t+0],depth:!!F()[t+1],stencil:!!F()[t+2],antialias:!!F()[t+3],premultipliedAlpha:!!F()[t+4],preserveDrawingBuffer:!!F()[t+5],powerPreference:lt[u],failIfMajorPerformanceCaveat:!!F()[t+7],majorVersion:F()[t+8],minorVersion:F()[t+9],enableExtensionsByDefault:F()[t+10],explicitSwapControl:F()[t+11],proxyContextToMainThread:F()[t+12],renderViaOffscreenBackBuffer:F()[t+13]},b=Un(n);if(!b||_.explicitSwapControl)return 0;var W=je.createContext(b,_);return W}function $t(n,r){return Zt(n,r)}var Yt={};function ui(){return cn||"./this.program"}function kt(){if(!kt.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:ui()};for(var t in Yt)r[t]=Yt[t];var u=[];for(var t in r)u.push(t+"="+r[t]);kt.strings=u}return kt.strings}var Lt={mappings:{},buffers:[null,[],[]],printChar:function(n,r){var t=Lt.buffers[n];r===0||r===10?((n===1?Qr:ce)(Kr(t,0)),t.length=0):t.push(r)},varargs:void 0,get:function(){Lt.varargs+=4;var n=F()[Lt.varargs-4>>2];return n},getStr:function(n){var r=jr(n);return r},get64:function(n,r){return n}};function Kt(n,r){if(wr)return _r(3,1,n,r);var t=0;return kt().forEach(function(u,_){var b=r+t;F()[n+_*4>>2]=b,bn(u,b),t+=u.length+1}),0}function ri(n,r){if(wr)return _r(4,1,n,r);var t=kt();F()[n>>2]=t.length;var u=0;return t.forEach(function(_){u+=_.length+1}),F()[r>>2]=u,0}function qt(n){return wr?_r(5,1,n):0}function Xt(n,r,t,u,_){if(wr)return _r(6,1,n,r,t,u,_)}function ei(n,r,t,u){if(wr)return _r(7,1,n,r,t,u);for(var _=0,b=0;b<t;b++){for(var W=F()[r+b*8>>2],I=F()[r+(b*8+4)>>2],x=0;x<I;x++)Lt.printChar(n,lr()[W+x]);_+=I}return F()[u>>2]=_,0}function it(n){if(wr)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var r=nr.getNewWorker();if(!r)return 6;if(r.pthread!==void 0)throw"Internal error!";if(!n.pthread_ptr)throw"Internal error, no pthread ptr!";nr.runningWorkers.push(r);for(var t=_t(128*4),u=0;u<128;++u)F()[t+u*4>>2]=0;var _=n.stackBase+n.stackSize,b=nr.pthreads[n.pthread_ptr]={worker:r,stackBase:n.stackBase,stackSize:n.stackSize,allocatedOwnStack:n.allocatedOwnStack,threadInfoStruct:n.pthread_ptr},W=b.threadInfoStruct>>2;Atomics.store(er(),W+16,n.detached),Atomics.store(er(),W+25,t),Atomics.store(er(),W+10,b.threadInfoStruct),Atomics.store(er(),W+20,n.stackSize),Atomics.store(er(),W+19,_),Atomics.store(er(),W+26,n.stackSize),Atomics.store(er(),W+(104+8>>2),_),Atomics.store(er(),W+(104+12>>2),n.detached);var I=A(),x=I+40;Atomics.store(er(),W+43,x),r.pthread=b;var ar={cmd:"run",start_routine:n.startRoutine,arg:n.arg,threadInfoStruct:n.pthread_ptr,stackBase:n.stackBase,stackSize:n.stackSize};return r.runPthread=function(){ar.time=performance.now(),r.postMessage(ar,n.transferList)},r.loaded&&(r.runPthread(),delete r.runPthread),0}function Et(n,r,t,u){if(typeof SharedArrayBuffer>"u")return ce("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!n)return ce("pthread_create called with a null thread pointer!"),28;var _=[],b=0;if(wr&&(_.length===0||b))return wt(687865856,n,r,t,u);var W=0,I=0,x=0;r&&r!=-1?(W=F()[r>>2],W+=81920,I=F()[r+8>>2],x=F()[r+12>>2]!==0):W=2097152;var ar=I==0;ar?I=Dr(16,W):(I-=W,pn(I>0));for(var pr=_t(228),Ar=0;Ar<57;++Ar)er()[(pr>>2)+Ar]=0;F()[n>>2]=pr,F()[pr+12>>2]=pr;var Or=pr+152;F()[Or>>2]=Or;var Te={stackBase:I,stackSize:W,allocatedOwnStack:ar,detached:x,startRoutine:t,pthread_ptr:pr,arg:u,transferList:_};return wr?(Te.cmd="spawnThread",postMessage(Te,_),0):it(Te)}function ni(){if(wr){var n=Y();if(n){var r=Atomics.load(er(),n+56>>2);if(!r){var t=Atomics.load(er(),n+0>>2);if(t==2)throw"Canceled!"}}}}function ti(n,r,t){if(!n)return ce("pthread_join attempted on a null thread pointer!"),se.ESRCH;if(wr&&Y()==n)return ce("PThread "+n+" is attempting to join to itself!"),se.EDEADLK;if(!wr&&Wt()==n)return ce("Main thread "+n+" is attempting to join to itself!"),se.EDEADLK;var u=F()[n+12>>2];if(u!==n)return ce("pthread_join attempted on thread "+n+", which does not point to a valid thread, or does not exist anymore!"),se.ESRCH;var _=Atomics.load(er(),n+64>>2);if(_)return ce("Attempted to join thread "+n+", which was already detached!"),se.EINVAL;for(;;){var b=Atomics.load(er(),n+0>>2);if(b==1){var W=Atomics.load(er(),n+4>>2);return r&&(F()[r>>2]=W),Atomics.store(er(),n+64>>2,1),wr?postMessage({cmd:"cleanupThread",thread:n}):nn(n),0}if(!t)return se.EBUSY;ni(),wr||xt(),J(n+0,b,wr?100:1)}}function ii(n,r){return ti(n,r,!0)}function Qt(n){}function Dt(n){return n%4===0&&(n%100!==0||n%400===0)}function It(n,r){for(var t=0,u=0;u<=r;t+=n[u++]);return t}var Tt=[31,29,31,30,31,30,31,31,30,31,30,31],vt=[31,28,31,30,31,30,31,31,30,31,30,31];function Rt(n,r){for(var t=new Date(n.getTime());r>0;){var u=Dt(t.getFullYear()),_=t.getMonth(),b=(u?Tt:vt)[_];if(r>b-t.getDate())r-=b-t.getDate()+1,t.setDate(1),_<11?t.setMonth(_+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+r),t}return t}function Jt(n,r,t,u){var _=F()[u+40>>2],b={tm_sec:F()[u>>2],tm_min:F()[u+4>>2],tm_hour:F()[u+8>>2],tm_mday:F()[u+12>>2],tm_mon:F()[u+16>>2],tm_year:F()[u+20>>2],tm_wday:F()[u+24>>2],tm_yday:F()[u+28>>2],tm_isdst:F()[u+32>>2],tm_gmtoff:F()[u+36>>2],tm_zone:_?jr(_):""},W=jr(t),I={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var x in I)W=W.replace(new RegExp(x,"g"),I[x]);var ar=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],pr=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ar(dr,Pr,Dn){for(var Xe=typeof dr=="number"?dr.toString():dr||"";Xe.length<Pr;)Xe=Dn[0]+Xe;return Xe}function Or(dr,Pr){return Ar(dr,Pr,"0")}function Te(dr,Pr){function Dn(Ft){return Ft<0?-1:Ft>0?1:0}var Xe;return(Xe=Dn(dr.getFullYear()-Pr.getFullYear()))===0&&(Xe=Dn(dr.getMonth()-Pr.getMonth()))===0&&(Xe=Dn(dr.getDate()-Pr.getDate())),Xe}function on(dr){switch(dr.getDay()){case 0:return new Date(dr.getFullYear()-1,11,29);case 1:return dr;case 2:return new Date(dr.getFullYear(),0,3);case 3:return new Date(dr.getFullYear(),0,2);case 4:return new Date(dr.getFullYear(),0,1);case 5:return new Date(dr.getFullYear()-1,11,31);case 6:return new Date(dr.getFullYear()-1,11,30)}}function dt(dr){var Pr=Rt(new Date(dr.tm_year+1900,0,1),dr.tm_yday),Dn=new Date(Pr.getFullYear(),0,4),Xe=new Date(Pr.getFullYear()+1,0,4),Ft=on(Dn),Mt=on(Xe);return Te(Ft,Pr)<=0?Te(Mt,Pr)<=0?Pr.getFullYear()+1:Pr.getFullYear():Pr.getFullYear()-1}var pt={"%a":function(dr){return ar[dr.tm_wday].substring(0,3)},"%A":function(dr){return ar[dr.tm_wday]},"%b":function(dr){return pr[dr.tm_mon].substring(0,3)},"%B":function(dr){return pr[dr.tm_mon]},"%C":function(dr){var Pr=dr.tm_year+1900;return Or(Pr/100|0,2)},"%d":function(dr){return Or(dr.tm_mday,2)},"%e":function(dr){return Ar(dr.tm_mday,2," ")},"%g":function(dr){return dt(dr).toString().substring(2)},"%G":function(dr){return dt(dr)},"%H":function(dr){return Or(dr.tm_hour,2)},"%I":function(dr){var Pr=dr.tm_hour;return Pr==0?Pr=12:Pr>12&&(Pr-=12),Or(Pr,2)},"%j":function(dr){return Or(dr.tm_mday+It(Dt(dr.tm_year+1900)?Tt:vt,dr.tm_mon-1),3)},"%m":function(dr){return Or(dr.tm_mon+1,2)},"%M":function(dr){return Or(dr.tm_min,2)},"%n":function(){return`
`},"%p":function(dr){return dr.tm_hour>=0&&dr.tm_hour<12?"AM":"PM"},"%S":function(dr){return Or(dr.tm_sec,2)},"%t":function(){return"	"},"%u":function(dr){return dr.tm_wday||7},"%U":function(dr){var Pr=new Date(dr.tm_year+1900,0,1),Dn=Pr.getDay()===0?Pr:Rt(Pr,7-Pr.getDay()),Xe=new Date(dr.tm_year+1900,dr.tm_mon,dr.tm_mday);if(Te(Dn,Xe)<0){var Ft=It(Dt(Xe.getFullYear())?Tt:vt,Xe.getMonth()-1)-31,Mt=31-Dn.getDate(),Bt=Mt+Ft+Xe.getDate();return Or(Math.ceil(Bt/7),2)}return Te(Dn,Pr)===0?"01":"00"},"%V":function(dr){var Pr=new Date(dr.tm_year+1900,0,4),Dn=new Date(dr.tm_year+1901,0,4),Xe=on(Pr),Ft=on(Dn),Mt=Rt(new Date(dr.tm_year+1900,0,1),dr.tm_yday);if(Te(Mt,Xe)<0)return"53";if(Te(Ft,Mt)<=0)return"01";var Bt;return Xe.getFullYear()<dr.tm_year+1900?Bt=dr.tm_yday+32-Xe.getDate():Bt=dr.tm_yday+1-Xe.getDate(),Or(Math.ceil(Bt/7),2)},"%w":function(dr){return dr.tm_wday},"%W":function(dr){var Pr=new Date(dr.tm_year,0,1),Dn=Pr.getDay()===1?Pr:Rt(Pr,Pr.getDay()===0?1:7-Pr.getDay()+1),Xe=new Date(dr.tm_year+1900,dr.tm_mon,dr.tm_mday);if(Te(Dn,Xe)<0){var Ft=It(Dt(Xe.getFullYear())?Tt:vt,Xe.getMonth()-1)-31,Mt=31-Dn.getDate(),Bt=Mt+Ft+Xe.getDate();return Or(Math.ceil(Bt/7),2)}return Te(Dn,Pr)===0?"01":"00"},"%y":function(dr){return(dr.tm_year+1900).toString().substring(2)},"%Y":function(dr){return dr.tm_year+1900},"%z":function(dr){var Pr=dr.tm_gmtoff,Dn=Pr>=0;return Pr=Math.abs(Pr)/60,Pr=Pr/60*100+Pr%60,(Dn?"+":"-")+("0000"+Pr).slice(-4)},"%Z":function(dr){return dr.tm_zone},"%%":function(){return"%"}};for(var x in pt)W.includes(x)&&(W=W.replace(new RegExp(x,"g"),pt[x](b)));var mt=Pt(W,!1);return mt.length>r?0:(fe(mt,n),mt.length-1)}function At(n,r,t,u){return Jt(n,r,t,u)}wr||nr.initMainThreadBlock(),Bn=a.InternalError=zn(Error,"InternalError"),De(),sn=a.BindingError=zn(Error,"BindingError"),nt(),T=a.UnboundTypeError=zn(Error,"UnboundTypeError");var Vt,Nt=[null,Ne,Ct,Kt,ri,qt,Xt,ei];function Pt(n,r,t){var u=t>0?t:qr(n)+1,_=new Array(u),b=Rr(n,_,0,_.length);return r&&(_.length=b),_}var Ht={e:un,M:_n,q:Fn,B:fn,s:et,w:Oe,Q:at,P:ot,o:ut,r:R,d:K,c:E,p:S,k:l,t:m,f:U,R:q,L:f,i:Sn,U:M,T:rr,u:Nr,b:D,n:w,H:k,m:H,h:J,g:Fe,j:te,z:$,G:ur,I:gr,A:ve,J:Ot,l:fi,K:$t,D:Kt,E:ri,O:qt,v:Xt,N:ei,y:Cn,a:Wr||a.wasmMemory,S:Et,F:ii,x:Qt,C:At};en(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.V).apply(null,arguments)};var _t=a._malloc=function(){return(_t=a._malloc=a.asm.W).apply(null,arguments)},Xn=a._free=function(){return(Xn=a._free=a.asm.X).apply(null,arguments)};a._emscripten_tls_init=function(){return(a._emscripten_tls_init=a.asm.Y).apply(null,arguments)};var St=a.___getTypeName=function(){return(St=a.___getTypeName=a.asm._).apply(null,arguments)};a.___embind_register_native_and_builtin_types=function(){return(a.___embind_register_native_and_builtin_types=a.asm.$).apply(null,arguments)},a._emscripten_current_thread_process_queued_calls=function(){return(a._emscripten_current_thread_process_queued_calls=a.asm.aa).apply(null,arguments)};var Gt=a._emscripten_register_main_browser_thread_id=function(){return(Gt=a._emscripten_register_main_browser_thread_id=a.asm.ba).apply(null,arguments)},Wt=a._emscripten_main_browser_thread_id=function(){return(Wt=a._emscripten_main_browser_thread_id=a.asm.ca).apply(null,arguments)},gt=a.__emscripten_do_dispatch_to_thread=function(){return(gt=a.__emscripten_do_dispatch_to_thread=a.asm.da).apply(null,arguments)},wt=a._emscripten_sync_run_in_main_thread_4=function(){return(wt=a._emscripten_sync_run_in_main_thread_4=a.asm.ea).apply(null,arguments)},xt=a._emscripten_main_thread_process_queued_calls=function(){return(xt=a._emscripten_main_thread_process_queued_calls=a.asm.fa).apply(null,arguments)},i=a._emscripten_run_in_main_runtime_thread_js=function(){return(i=a._emscripten_run_in_main_runtime_thread_js=a.asm.ga).apply(null,arguments)},o=a.__emscripten_call_on_thread=function(){return(o=a.__emscripten_call_on_thread=a.asm.ha).apply(null,arguments)},v=a.__emscripten_thread_init=function(){return(v=a.__emscripten_thread_init=a.asm.ia).apply(null,arguments)},A=a._emscripten_get_global_libc=function(){return(A=a._emscripten_get_global_libc=a.asm.ja).apply(null,arguments)},N=a.___pthread_tsd_run_dtors=function(){return(N=a.___pthread_tsd_run_dtors=a.asm.ka).apply(null,arguments)},Y=a._pthread_self=function(){return(Y=a._pthread_self=a.asm.la).apply(null,arguments)},Q=a.stackSave=function(){return(Q=a.stackSave=a.asm.ma).apply(null,arguments)},Z=a.stackRestore=function(){return(Z=a.stackRestore=a.asm.na).apply(null,arguments)},or=a.stackAlloc=function(){return(or=a.stackAlloc=a.asm.oa).apply(null,arguments)},Cr=a._emscripten_stack_set_limits=function(){return(Cr=a._emscripten_stack_set_limits=a.asm.pa).apply(null,arguments)},Dr=a._memalign=function(){return(Dr=a._memalign=a.asm.qa).apply(null,arguments)};a.dynCall_iiji=function(){return(a.dynCall_iiji=a.asm.ra).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.sa).apply(null,arguments)},a.dynCall_iiiiij=function(){return(a.dynCall_iiiiij=a.asm.ta).apply(null,arguments)},a.dynCall_iiiiijj=function(){return(a.dynCall_iiiiijj=a.asm.ua).apply(null,arguments)},a.dynCall_iiiiiijj=function(){return(a.dynCall_iiiiiijj=a.asm.va).apply(null,arguments)},a.dynCall_viijii=function(){return(a.dynCall_viijii=a.asm.wa).apply(null,arguments)};var me=a.__emscripten_allow_main_runtime_queued_calls=60528,Tn=a.__emscripten_main_thread_futex=71380;a.PThread=nr,a.PThread=nr,a.wasmMemory=Wr,a.ExitStatus=Zn;var Yn;function Zn(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}de=function n(){Yn||ht(),Yn||(de=n)};function ht(n){if(pe>0)return;if(wr){Ie(a),Ce(),postMessage({cmd:"loaded"});return}if(ze(),pe>0)return;function r(){Yn||(Yn=!0,a.calledRun=!0,!ue&&(Ce(),Ie(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),rn()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),r()},1)):r()}a.run=ht;function bt(n,r){if(!(r&&Sr()&&n===0)){if(!r&&wr)throw postMessage({cmd:"exitProcess",returnCode:n}),new Zn(n);Sr()||(nr.terminateAllThreads(),a.onExit&&a.onExit(n),ue=!0),vn(n,new Zn(n))}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return wr&&(Gr=!1,nr.initWorker()),ht(),a.ready}}(),Lo=Mo,No=function(){var G=import.meta.url;return function(a){a=a||{};function e(){return Wr.buffer!=Jr&&oe(Wr.buffer),$e}function lr(){return Wr.buffer!=Jr&&oe(Wr.buffer),gn}function Tr(){return Wr.buffer!=Jr&&oe(Wr.buffer),Qn}function hr(){return Wr.buffer!=Jr&&oe(Wr.buffer),Pn}function F(){return Wr.buffer!=Jr&&oe(Wr.buffer),An}function er(){return Wr.buffer!=Jr&&oe(Wr.buffer),ae}function kr(){return Wr.buffer!=Jr&&oe(Wr.buffer),Le}function Ir(){return Wr.buffer!=Jr&&oe(Wr.buffer),Ae}var a=typeof a<"u"?a:{},Ie,_e;a.ready=new Promise(function(n,r){Ie=n,_e=r});var $r={},xr;for(xr in a)a.hasOwnProperty(xr)&&($r[xr]=a[xr]);var cn="./this.program",vn=function(n,r){throw r},mr=!0,wr=a.ENVIRONMENT_IS_PTHREAD||!1,Ve="";function Hn(n){return a.locateFile?a.locateFile(n,Ve):Ve+n}var jn;Ve=self.location.href,G&&(Ve=G),Ve.indexOf("blob:")!==0?Ve=Ve.substr(0,Ve.lastIndexOf("/")+1):Ve="",jn=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)};var Qr=a.print||console.log.bind(console),ce=a.printErr||console.warn.bind(console);for(xr in $r)$r.hasOwnProperty(xr)&&(a[xr]=$r[xr]);$r=null,a.arguments&&a.arguments,a.thisProgram&&(cn=a.thisProgram),a.quit&&(vn=a.quit);var In;a.wasmBinary&&(In=a.wasmBinary);var Gr=a.noExitRuntime||!0;typeof WebAssembly!="object"&&Lr("no native wasm support detected");var Wr,we,ue=!1;function pn(n,r){n||Lr("Assertion failed: "+r)}function Kr(n,r,t){for(var u=r+t,_="";!(r>=u);){var b=n[r++];if(!b)return _;if(!(b&128)){_+=String.fromCharCode(b);continue}var W=n[r++]&63;if((b&224)==192){_+=String.fromCharCode((b&31)<<6|W);continue}var I=n[r++]&63;if((b&240)==224?b=(b&15)<<12|W<<6|I:b=(b&7)<<18|W<<12|I<<6|n[r++]&63,b<65536)_+=String.fromCharCode(b);else{var x=b-65536;_+=String.fromCharCode(55296|x>>10,56320|x&1023)}}return _}function jr(n,r){return n?Kr(lr(),n,r):""}function Rr(n,r,t,u){if(!(u>0))return 0;for(var _=t,b=t+u-1,W=0;W<n.length;++W){var I=n.charCodeAt(W);if(I>=55296&&I<=57343){var x=n.charCodeAt(++W);I=65536+((I&1023)<<10)|x&1023}if(I<=127){if(t>=b)break;r[t++]=I}else if(I<=2047){if(t+1>=b)break;r[t++]=192|I>>6,r[t++]=128|I&63}else if(I<=65535){if(t+2>=b)break;r[t++]=224|I>>12,r[t++]=128|I>>6&63,r[t++]=128|I&63}else{if(t+3>=b)break;r[t++]=240|I>>18,r[t++]=128|I>>12&63,r[t++]=128|I>>6&63,r[t++]=128|I&63}}return r[t]=0,t-_}function Yr(n,r,t){return Rr(n,lr(),r,t)}function qr(n){for(var r=0,t=0;t<n.length;++t){var u=n.charCodeAt(t);u>=55296&&u<=57343&&(u=65536+((u&1023)<<10)|n.charCodeAt(++t)&1023),u<=127?++r:u<=2047?r+=2:u<=65535?r+=3:r+=4}return r}function Er(n,r){for(var t="",u=0;!(u>=r/2);++u){var _=Tr()[n+u*2>>1];if(_==0)break;t+=String.fromCharCode(_)}return t}function Hr(n,r,t){if(t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var u=r,_=t<n.length*2?t/2:n.length,b=0;b<_;++b){var W=n.charCodeAt(b);Tr()[r>>1]=W,r+=2}return Tr()[r>>1]=0,r-u}function be(n){return n.length*2}function Mr(n,r){for(var t=0,u="";!(t>=r/4);){var _=F()[n+t*4>>2];if(_==0)break;if(++t,_>=65536){var b=_-65536;u+=String.fromCharCode(55296|b>>10,56320|b&1023)}else u+=String.fromCharCode(_)}return u}function qe(n,r,t){if(t===void 0&&(t=2147483647),t<4)return 0;for(var u=r,_=u+t-4,b=0;b<n.length;++b){var W=n.charCodeAt(b);if(W>=55296&&W<=57343){var I=n.charCodeAt(++b);W=65536+((W&1023)<<10)|I&1023}if(F()[r>>2]=W,r+=4,r+4>_)break}return F()[r>>2]=0,r-u}function Re(n){for(var r=0,t=0;t<n.length;++t){var u=n.charCodeAt(t);u>=55296&&u<=57343&&++t,r+=4}return r}function fe(n,r){e().set(n,r)}function bn(n,r,t){for(var u=0;u<n.length;++u)e()[r++>>0]=n.charCodeAt(u);t||(e()[r>>0]=0)}function Ze(n,r){return n%r>0&&(n+=r-n%r),n}var Jr,$e,gn,Qn,Pn,An,ae,Le,Ae;wr&&(Jr=a.buffer);function oe(n){Jr=n,a.HEAP8=$e=new Int8Array(n),a.HEAP16=Qn=new Int16Array(n),a.HEAP32=An=new Int32Array(n),a.HEAPU8=gn=new Uint8Array(n),a.HEAPU16=Pn=new Uint16Array(n),a.HEAPU32=ae=new Uint32Array(n),a.HEAPF32=Le=new Float32Array(n),a.HEAPF64=Ae=new Float64Array(n)}var Ue=a.INITIAL_MEMORY||16777216;if(wr)Wr=a.wasmMemory,Jr=a.buffer;else if(a.wasmMemory)Wr=a.wasmMemory;else if(Wr=new WebAssembly.Memory({initial:Ue/65536,maximum:2147483648/65536,shared:!0}),!(Wr.buffer instanceof SharedArrayBuffer))throw ce("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Error("bad memory");Wr&&(Jr=Wr.buffer),Ue=Jr.byteLength,oe(Jr);var ye,Mn=[],re=[],Rn=[];function ze(){if(!wr){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)le(a.preRun.shift());ee(Mn)}}function Ce(){wr||ee(re)}function rn(){if(!wr){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)st(a.postRun.shift());ee(Rn)}}function le(n){Mn.unshift(n)}function xe(n){re.unshift(n)}function st(n){Rn.unshift(n)}var pe=0,de=null;function hn(n){pn(!wr,"addRunDependency cannot be used in a pthread worker"),pe++,a.monitorRunDependencies&&a.monitorRunDependencies(pe)}function We(n){if(pe--,a.monitorRunDependencies&&a.monitorRunDependencies(pe),pe==0&&de){var r=de;de=null,r()}}a.preloadedImages={},a.preloadedAudios={};function Lr(n){a.onAbort&&a.onAbort(n),wr&&console.error("Pthread aborting at "+new Error().stack),n+="",ce(n),ue=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(n);throw _e(r),r}var Se="data:application/octet-stream;base64,";function Pe(n){return n.startsWith(Se)}if(a.locateFile){var Br="jxl_enc_mt.wasm";Pe(Br)||(Br=Hn(Br))}else var Br=new URL("../wasm/jxl_enc_mt.wasm",self.location).toString();function Ee(n){try{if(n==Br&&In)return new Uint8Array(In);if(jn)return jn(n);throw"both async and sync fetching of the wasm failed"}catch(r){Lr(r)}}function Ke(){return!In&&mr&&typeof fetch=="function"?fetch(Br,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Br+"'";return n.arrayBuffer()}).catch(function(){return Ee(Br)}):Promise.resolve().then(function(){return Ee(Br)})}function en(){var n={a:Ht};function r(W,I){var x=W.exports;if(a.asm=x,ye=a.asm.Z,xe(a.asm.V),nr.tlsInitFunctions.push(a.asm.Y),we=I,!wr){var ar=nr.unusedWorkers.length;nr.unusedWorkers.forEach(function(pr){nr.loadWasmModuleToWorker(pr,function(){--ar||We()})})}}wr||hn();function t(W){r(W.instance,W.module)}function u(W){return Ke().then(function(I){var x=WebAssembly.instantiate(I,n);return x}).then(W,function(I){ce("failed to asynchronously prepare wasm: "+I),Lr(I)})}function _(){return!In&&typeof WebAssembly.instantiateStreaming=="function"&&!Pe(Br)&&typeof fetch=="function"?fetch(Br,{credentials:"same-origin"}).then(function(W){var I=WebAssembly.instantiateStreaming(W,n);return I.then(t,function(x){return ce("wasm streaming compile failed: "+x),ce("falling back to ArrayBuffer instantiation"),u(t)})}):u(t)}if(a.instantiateWasm)try{var b=a.instantiateWasm(n,r);return b}catch(W){return ce("Module.instantiateWasm callback failed with error: "+W),!1}return _().catch(_e),{}}var Ur={61452:function(){throw"Canceled!"},61470:function(n,r){setTimeout(function(){gt(n,r)},0)}};function Cn(){nr.initRuntime()}function ee(n){for(;n.length>0;){var r=n.shift();if(typeof r=="function"){r(a);continue}var t=r.func;typeof t=="number"?r.arg===void 0?ye.get(t)():ye.get(t)(r.arg):t(r.arg===void 0?null:r.arg)}}var se={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function Fe(n,r){if(n<=0||n>e().length||n&!0||r<0)return-28;if(r==0)return 0;r>=2147483647&&(r=1/0);var t=Atomics.load(F(),Tn>>2),u=0;if(t==n){var _=Atomics.compareExchange(F(),Tn>>2,t,0);if(_==t&&(--r,u=1,r<=0))return 1}var b=Atomics.notify(F(),n>>2,r);if(b>=0)return b+u;throw"Atomics.notify returned an unexpected value "+b}a._emscripten_futex_wake=Fe;function vr(n){if(wr)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in killThread!";F()[n+12>>2]=0;var r=nr.pthreads[n];r.worker.terminate(),nr.freeThreadData(r),nr.runningWorkers.splice(nr.runningWorkers.indexOf(r.worker),1),r.worker.pthread=void 0}function ne(n){if(wr)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in cancelThread!";var r=nr.pthreads[n];r.worker.postMessage({cmd:"cancel"})}function nn(n){if(wr)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in cleanupThread!";var r=nr.pthreads[n];if(r){F()[n+12>>2]=0;var t=r.worker;nr.returnWorkerToPool(t)}}var nr={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var n=navigator.hardwareConcurrency,r=0;r<n;++r)nr.allocateUnusedWorker()},initRuntime:function(){for(var n=_t(228),r=0;r<228/4;++r)er()[n/4+r]=0;F()[n+12>>2]=n;var t=n+152;F()[t>>2]=t;for(var u=_t(512),r=0;r<128;++r)er()[u/4+r]=0;Atomics.store(er(),n+100>>2,u),Atomics.store(er(),n+40>>2,n),v(n,!mr,1),Gt(n)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;nr.threadExitHandlers.length>0;)nr.threadExitHandlers.pop()();wr&&Y()&&N()},runExitHandlersAndDeinitThread:function(n,r){Atomics.store(er(),n+56>>2,1),Atomics.store(er(),n+60>>2,0),nr.runExitHandlers(),Atomics.store(er(),n+4>>2,r),Atomics.store(er(),n+0>>2,1),Fe(n+0,2147483647),v(0,0,0)},setExitStatus:function(n){},threadExit:function(n){var r=Y();r&&(nr.runExitHandlersAndDeinitThread(r,n),wr&&postMessage({cmd:"exit"}))},threadCancel:function(){nr.runExitHandlersAndDeinitThread(Y(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var n in nr.pthreads){var r=nr.pthreads[n];r&&r.worker&&nr.returnWorkerToPool(r.worker)}nr.pthreads={};for(var t=0;t<nr.unusedWorkers.length;++t){var u=nr.unusedWorkers[t];u.terminate()}nr.unusedWorkers=[];for(var t=0;t<nr.runningWorkers.length;++t){var u=nr.runningWorkers[t],r=u.pthread;nr.freeThreadData(r),u.terminate()}nr.runningWorkers=[]},freeThreadData:function(n){if(n){if(n.threadInfoStruct){var r=F()[n.threadInfoStruct+100>>2];F()[n.threadInfoStruct+100>>2]=0,Xn(r),Xn(n.threadInfoStruct)}n.threadInfoStruct=0,n.allocatedOwnStack&&n.stackBase&&Xn(n.stackBase),n.stackBase=0,n.worker&&(n.worker.pthread=null)}},returnWorkerToPool:function(n){nr.runWithoutMainThreadQueuedCalls(function(){delete nr.pthreads[n.pthread.threadInfoStruct],nr.unusedWorkers.push(n),nr.runningWorkers.splice(nr.runningWorkers.indexOf(n),1),nr.freeThreadData(n.pthread),n.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(n){F()[me>>2]=0;try{n()}finally{F()[me>>2]=1}},receiveObjectTransfer:function(n){},threadInit:function(){for(var n in nr.tlsInitFunctions)nr.tlsInitFunctions[n]()},loadWasmModuleToWorker:function(n,r){n.onmessage=function(t){var u=t.data,_=u.cmd;if(n.pthread&&(nr.currentProxiedOperationCallerThread=n.pthread.threadInfoStruct),u.targetThread&&u.targetThread!=Y()){var b=nr.pthreads[u.targetThread];b?b.worker.postMessage(t.data,u.transferList):console.error('Internal error! Worker sent a message "'+_+'" to target pthread '+u.targetThread+", but that thread no longer exists!"),nr.currentProxiedOperationCallerThread=void 0;return}if(_==="processQueuedMainThreadWork")xt();else if(_==="spawnThread")it(t.data);else if(_==="cleanupThread")nn(u.thread);else if(_==="killThread")vr(u.thread);else if(_==="cancelThread")ne(u.thread);else if(_==="loaded")n.loaded=!0,r&&r(n),n.runPthread&&(n.runPthread(),delete n.runPthread);else if(_==="print")Qr("Thread "+u.threadId+": "+u.text);else if(_==="printErr")ce("Thread "+u.threadId+": "+u.text);else if(_==="alert")alert("Thread "+u.threadId+": "+u.text);else if(_==="exit"){var W=n.pthread&&Atomics.load(er(),n.pthread.threadInfoStruct+64>>2);W&&nr.returnWorkerToPool(n)}else if(_==="exitProcess")try{bt(u.returnCode)}catch(I){if(I instanceof Zn)return;throw I}else _==="cancelDone"?nr.returnWorkerToPool(n):_==="objectTransfer"?nr.receiveObjectTransfer(t.data):t.data.target==="setimmediate"?n.postMessage(t.data):ce("worker sent an unknown command "+_);nr.currentProxiedOperationCallerThread=void 0},n.onerror=function(t){ce("pthread sent an error! "+t.filename+":"+t.lineno+": "+t.message)},n.postMessage({cmd:"load",urlOrBlob:a.mainScriptUrlOrBlob,wasmMemory:Wr,wasmModule:we})},allocateUnusedWorker:function(){if(!a.locateFile){nr.unusedWorkers.push(new Worker(new URL("../wasm/jxl_enc_mt.worker.js?type=classic&worker_file",self.location)));return}var n=Hn("jxl_enc_mt.worker.js");nr.unusedWorkers.push(new Worker(n))},getNewWorker:function(){return nr.unusedWorkers.length==0&&(nr.allocateUnusedWorker(),nr.loadWasmModuleToWorker(nr.unusedWorkers[0])),nr.unusedWorkers.pop()},busySpinWait:function(n){for(var r=performance.now()+n;performance.now()<r;);}};function ge(n,r){Cr(n,r),Z(n)}a.establishStackSpace=ge;function Ge(n,r){return ye.get(n)(r)}a.invokeEntryPoint=Ge;var ie=0;function Sr(){return Gr||ie>0}a.keepRuntimeAlive=Sr;function un(n,r,t,u){Lr("Assertion failed: "+jr(n)+", at: "+[r?jr(r):"unknown filename",t,u?jr(u):"unknown function"])}var te;wr?te=function(){return performance.now()-a.__performance_now_clock_drift}:te=function(){return performance.now()};var Xr={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function _n(n){return _t(n+Xr.SIZE)+Xr.SIZE}function Ne(n,r){if(wr)return _r(1,1,n,r)}function Be(n,r){nr.threadExitHandlers.push(function(){ye.get(n)(r)})}function Fn(n,r){return Be(n,r)}function He(n){this.excPtr=n,this.ptr=n-Xr.SIZE,this.set_type=function(r){F()[this.ptr+Xr.TYPE_OFFSET>>2]=r},this.get_type=function(){return F()[this.ptr+Xr.TYPE_OFFSET>>2]},this.set_destructor=function(r){F()[this.ptr+Xr.DESTRUCTOR_OFFSET>>2]=r},this.get_destructor=function(){return F()[this.ptr+Xr.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(r){F()[this.ptr+Xr.REFCOUNT_OFFSET>>2]=r},this.set_caught=function(r){r=r?1:0,e()[this.ptr+Xr.CAUGHT_OFFSET>>0]=r},this.get_caught=function(){return e()[this.ptr+Xr.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(r){r=r?1:0,e()[this.ptr+Xr.RETHROWN_OFFSET>>0]=r},this.get_rethrown=function(){return e()[this.ptr+Xr.RETHROWN_OFFSET>>0]!=0},this.init=function(r,t){this.set_type(r),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(F(),this.ptr+Xr.REFCOUNT_OFFSET>>2,1)},this.release_ref=function(){var r=Atomics.sub(F(),this.ptr+Xr.REFCOUNT_OFFSET>>2,1);return r===1}}function fn(n,r,t){var u=new He(n);throw u.init(r,t),n}var Qe={};function yn(n){for(;n.length;){var r=n.pop(),t=n.pop();t(r)}}function On(n){return this.fromWireType(er()[n>>2])}var Je={},ln={},Ln={},$n=48,rt=57;function En(n){if(n===void 0)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var r=n.charCodeAt(0);return r>=$n&&r<=rt?"_"+n:n}function xn(n,r){return n=En(n),new Function("body","return function "+n+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(r)}function zn(n,r){var t=xn(r,function(u){this.name=r,this.message=u;var _=new Error(u).stack;_!==void 0&&(this.stack=this.toString()+`
`+_.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},t}var Bn=void 0;function wn(n){throw new Bn(n)}function Kn(n,r,t){n.forEach(function(I){Ln[I]=r});function u(I){var x=t(I);x.length!==n.length&&wn("Mismatched type converter count");for(var ar=0;ar<n.length;++ar)tn(n[ar],x[ar])}var _=new Array(r.length),b=[],W=0;r.forEach(function(I,x){ln.hasOwnProperty(I)?_[x]=ln[I]:(b.push(I),Je.hasOwnProperty(I)||(Je[I]=[]),Je[I].push(function(){_[x]=ln[I],++W,W===b.length&&u(_)}))}),b.length===0&&u(_)}function et(n){var r=Qe[n];delete Qe[n];var t=r.rawConstructor,u=r.rawDestructor,_=r.fields,b=_.map(function(W){return W.getterReturnType}).concat(_.map(function(W){return W.setterArgumentType}));Kn([n],b,function(W){var I={};return _.forEach(function(x,ar){var pr=x.fieldName,Ar=W[ar],Or=x.getter,Te=x.getterContext,on=W[ar+_.length],dt=x.setter,pt=x.setterContext;I[pr]={read:function(mt){return Ar.fromWireType(Or(Te,mt))},write:function(mt,dr){var Pr=[];dt(pt,mt,on.toWireType(Pr,dr)),yn(Pr)}}}),[{name:r.name,fromWireType:function(x){var ar={};for(var pr in I)ar[pr]=I[pr].read(x);return u(x),ar},toWireType:function(x,ar){for(var pr in I)if(!(pr in ar))throw new TypeError('Missing field:  "'+pr+'"');var Ar=t();for(pr in I)I[pr].write(Ar,ar[pr]);return x!==null&&x.push(u,Ar),Ar},argPackAdvance:8,readValueFromPointer:On,destructorFunction:u}]})}function Oe(n,r,t,u,_){}function qn(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}function De(){for(var n=new Array(256),r=0;r<256;++r)n[r]=String.fromCharCode(r);ke=n}var ke=void 0;function Me(n){for(var r="",t=n;lr()[t];)r+=ke[lr()[t++]];return r}var sn=void 0;function zr(n){throw new sn(n)}function tn(n,r,t){if(t=t||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var u=r.name;if(n||zr('type "'+u+'" must have a positive integer typeid pointer'),ln.hasOwnProperty(n)){if(t.ignoreDuplicateRegistrations)return;zr("Cannot register type '"+u+"' twice")}if(ln[n]=r,delete Ln[n],Je.hasOwnProperty(n)){var _=Je[n];delete Je[n],_.forEach(function(b){b()})}}function at(n,r,t,u,_){var b=qn(t);r=Me(r),tn(n,{name:r,fromWireType:function(W){return!!W},toWireType:function(W,I){return I?u:_},argPackAdvance:8,readValueFromPointer:function(W){var I;if(t===1)I=e();else if(t===2)I=Tr();else if(t===4)I=F();else throw new TypeError("Unknown boolean type size: "+r);return this.fromWireType(I[W>>b])},destructorFunction:null})}var dn=[],Ye=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Sn(n){n>4&&--Ye[n].refcount===0&&(Ye[n]=void 0,dn.push(n))}function ct(){for(var n=0,r=5;r<Ye.length;++r)Ye[r]!==void 0&&++n;return n}function Jn(){for(var n=5;n<Ye.length;++n)if(Ye[n]!==void 0)return Ye[n];return null}function nt(){a.count_emval_handles=ct,a.get_first_emval=Jn}function Vn(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var r=dn.length?dn.pop():Ye.length;return Ye[r]={refcount:1,value:n},r}}}function ot(n,r){r=Me(r),tn(n,{name:r,fromWireType:function(t){var u=Ye[t].value;return Sn(t),u},toWireType:function(t,u){return Vn(u)},argPackAdvance:8,readValueFromPointer:On,destructorFunction:null})}function Gn(n){if(n===null)return"null";var r=typeof n;return r==="object"||r==="array"||r==="function"?n.toString():""+n}function kn(n,r){switch(r){case 2:return function(t){return this.fromWireType(kr()[t>>2])};case 3:return function(t){return this.fromWireType(Ir()[t>>3])};default:throw new TypeError("Unknown float type: "+n)}}function ut(n,r,t){var u=qn(t);r=Me(r),tn(n,{name:r,fromWireType:function(_){return _},toWireType:function(_,b){if(typeof b!="number"&&typeof b!="boolean")throw new TypeError('Cannot convert "'+Gn(b)+'" to '+this.name);return b},argPackAdvance:8,readValueFromPointer:kn(r,u),destructorFunction:null})}function mn(n,r){if(!(n instanceof Function))throw new TypeError("new_ called with constructor type "+typeof n+" which is not a function");var t=xn(n.name||"unknownFunctionName",function(){});t.prototype=n.prototype;var u=new t,_=n.apply(u,r);return _ instanceof Object?_:u}function Wn(n,r,t,u,_){var b=r.length;b<2&&zr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var W=r[1]!==null&&t!==null,I=!1,x=1;x<r.length;++x)if(r[x]!==null&&r[x].destructorFunction===void 0){I=!0;break}for(var ar=r[0].name!=="void",pr="",Ar="",x=0;x<b-2;++x)pr+=(x!==0?", ":"")+"arg"+x,Ar+=(x!==0?", ":"")+"arg"+x+"Wired";var Or="return function "+En(n)+"("+pr+`) {
if (arguments.length !== `+(b-2)+`) {
throwBindingError('function `+n+" called with ' + arguments.length + ' arguments, expected "+(b-2)+` args!');
}
`;I&&(Or+=`var destructors = [];
`);var Te=I?"destructors":"null",on=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],dt=[zr,u,_,yn,r[0],r[1]];W&&(Or+="var thisWired = classParam.toWireType("+Te+`, this);
`);for(var x=0;x<b-2;++x)Or+="var arg"+x+"Wired = argType"+x+".toWireType("+Te+", arg"+x+"); // "+r[x+2].name+`
`,on.push("argType"+x),dt.push(r[x+2]);if(W&&(Ar="thisWired"+(Ar.length>0?", ":"")+Ar),Or+=(ar?"var rv = ":"")+"invoker(fn"+(Ar.length>0?", ":"")+Ar+`);
`,I)Or+=`runDestructors(destructors);
`;else for(var x=W?1:2;x<r.length;++x){var pt=x===1?"thisWired":"arg"+(x-2)+"Wired";r[x].destructorFunction!==null&&(Or+=pt+"_dtor("+pt+"); // "+r[x].name+`
`,on.push(pt+"_dtor"),dt.push(r[x].destructorFunction))}ar&&(Or+=`var ret = retType.fromWireType(rv);
return ret;
`),Or+=`}
`,on.push(Or);var mt=mn(Function,on).apply(null,dt);return mt}function V(n,r,t){if(n[r].overloadTable===void 0){var u=n[r];n[r]=function(){return n[r].overloadTable.hasOwnProperty(arguments.length)||zr("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+n[r].overloadTable+")!"),n[r].overloadTable[arguments.length].apply(this,arguments)},n[r].overloadTable=[],n[r].overloadTable[u.argCount]=u}}function X(n,r,t){a.hasOwnProperty(n)?((t===void 0||a[n].overloadTable!==void 0&&a[n].overloadTable[t]!==void 0)&&zr("Cannot register public name '"+n+"' twice"),V(a,n,n),a.hasOwnProperty(t)&&zr("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),a[n].overloadTable[t]=r):(a[n]=r,t!==void 0&&(a[n].numArguments=t))}function C(n,r){for(var t=[],u=0;u<n;u++)t.push(F()[(r>>2)+u]);return t}function d(n,r,t){a.hasOwnProperty(n)||wn("Replacing nonexistant public symbol"),a[n].overloadTable!==void 0&&t!==void 0?a[n].overloadTable[t]=r:(a[n]=r,a[n].argCount=t)}function y(n,r,t){var u=a["dynCall_"+n];return t&&t.length?u.apply(null,[r].concat(t)):u.call(null,r)}function P(n,r,t){return n.includes("j")?y(n,r,t):ye.get(r).apply(null,t)}function j(n,r){var t=[];return function(){t.length=arguments.length;for(var u=0;u<arguments.length;u++)t[u]=arguments[u];return P(n,r,t)}}function g(n,r){n=Me(n);function t(){return n.includes("j")?j(n,r):ye.get(r)}var u=t();return typeof u!="function"&&zr("unknown function pointer with signature "+n+": "+r),u}var T=void 0;function c(n){var r=St(n),t=Me(r);return Xn(r),t}function p(n,r){var t=[],u={};function _(b){if(!u[b]&&!ln[b]){if(Ln[b]){Ln[b].forEach(_);return}t.push(b),u[b]=!0}}throw r.forEach(_),new T(n+": "+t.map(c).join([", "]))}function R(n,r,t,u,_,b){var W=C(r,t);n=Me(n),_=g(u,_),X(n,function(){p("Cannot call "+n+" due to unbound types",W)},r-1),Kn([],W,function(I){var x=[I[0],null].concat(I.slice(1));return d(n,Wn(n,x,null,_,b),r-1),[]})}function B(n,r,t){switch(r){case 0:return t?function(_){return e()[_]}:function(_){return lr()[_]};case 1:return t?function(_){return Tr()[_>>1]}:function(_){return hr()[_>>1]};case 2:return t?function(_){return F()[_>>2]}:function(_){return er()[_>>2]};default:throw new TypeError("Unknown integer type: "+n)}}function K(n,r,t,u,_){r=Me(r),_===-1&&(_=4294967295);var b=qn(t),W=function(ar){return ar};if(u===0){var I=32-8*t;W=function(ar){return ar<<I>>>I}}var x=r.includes("unsigned");tn(n,{name:r,fromWireType:W,toWireType:function(ar,pr){if(typeof pr!="number"&&typeof pr!="boolean")throw new TypeError('Cannot convert "'+Gn(pr)+'" to '+this.name);if(pr<u||pr>_)throw new TypeError('Passing a number "'+Gn(pr)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+u+", "+_+"]!");return x?pr>>>0:pr|0},argPackAdvance:8,readValueFromPointer:B(r,b,u!==0),destructorFunction:null})}function E(n,r,t){var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],_=u[r];function b(W){W=W>>2;var I=er(),x=I[W],ar=I[W+1];return new _(Jr,ar,x)}t=Me(t),tn(n,{name:t,fromWireType:b,argPackAdvance:8,readValueFromPointer:b},{ignoreDuplicateRegistrations:!0})}function S(n,r){r=Me(r);var t=r==="std::string";tn(n,{name:r,fromWireType:function(u){var _=er()[u>>2],b;if(t)for(var W=u+4,I=0;I<=_;++I){var x=u+4+I;if(I==_||lr()[x]==0){var ar=x-W,pr=jr(W,ar);b===void 0?b=pr:(b+=String.fromCharCode(0),b+=pr),W=x+1}}else{for(var Ar=new Array(_),I=0;I<_;++I)Ar[I]=String.fromCharCode(lr()[u+4+I]);b=Ar.join("")}return Xn(u),b},toWireType:function(u,_){_ instanceof ArrayBuffer&&(_=new Uint8Array(_));var b,W=typeof _=="string";W||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int8Array||zr("Cannot pass non-string to std::string"),t&&W?b=function(){return qr(_)}:b=function(){return _.length};var I=b(),x=_t(4+I+1);if(er()[x>>2]=I,t&&W)Yr(_,x+4,I+1);else if(W)for(var ar=0;ar<I;++ar){var pr=_.charCodeAt(ar);pr>255&&(Xn(x),zr("String has UTF-16 code units that do not fit in 8 bits")),lr()[x+4+ar]=pr}else for(var ar=0;ar<I;++ar)lr()[x+4+ar]=_[ar];return u!==null&&u.push(Xn,x),x},argPackAdvance:8,readValueFromPointer:On,destructorFunction:function(u){Xn(u)}})}function l(n,r,t){t=Me(t);var u,_,b,W,I;r===2?(u=Er,_=Hr,W=be,b=function(){return hr()},I=1):r===4&&(u=Mr,_=qe,W=Re,b=function(){return er()},I=2),tn(n,{name:t,fromWireType:function(x){for(var ar=er()[x>>2],pr=b(),Ar,Or=x+4,Te=0;Te<=ar;++Te){var on=x+4+Te*r;if(Te==ar||pr[on>>I]==0){var dt=on-Or,pt=u(Or,dt);Ar===void 0?Ar=pt:(Ar+=String.fromCharCode(0),Ar+=pt),Or=on+r}}return Xn(x),Ar},toWireType:function(x,ar){typeof ar!="string"&&zr("Cannot pass non-string to C++ string type "+t);var pr=W(ar),Ar=_t(4+pr+r);return er()[Ar>>2]=pr>>I,_(ar,Ar+4,pr+r),x!==null&&x.push(Xn,Ar),Ar},argPackAdvance:8,readValueFromPointer:On,destructorFunction:function(x){Xn(x)}})}function m(n,r,t,u,_,b){Qe[n]={name:Me(r),rawConstructor:g(t,u),rawDestructor:g(_,b),fields:[]}}function U(n,r,t,u,_,b,W,I,x,ar){Qe[n].fields.push({fieldName:Me(r),getterReturnType:t,getter:g(u,_),getterContext:b,setterArgumentType:W,setter:g(I,x),setterContext:ar})}function q(n,r){r=Me(r),tn(n,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:function(){},toWireType:function(t,u){}})}function f(n,r){if(n==r)postMessage({cmd:"processQueuedMainThreadWork"});else if(wr)postMessage({targetThread:n,cmd:"processThreadQueue"});else{var t=nr.pthreads[n],u=t&&t.worker;if(!u)return;u.postMessage({cmd:"processThreadQueue"})}return 1}var s={};function h(n){var r=s[n];return r===void 0?Me(n):r}function O(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function M(n){return n===0?Vn(O()):(n=h(n),Vn(O()[n]))}function rr(n){n>4&&(Ye[n].refcount+=1)}function sr(n,r){var t=ln[n];return t===void 0&&zr(r+" has unknown type "+c(n)),t}function ir(n){for(var r="",t=0;t<n;++t)r+=(t!==0?", ":"")+"arg"+t;for(var u="return function emval_allocator_"+n+`(constructor, argTypes, args) {
`,t=0;t<n;++t)u+="var argType"+t+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+t+'], "parameter '+t+`");
var arg`+t+" = argType"+t+`.readValueFromPointer(args);
args += argType`+t+`['argPackAdvance'];
`;return u+="var obj = new constructor("+r+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",u)(sr,a,Vn)}var fr={};function br(n){return n||zr("Cannot use deleted val. handle = "+n),Ye[n].value}function Nr(n,r,t,u){n=br(n);var _=fr[r];return _||(_=ir(r),fr[r]=_),_(n,t,u)}function D(){Lr()}var L=[];function z(n,r){L.length=0;var t;for(r>>=2;t=lr()[n++];){var u=t<105;u&&r&1&&r++,L.push(u?Ir()[r++>>1]:F()[r]),++r}return L}function w(n,r,t){var u=z(r,t);return Ur[n].apply(null,u)}function k(){}function H(n,r){}function J(n,r,t){if(n<=0||n>e().length||n&!0)return-28;{var u=Atomics.wait(F(),n>>2,r,t);if(u==="timed-out")return-73;if(u==="not-equal")return-6;if(u==="ok")return 0;throw"Atomics.wait returned an unexpected value "+u}}function $(n,r,t){lr().copyWithin(n,r,r+t)}function ur(){return navigator.hardwareConcurrency}function _r(n,r){for(var t=arguments.length-2,u=Q(),_=t,b=or(_*8),W=b>>3,I=0;I<t;I++){var x=arguments[2+I];Ir()[W+I]=x}var ar=i(n,_,b,r);return Z(u),ar}var tr=[];function gr(n,r,t){tr.length=r;for(var u=t>>3,_=0;_<r;_++)tr[_]=Ir()[u+_];var b=n<0,W=b?Ur[-n-1]:Nt[n];return W.apply(null,tr)}function Vr(n){try{return Wr.grow(n-Jr.byteLength+65535>>>16),oe(Wr.buffer),1}catch{}}function ve(n){var r=lr().length;if(n=n>>>0,n<=r)return!1;var t=2147483648;if(n>t)return!1;for(var u=1;u<=4;u*=2){var _=r*(1+.2/u);_=Math.min(_,n+100663296);var b=Math.min(t,Ze(Math.max(n,_),65536)),W=Vr(b);if(W)return!0}return!1}var yr={inEventHandler:0,removeAllEventListeners:function(){for(var n=yr.eventHandlers.length-1;n>=0;--n)yr._removeHandler(n);yr.eventHandlers=[],yr.deferredCalls=[]},registerRemoveEventListeners:function(){yr.removeEventListenersRegistered||(yr.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(n,r,t){function u(W,I){if(W.length!=I.length)return!1;for(var x in W)if(W[x]!=I[x])return!1;return!0}for(var _ in yr.deferredCalls){var b=yr.deferredCalls[_];if(b.targetFunction==n&&u(b.argsList,t))return}yr.deferredCalls.push({targetFunction:n,precedence:r,argsList:t}),yr.deferredCalls.sort(function(W,I){return W.precedence<I.precedence})},removeDeferredCalls:function(n){for(var r=0;r<yr.deferredCalls.length;++r)yr.deferredCalls[r].targetFunction==n&&(yr.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:function(){return yr.inEventHandler&&yr.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(yr.canPerformEventHandlerRequests())for(var n=0;n<yr.deferredCalls.length;++n){var r=yr.deferredCalls[n];yr.deferredCalls.splice(n,1),--n,r.targetFunction.apply(null,r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(n,r){for(var t=0;t<yr.eventHandlers.length;++t)yr.eventHandlers[t].target==n&&(!r||r==yr.eventHandlers[t].eventTypeString)&&yr._removeHandler(t--)},_removeHandler:function(n){var r=yr.eventHandlers[n];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),yr.eventHandlers.splice(n,1)},registerOrRemoveHandler:function(n){var r=function(_){++yr.inEventHandler,yr.currentEventHandler=n,yr.runDeferredCalls(),n.handlerFunc(_),yr.runDeferredCalls(),--yr.inEventHandler};if(n.callbackfunc)n.eventListenerFunc=r,n.target.addEventListener(n.eventTypeString,r,n.useCapture),yr.eventHandlers.push(n),yr.registerRemoveEventListeners();else for(var t=0;t<yr.eventHandlers.length;++t)yr.eventHandlers[t].target==n.target&&yr.eventHandlers[t].eventTypeString==n.eventTypeString&&yr._removeHandler(t--)},queueEventHandlerOnThread_iiii:function(n,r,t,u,_){var b=Q(),W=or(12);F()[W>>2]=t,F()[W+4>>2]=u,F()[W+8>>2]=_,o(0,n,637534208,r,u,W),Z(b)},getTargetThreadForEventCallback:function(n){switch(n){case 1:return 0;case 2:return nr.currentProxiedOperationCallerThread;default:return n}},getNodeNameForTarget:function(n){return n?n==window?"#window":n==screen?"#screen":n&&n.nodeName?n.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function Zr(n){var r=qr(n)+1,t=_t(r);return Yr(n,t,r),t}function Nn(n,r,t,u){var _=Q(),b=or(12),W=0;r&&(W=Zr(r)),F()[b>>2]=W,F()[b+4>>2]=t,F()[b+8>>2]=u,o(0,n,657457152,0,W,b),Z(_)}function ft(n,r,t,u){r=r?jr(r):"",Nn(n,r,t,u)}function Fr(n){return n>2?jr(n):n}var he=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function tt(n){n=Fr(n);var r=he[n]||(typeof document<"u"?document.querySelector(n):void 0);return r}function Un(n){return tt(n)}function yt(n,r,t){var u=Un(n);if(!u)return-4;if(u.canvasSharedPtr&&(F()[u.canvasSharedPtr>>2]=r,F()[u.canvasSharedPtr+4>>2]=t),u.offscreenCanvas||!u.controlTransferredOffscreen){u.offscreenCanvas&&(u=u.offscreenCanvas);var _=!1;if(u.GLctxObject&&u.GLctxObject.GLctx){var b=u.GLctxObject.GLctx.getParameter(2978);_=b[0]===0&&b[1]===0&&b[2]===u.width&&b[3]===u.height}u.width=r,u.height=t,_&&u.GLctxObject.GLctx.viewport(0,0,r,t)}else if(u.canvasSharedPtr){var W=F()[u.canvasSharedPtr+8>>2];return ft(W,n,r,t),1}else return-4;return 0}function Ct(n,r,t){return wr?_r(2,1,n,r,t):yt(n,r,t)}function Ot(n,r,t){var u=Un(n);return u?yt(n,r,t):Ct(n,r,t)}function fi(n){}function an(n){var r=n.getExtension("ANGLE_instanced_arrays");if(r)return n.vertexAttribDivisor=function(t,u){r.vertexAttribDivisorANGLE(t,u)},n.drawArraysInstanced=function(t,u,_,b){r.drawArraysInstancedANGLE(t,u,_,b)},n.drawElementsInstanced=function(t,u,_,b,W){r.drawElementsInstancedANGLE(t,u,_,b,W)},1}function si(n){var r=n.getExtension("OES_vertex_array_object");if(r)return n.createVertexArray=function(){return r.createVertexArrayOES()},n.deleteVertexArray=function(t){r.deleteVertexArrayOES(t)},n.bindVertexArray=function(t){r.bindVertexArrayOES(t)},n.isVertexArray=function(t){return r.isVertexArrayOES(t)},1}function ci(n){var r=n.getExtension("WEBGL_draw_buffers");if(r)return n.drawBuffers=function(t,u){r.drawBuffersWEBGL(t,u)},1}function li(n){return!!(n.multiDrawWebgl=n.getExtension("WEBGL_multi_draw"))}var je={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(r){je.lastError||(je.lastError=r)},getNewId:function(n){for(var r=je.counter++,t=n.length;t<r;t++)n[t]=null;return r},getSource:function(n,r,t,u){for(var _="",b=0;b<r;++b){var W=u?F()[u+b*4>>2]:-1;_+=jr(F()[t+b*4>>2],W<0?void 0:W)}return _},createContext:function(n,r){n.getContextSafariWebGL2Fixed||(n.getContextSafariWebGL2Fixed=n.getContext,n.getContext=function(_,b){var W=n.getContextSafariWebGL2Fixed(_,b);return _=="webgl"==W instanceof WebGLRenderingContext?W:null});var t=n.getContext("webgl",r);if(!t)return 0;var u=je.registerContext(t,r);return u},registerContext:function(n,r){var t=_t(8);F()[t+4>>2]=Y();var u={handle:t,attributes:r,version:r.majorVersion,GLctx:n};return n.canvas&&(n.canvas.GLctxObject=u),je.contexts[t]=u,(typeof r.enableExtensionsByDefault>"u"||r.enableExtensionsByDefault)&&je.initExtensions(u),t},makeContextCurrent:function(n){return je.currentContext=je.contexts[n],a.ctx=Vt=je.currentContext&&je.currentContext.GLctx,!(n&&!Vt)},getContext:function(n){return je.contexts[n]},deleteContext:function(n){je.currentContext===je.contexts[n]&&(je.currentContext=null),typeof yr=="object"&&yr.removeAllHandlersOnTarget(je.contexts[n].GLctx.canvas),je.contexts[n]&&je.contexts[n].GLctx.canvas&&(je.contexts[n].GLctx.canvas.GLctxObject=void 0),Xn(je.contexts[n].handle),je.contexts[n]=null},initExtensions:function(n){if(n||(n=je.currentContext),!n.initExtensionsDone){n.initExtensionsDone=!0;var r=n.GLctx;an(r),si(r),ci(r),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query"),li(r);var t=r.getSupportedExtensions()||[];t.forEach(function(u){!u.includes("lose_context")&&!u.includes("debug")&&r.getExtension(u)})}}},lt=["default","low-power","high-performance"];function Zt(n,r){var t=r>>2,u=F()[t+6],_={alpha:!!F()[t+0],depth:!!F()[t+1],stencil:!!F()[t+2],antialias:!!F()[t+3],premultipliedAlpha:!!F()[t+4],preserveDrawingBuffer:!!F()[t+5],powerPreference:lt[u],failIfMajorPerformanceCaveat:!!F()[t+7],majorVersion:F()[t+8],minorVersion:F()[t+9],enableExtensionsByDefault:F()[t+10],explicitSwapControl:F()[t+11],proxyContextToMainThread:F()[t+12],renderViaOffscreenBackBuffer:F()[t+13]},b=Un(n);if(!b||_.explicitSwapControl)return 0;var W=je.createContext(b,_);return W}function $t(n,r){return Zt(n,r)}var Yt={};function ui(){return cn||"./this.program"}function kt(){if(!kt.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:ui()};for(var t in Yt)r[t]=Yt[t];var u=[];for(var t in r)u.push(t+"="+r[t]);kt.strings=u}return kt.strings}var Lt={mappings:{},buffers:[null,[],[]],printChar:function(n,r){var t=Lt.buffers[n];r===0||r===10?((n===1?Qr:ce)(Kr(t,0)),t.length=0):t.push(r)},varargs:void 0,get:function(){Lt.varargs+=4;var n=F()[Lt.varargs-4>>2];return n},getStr:function(n){var r=jr(n);return r},get64:function(n,r){return n}};function Kt(n,r){if(wr)return _r(3,1,n,r);var t=0;return kt().forEach(function(u,_){var b=r+t;F()[n+_*4>>2]=b,bn(u,b),t+=u.length+1}),0}function ri(n,r){if(wr)return _r(4,1,n,r);var t=kt();F()[n>>2]=t.length;var u=0;return t.forEach(function(_){u+=_.length+1}),F()[r>>2]=u,0}function qt(n){return wr?_r(5,1,n):0}function Xt(n,r,t,u,_){if(wr)return _r(6,1,n,r,t,u,_)}function ei(n,r,t,u){if(wr)return _r(7,1,n,r,t,u);for(var _=0,b=0;b<t;b++){for(var W=F()[r+b*8>>2],I=F()[r+(b*8+4)>>2],x=0;x<I;x++)Lt.printChar(n,lr()[W+x]);_+=I}return F()[u>>2]=_,0}function it(n){if(wr)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var r=nr.getNewWorker();if(!r)return 6;if(r.pthread!==void 0)throw"Internal error!";if(!n.pthread_ptr)throw"Internal error, no pthread ptr!";nr.runningWorkers.push(r);for(var t=_t(128*4),u=0;u<128;++u)F()[t+u*4>>2]=0;var _=n.stackBase+n.stackSize,b=nr.pthreads[n.pthread_ptr]={worker:r,stackBase:n.stackBase,stackSize:n.stackSize,allocatedOwnStack:n.allocatedOwnStack,threadInfoStruct:n.pthread_ptr},W=b.threadInfoStruct>>2;Atomics.store(er(),W+16,n.detached),Atomics.store(er(),W+25,t),Atomics.store(er(),W+10,b.threadInfoStruct),Atomics.store(er(),W+20,n.stackSize),Atomics.store(er(),W+19,_),Atomics.store(er(),W+26,n.stackSize),Atomics.store(er(),W+(104+8>>2),_),Atomics.store(er(),W+(104+12>>2),n.detached);var I=A(),x=I+40;Atomics.store(er(),W+43,x),r.pthread=b;var ar={cmd:"run",start_routine:n.startRoutine,arg:n.arg,threadInfoStruct:n.pthread_ptr,stackBase:n.stackBase,stackSize:n.stackSize};return r.runPthread=function(){ar.time=performance.now(),r.postMessage(ar,n.transferList)},r.loaded&&(r.runPthread(),delete r.runPthread),0}function Et(n,r,t,u){if(typeof SharedArrayBuffer>"u")return ce("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!n)return ce("pthread_create called with a null thread pointer!"),28;var _=[],b=0;if(wr&&(_.length===0||b))return wt(687865856,n,r,t,u);var W=0,I=0,x=0;r&&r!=-1?(W=F()[r>>2],W+=81920,I=F()[r+8>>2],x=F()[r+12>>2]!==0):W=2097152;var ar=I==0;ar?I=Dr(16,W):(I-=W,pn(I>0));for(var pr=_t(228),Ar=0;Ar<57;++Ar)er()[(pr>>2)+Ar]=0;F()[n>>2]=pr,F()[pr+12>>2]=pr;var Or=pr+152;F()[Or>>2]=Or;var Te={stackBase:I,stackSize:W,allocatedOwnStack:ar,detached:x,startRoutine:t,pthread_ptr:pr,arg:u,transferList:_};return wr?(Te.cmd="spawnThread",postMessage(Te,_),0):it(Te)}function ni(){if(wr){var n=Y();if(n){var r=Atomics.load(er(),n+56>>2);if(!r){var t=Atomics.load(er(),n+0>>2);if(t==2)throw"Canceled!"}}}}function ti(n,r,t){if(!n)return ce("pthread_join attempted on a null thread pointer!"),se.ESRCH;if(wr&&Y()==n)return ce("PThread "+n+" is attempting to join to itself!"),se.EDEADLK;if(!wr&&Wt()==n)return ce("Main thread "+n+" is attempting to join to itself!"),se.EDEADLK;var u=F()[n+12>>2];if(u!==n)return ce("pthread_join attempted on thread "+n+", which does not point to a valid thread, or does not exist anymore!"),se.ESRCH;var _=Atomics.load(er(),n+64>>2);if(_)return ce("Attempted to join thread "+n+", which was already detached!"),se.EINVAL;for(;;){var b=Atomics.load(er(),n+0>>2);if(b==1){var W=Atomics.load(er(),n+4>>2);return r&&(F()[r>>2]=W),Atomics.store(er(),n+64>>2,1),wr?postMessage({cmd:"cleanupThread",thread:n}):nn(n),0}if(!t)return se.EBUSY;ni(),wr||xt(),J(n+0,b,wr?100:1)}}function ii(n,r){return ti(n,r,!0)}function Qt(n){}function Dt(n){return n%4===0&&(n%100!==0||n%400===0)}function It(n,r){for(var t=0,u=0;u<=r;t+=n[u++]);return t}var Tt=[31,29,31,30,31,30,31,31,30,31,30,31],vt=[31,28,31,30,31,30,31,31,30,31,30,31];function Rt(n,r){for(var t=new Date(n.getTime());r>0;){var u=Dt(t.getFullYear()),_=t.getMonth(),b=(u?Tt:vt)[_];if(r>b-t.getDate())r-=b-t.getDate()+1,t.setDate(1),_<11?t.setMonth(_+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+r),t}return t}function Jt(n,r,t,u){var _=F()[u+40>>2],b={tm_sec:F()[u>>2],tm_min:F()[u+4>>2],tm_hour:F()[u+8>>2],tm_mday:F()[u+12>>2],tm_mon:F()[u+16>>2],tm_year:F()[u+20>>2],tm_wday:F()[u+24>>2],tm_yday:F()[u+28>>2],tm_isdst:F()[u+32>>2],tm_gmtoff:F()[u+36>>2],tm_zone:_?jr(_):""},W=jr(t),I={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var x in I)W=W.replace(new RegExp(x,"g"),I[x]);var ar=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],pr=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ar(dr,Pr,Dn){for(var Xe=typeof dr=="number"?dr.toString():dr||"";Xe.length<Pr;)Xe=Dn[0]+Xe;return Xe}function Or(dr,Pr){return Ar(dr,Pr,"0")}function Te(dr,Pr){function Dn(Ft){return Ft<0?-1:Ft>0?1:0}var Xe;return(Xe=Dn(dr.getFullYear()-Pr.getFullYear()))===0&&(Xe=Dn(dr.getMonth()-Pr.getMonth()))===0&&(Xe=Dn(dr.getDate()-Pr.getDate())),Xe}function on(dr){switch(dr.getDay()){case 0:return new Date(dr.getFullYear()-1,11,29);case 1:return dr;case 2:return new Date(dr.getFullYear(),0,3);case 3:return new Date(dr.getFullYear(),0,2);case 4:return new Date(dr.getFullYear(),0,1);case 5:return new Date(dr.getFullYear()-1,11,31);case 6:return new Date(dr.getFullYear()-1,11,30)}}function dt(dr){var Pr=Rt(new Date(dr.tm_year+1900,0,1),dr.tm_yday),Dn=new Date(Pr.getFullYear(),0,4),Xe=new Date(Pr.getFullYear()+1,0,4),Ft=on(Dn),Mt=on(Xe);return Te(Ft,Pr)<=0?Te(Mt,Pr)<=0?Pr.getFullYear()+1:Pr.getFullYear():Pr.getFullYear()-1}var pt={"%a":function(dr){return ar[dr.tm_wday].substring(0,3)},"%A":function(dr){return ar[dr.tm_wday]},"%b":function(dr){return pr[dr.tm_mon].substring(0,3)},"%B":function(dr){return pr[dr.tm_mon]},"%C":function(dr){var Pr=dr.tm_year+1900;return Or(Pr/100|0,2)},"%d":function(dr){return Or(dr.tm_mday,2)},"%e":function(dr){return Ar(dr.tm_mday,2," ")},"%g":function(dr){return dt(dr).toString().substring(2)},"%G":function(dr){return dt(dr)},"%H":function(dr){return Or(dr.tm_hour,2)},"%I":function(dr){var Pr=dr.tm_hour;return Pr==0?Pr=12:Pr>12&&(Pr-=12),Or(Pr,2)},"%j":function(dr){return Or(dr.tm_mday+It(Dt(dr.tm_year+1900)?Tt:vt,dr.tm_mon-1),3)},"%m":function(dr){return Or(dr.tm_mon+1,2)},"%M":function(dr){return Or(dr.tm_min,2)},"%n":function(){return`
`},"%p":function(dr){return dr.tm_hour>=0&&dr.tm_hour<12?"AM":"PM"},"%S":function(dr){return Or(dr.tm_sec,2)},"%t":function(){return"	"},"%u":function(dr){return dr.tm_wday||7},"%U":function(dr){var Pr=new Date(dr.tm_year+1900,0,1),Dn=Pr.getDay()===0?Pr:Rt(Pr,7-Pr.getDay()),Xe=new Date(dr.tm_year+1900,dr.tm_mon,dr.tm_mday);if(Te(Dn,Xe)<0){var Ft=It(Dt(Xe.getFullYear())?Tt:vt,Xe.getMonth()-1)-31,Mt=31-Dn.getDate(),Bt=Mt+Ft+Xe.getDate();return Or(Math.ceil(Bt/7),2)}return Te(Dn,Pr)===0?"01":"00"},"%V":function(dr){var Pr=new Date(dr.tm_year+1900,0,4),Dn=new Date(dr.tm_year+1901,0,4),Xe=on(Pr),Ft=on(Dn),Mt=Rt(new Date(dr.tm_year+1900,0,1),dr.tm_yday);if(Te(Mt,Xe)<0)return"53";if(Te(Ft,Mt)<=0)return"01";var Bt;return Xe.getFullYear()<dr.tm_year+1900?Bt=dr.tm_yday+32-Xe.getDate():Bt=dr.tm_yday+1-Xe.getDate(),Or(Math.ceil(Bt/7),2)},"%w":function(dr){return dr.tm_wday},"%W":function(dr){var Pr=new Date(dr.tm_year,0,1),Dn=Pr.getDay()===1?Pr:Rt(Pr,Pr.getDay()===0?1:7-Pr.getDay()+1),Xe=new Date(dr.tm_year+1900,dr.tm_mon,dr.tm_mday);if(Te(Dn,Xe)<0){var Ft=It(Dt(Xe.getFullYear())?Tt:vt,Xe.getMonth()-1)-31,Mt=31-Dn.getDate(),Bt=Mt+Ft+Xe.getDate();return Or(Math.ceil(Bt/7),2)}return Te(Dn,Pr)===0?"01":"00"},"%y":function(dr){return(dr.tm_year+1900).toString().substring(2)},"%Y":function(dr){return dr.tm_year+1900},"%z":function(dr){var Pr=dr.tm_gmtoff,Dn=Pr>=0;return Pr=Math.abs(Pr)/60,Pr=Pr/60*100+Pr%60,(Dn?"+":"-")+("0000"+Pr).slice(-4)},"%Z":function(dr){return dr.tm_zone},"%%":function(){return"%"}};for(var x in pt)W.includes(x)&&(W=W.replace(new RegExp(x,"g"),pt[x](b)));var mt=Pt(W,!1);return mt.length>r?0:(fe(mt,n),mt.length-1)}function At(n,r,t,u){return Jt(n,r,t,u)}wr||nr.initMainThreadBlock(),Bn=a.InternalError=zn(Error,"InternalError"),De(),sn=a.BindingError=zn(Error,"BindingError"),nt(),T=a.UnboundTypeError=zn(Error,"UnboundTypeError");var Vt,Nt=[null,Ne,Ct,Kt,ri,qt,Xt,ei];function Pt(n,r,t){var u=t>0?t:qr(n)+1,_=new Array(u),b=Rr(n,_,0,_.length);return r&&(_.length=b),_}var Ht={e:un,M:_n,q:Fn,B:fn,s:et,w:Oe,Q:at,P:ot,o:ut,r:R,d:K,c:E,p:S,k:l,t:m,f:U,R:q,L:f,i:Sn,U:M,T:rr,u:Nr,b:D,n:w,H:k,m:H,h:J,g:Fe,j:te,z:$,G:ur,I:gr,A:ve,J:Ot,l:fi,K:$t,D:Kt,E:ri,O:qt,v:Xt,N:ei,y:Cn,a:Wr||a.wasmMemory,S:Et,F:ii,x:Qt,C:At};en(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.V).apply(null,arguments)};var _t=a._malloc=function(){return(_t=a._malloc=a.asm.W).apply(null,arguments)},Xn=a._free=function(){return(Xn=a._free=a.asm.X).apply(null,arguments)};a._emscripten_tls_init=function(){return(a._emscripten_tls_init=a.asm.Y).apply(null,arguments)};var St=a.___getTypeName=function(){return(St=a.___getTypeName=a.asm._).apply(null,arguments)};a.___embind_register_native_and_builtin_types=function(){return(a.___embind_register_native_and_builtin_types=a.asm.$).apply(null,arguments)},a._emscripten_current_thread_process_queued_calls=function(){return(a._emscripten_current_thread_process_queued_calls=a.asm.aa).apply(null,arguments)};var Gt=a._emscripten_register_main_browser_thread_id=function(){return(Gt=a._emscripten_register_main_browser_thread_id=a.asm.ba).apply(null,arguments)},Wt=a._emscripten_main_browser_thread_id=function(){return(Wt=a._emscripten_main_browser_thread_id=a.asm.ca).apply(null,arguments)},gt=a.__emscripten_do_dispatch_to_thread=function(){return(gt=a.__emscripten_do_dispatch_to_thread=a.asm.da).apply(null,arguments)},wt=a._emscripten_sync_run_in_main_thread_4=function(){return(wt=a._emscripten_sync_run_in_main_thread_4=a.asm.ea).apply(null,arguments)},xt=a._emscripten_main_thread_process_queued_calls=function(){return(xt=a._emscripten_main_thread_process_queued_calls=a.asm.fa).apply(null,arguments)},i=a._emscripten_run_in_main_runtime_thread_js=function(){return(i=a._emscripten_run_in_main_runtime_thread_js=a.asm.ga).apply(null,arguments)},o=a.__emscripten_call_on_thread=function(){return(o=a.__emscripten_call_on_thread=a.asm.ha).apply(null,arguments)},v=a.__emscripten_thread_init=function(){return(v=a.__emscripten_thread_init=a.asm.ia).apply(null,arguments)},A=a._emscripten_get_global_libc=function(){return(A=a._emscripten_get_global_libc=a.asm.ja).apply(null,arguments)},N=a.___pthread_tsd_run_dtors=function(){return(N=a.___pthread_tsd_run_dtors=a.asm.ka).apply(null,arguments)},Y=a._pthread_self=function(){return(Y=a._pthread_self=a.asm.la).apply(null,arguments)},Q=a.stackSave=function(){return(Q=a.stackSave=a.asm.ma).apply(null,arguments)},Z=a.stackRestore=function(){return(Z=a.stackRestore=a.asm.na).apply(null,arguments)},or=a.stackAlloc=function(){return(or=a.stackAlloc=a.asm.oa).apply(null,arguments)},Cr=a._emscripten_stack_set_limits=function(){return(Cr=a._emscripten_stack_set_limits=a.asm.pa).apply(null,arguments)},Dr=a._memalign=function(){return(Dr=a._memalign=a.asm.qa).apply(null,arguments)};a.dynCall_iiji=function(){return(a.dynCall_iiji=a.asm.ra).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.sa).apply(null,arguments)},a.dynCall_iiiiij=function(){return(a.dynCall_iiiiij=a.asm.ta).apply(null,arguments)},a.dynCall_iiiiijj=function(){return(a.dynCall_iiiiijj=a.asm.ua).apply(null,arguments)},a.dynCall_iiiiiijj=function(){return(a.dynCall_iiiiiijj=a.asm.va).apply(null,arguments)},a.dynCall_viijii=function(){return(a.dynCall_viijii=a.asm.wa).apply(null,arguments)};var me=a.__emscripten_allow_main_runtime_queued_calls=61440,Tn=a.__emscripten_main_thread_futex=72292;a.PThread=nr,a.PThread=nr,a.wasmMemory=Wr,a.ExitStatus=Zn;var Yn;function Zn(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}de=function n(){Yn||ht(),Yn||(de=n)};function ht(n){if(pe>0)return;if(wr){Ie(a),Ce(),postMessage({cmd:"loaded"});return}if(ze(),pe>0)return;function r(){Yn||(Yn=!0,a.calledRun=!0,!ue&&(Ce(),Ie(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),rn()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),r()},1)):r()}a.run=ht;function bt(n,r){if(!(r&&Sr()&&n===0)){if(!r&&wr)throw postMessage({cmd:"exitProcess",returnCode:n}),new Zn(n);Sr()||(nr.terminateAllThreads(),a.onExit&&a.onExit(n),ue=!0),vn(n,new Zn(n))}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return wr&&(Gr=!1,nr.initWorker()),ht(),a.ready}}(),Ho=No,xo=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(D,L){lr=D,Tr=L});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er="./this.program",kr=!0,Ir="";function a(D){return e.locateFile?e.locateFile(D,Ir):Ir+D}var Ie;Ir=self.location.href,G&&(Ir=G),Ir.indexOf("blob:")!==0?Ir=Ir.substr(0,Ir.lastIndexOf("/")+1):Ir="",Ie=function(D){var L=new XMLHttpRequest;return L.open("GET",D,!1),L.responseType="arraybuffer",L.send(null),new Uint8Array(L.response)};var _e=e.print||console.log.bind(console),$r=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&(er=e.thisProgram),e.quit&&e.quit;var xr;e.wasmBinary&&(xr=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&re("no native wasm support detected");var cn,vn=!1,mr=new TextDecoder("utf8");function wr(D,L,z){for(var w=L+z,k=L;D[k]&&!(k>=w);)++k;return mr.decode(D.subarray?D.subarray(L,k):new Uint8Array(D.slice(L,k)))}function Ve(D,L){if(!D)return"";for(var z=D+L,w=D;!(w>=z)&&Er[w];)++w;return mr.decode(Er.subarray(D,w))}function Hn(D,L,z,w){if(!(w>0))return 0;for(var k=z,H=z+w-1,J=0;J<D.length;++J){var $=D.charCodeAt(J);if($>=55296&&$<=57343){var ur=D.charCodeAt(++J);$=65536+(($&1023)<<10)|ur&1023}if($<=127){if(z>=H)break;L[z++]=$}else if($<=2047){if(z+1>=H)break;L[z++]=192|$>>6,L[z++]=128|$&63}else if($<=65535){if(z+2>=H)break;L[z++]=224|$>>12,L[z++]=128|$>>6&63,L[z++]=128|$&63}else{if(z+3>=H)break;L[z++]=240|$>>18,L[z++]=128|$>>12&63,L[z++]=128|$>>6&63,L[z++]=128|$&63}}return L[z]=0,z-k}function jn(D,L,z){return Hn(D,Er,L,z)}function Qr(D){for(var L=0,z=0;z<D.length;++z){var w=D.charCodeAt(z);w>=55296&&w<=57343&&(w=65536+((w&1023)<<10)|D.charCodeAt(++z)&1023),w<=127?++L:w<=2047?L+=2:w<=65535?L+=3:L+=4}return L}var ce=new TextDecoder("utf-16le");function In(D,L){for(var z=D,w=z>>1,k=w+L/2;!(w>=k)&&be[w];)++w;return z=w<<1,ce.decode(Er.subarray(D,z))}function Gr(D,L,z){if(z===void 0&&(z=2147483647),z<2)return 0;z-=2;for(var w=L,k=z<D.length*2?z/2:D.length,H=0;H<k;++H){var J=D.charCodeAt(H);Hr[L>>1]=J,L+=2}return Hr[L>>1]=0,L-w}function Wr(D){return D.length*2}function we(D,L){for(var z=0,w="";!(z>=L/4);){var k=Mr[D+z*4>>2];if(k==0)break;if(++z,k>=65536){var H=k-65536;w+=String.fromCharCode(55296|H>>10,56320|H&1023)}else w+=String.fromCharCode(k)}return w}function ue(D,L,z){if(z===void 0&&(z=2147483647),z<4)return 0;for(var w=L,k=w+z-4,H=0;H<D.length;++H){var J=D.charCodeAt(H);if(J>=55296&&J<=57343){var $=D.charCodeAt(++H);J=65536+((J&1023)<<10)|$&1023}if(Mr[L>>2]=J,L+=4,L+4>k)break}return Mr[L>>2]=0,L-w}function pn(D){for(var L=0,z=0;z<D.length;++z){var w=D.charCodeAt(z);w>=55296&&w<=57343&&++z,L+=4}return L}function Kr(D,L){qr.set(D,L)}function jr(D,L,z){for(var w=0;w<D.length;++w)qr[L++>>0]=D.charCodeAt(w);z||(qr[L>>0]=0)}function Rr(D,L){return D%L>0&&(D+=L-D%L),D}var Yr,qr,Er,Hr,be,Mr,qe,Re,fe;function bn(D){Yr=D,e.HEAP8=qr=new Int8Array(D),e.HEAP16=Hr=new Int16Array(D),e.HEAP32=Mr=new Int32Array(D),e.HEAPU8=Er=new Uint8Array(D),e.HEAPU16=be=new Uint16Array(D),e.HEAPU32=qe=new Uint32Array(D),e.HEAPF32=Re=new Float32Array(D),e.HEAPF64=fe=new Float64Array(D)}e.INITIAL_MEMORY;var Ze,Jr=[],$e=[],gn=[];function Qn(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)ae(e.preRun.shift());st(Jr)}function Pn(){st($e)}function An(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Ae(e.postRun.shift());st(gn)}function ae(D){Jr.unshift(D)}function Le(D){$e.unshift(D)}function Ae(D){gn.unshift(D)}var oe=0,Ue=null;function ye(D){oe++,e.monitorRunDependencies&&e.monitorRunDependencies(oe)}function Mn(D){if(oe--,e.monitorRunDependencies&&e.monitorRunDependencies(oe),oe==0&&Ue){var L=Ue;Ue=null,L()}}e.preloadedImages={},e.preloadedAudios={};function re(D){e.onAbort&&e.onAbort(D),D+="",$r(D),vn=!0,D="abort("+D+"). Build with -s ASSERTIONS=1 for more info.";var L=new WebAssembly.RuntimeError(D);throw Tr(L),L}var Rn="data:application/octet-stream;base64,";function ze(D){return D.startsWith(Rn)}if(e.locateFile){var Ce="jxl_enc.wasm";ze(Ce)||(Ce=a(Ce))}else var Ce=new URL("../wasm/jxl_enc.wasm",self.location).toString();function rn(D){try{if(D==Ce&&xr)return new Uint8Array(xr);if(Ie)return Ie(D);throw"both async and sync fetching of the wasm failed"}catch(L){re(L)}}function le(){return!xr&&kr&&typeof fetch=="function"?fetch(Ce,{credentials:"same-origin"}).then(function(D){if(!D.ok)throw"failed to load wasm binary file at '"+Ce+"'";return D.arrayBuffer()}).catch(function(){return rn(Ce)}):Promise.resolve().then(function(){return rn(Ce)})}function xe(){var D={a:rr};function L(J,$){var ur=J.exports;e.asm=ur,cn=e.asm.E,bn(cn.buffer),Ze=e.asm.K,Le(e.asm.F),Mn()}ye();function z(J){L(J.instance)}function w(J){return le().then(function($){var ur=WebAssembly.instantiate($,D);return ur}).then(J,function($){$r("failed to asynchronously prepare wasm: "+$),re($)})}function k(){return!xr&&typeof WebAssembly.instantiateStreaming=="function"&&!ze(Ce)&&typeof fetch=="function"?fetch(Ce,{credentials:"same-origin"}).then(function(J){var $=WebAssembly.instantiateStreaming(J,D);return $.then(z,function(ur){return $r("wasm streaming compile failed: "+ur),$r("falling back to ArrayBuffer instantiation"),w(z)})}):w(z)}if(e.instantiateWasm)try{var H=e.instantiateWasm(D,L);return H}catch(J){return $r("Module.instantiateWasm callback failed with error: "+J),!1}return k().catch(Tr),{}}function st(D){for(;D.length>0;){var L=D.shift();if(typeof L=="function"){L(e);continue}var z=L.func;typeof z=="number"?L.arg===void 0?Ze.get(z)():Ze.get(z)(L.arg):z(L.arg===void 0?null:L.arg)}}var pe={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function de(D){return sr(D+pe.SIZE)+pe.SIZE}function hn(D,L){}function We(D,L){return void 0}function Lr(D){this.excPtr=D,this.ptr=D-pe.SIZE,this.set_type=function(L){Mr[this.ptr+pe.TYPE_OFFSET>>2]=L},this.get_type=function(){return Mr[this.ptr+pe.TYPE_OFFSET>>2]},this.set_destructor=function(L){Mr[this.ptr+pe.DESTRUCTOR_OFFSET>>2]=L},this.get_destructor=function(){return Mr[this.ptr+pe.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(L){Mr[this.ptr+pe.REFCOUNT_OFFSET>>2]=L},this.set_caught=function(L){L=L?1:0,qr[this.ptr+pe.CAUGHT_OFFSET>>0]=L},this.get_caught=function(){return qr[this.ptr+pe.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(L){L=L?1:0,qr[this.ptr+pe.RETHROWN_OFFSET>>0]=L},this.get_rethrown=function(){return qr[this.ptr+pe.RETHROWN_OFFSET>>0]!=0},this.init=function(L,z){this.set_type(L),this.set_destructor(z),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var L=Mr[this.ptr+pe.REFCOUNT_OFFSET>>2];Mr[this.ptr+pe.REFCOUNT_OFFSET>>2]=L+1},this.release_ref=function(){var L=Mr[this.ptr+pe.REFCOUNT_OFFSET>>2];return Mr[this.ptr+pe.REFCOUNT_OFFSET>>2]=L-1,L===1}}function Se(D,L,z){var w=new Lr(D);throw w.init(L,z),D}var Pe={};function Br(D){for(;D.length;){var L=D.pop(),z=D.pop();z(L)}}function Ee(D){return this.fromWireType(qe[D>>2])}var Ke={},en={},Ur={},Cn=48,ee=57;function se(D){if(D===void 0)return"_unknown";D=D.replace(/[^a-zA-Z0-9_]/g,"$");var L=D.charCodeAt(0);return L>=Cn&&L<=ee?"_"+D:D}function Fe(D,L){return D=se(D),new Function("body","return function "+D+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(L)}function vr(D,L){var z=Fe(L,function(w){this.name=L,this.message=w;var k=new Error(w).stack;k!==void 0&&(this.stack=this.toString()+`
`+k.replace(/^Error(:[^\n]*)?\n/,""))});return z.prototype=Object.create(D.prototype),z.prototype.constructor=z,z.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},z}var ne=void 0;function nn(D){throw new ne(D)}function nr(D,L,z){D.forEach(function($){Ur[$]=L});function w($){var ur=z($);ur.length!==D.length&&nn("Mismatched type converter count");for(var _r=0;_r<D.length;++_r)Ne(D[_r],ur[_r])}var k=new Array(L.length),H=[],J=0;L.forEach(function($,ur){en.hasOwnProperty($)?k[ur]=en[$]:(H.push($),Ke.hasOwnProperty($)||(Ke[$]=[]),Ke[$].push(function(){k[ur]=en[$],++J,J===H.length&&w(k)}))}),H.length===0&&w(k)}function ge(D){var L=Pe[D];delete Pe[D];var z=L.rawConstructor,w=L.rawDestructor,k=L.fields,H=k.map(function(J){return J.getterReturnType}).concat(k.map(function(J){return J.setterArgumentType}));nr([D],H,function(J){var $={};return k.forEach(function(ur,_r){var tr=ur.fieldName,gr=J[_r],Vr=ur.getter,ve=ur.getterContext,yr=J[_r+k.length],Zr=ur.setter,Nn=ur.setterContext;$[tr]={read:function(ft){return gr.fromWireType(Vr(ve,ft))},write:function(ft,Fr){var he=[];Zr(Nn,ft,yr.toWireType(he,Fr)),Br(he)}}}),[{name:L.name,fromWireType:function(ur){var _r={};for(var tr in $)_r[tr]=$[tr].read(ur);return w(ur),_r},toWireType:function(ur,_r){for(var tr in $)if(!(tr in _r))throw new TypeError('Missing field:  "'+tr+'"');var gr=z();for(tr in $)$[tr].write(gr,_r[tr]);return ur!==null&&ur.push(w,gr),gr},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:w}]})}function Ge(D,L,z,w,k){}function ie(D){switch(D){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+D)}}function Sr(){for(var D=new Array(256),L=0;L<256;++L)D[L]=String.fromCharCode(L);un=D}var un=void 0;function te(D){for(var L="",z=D;Er[z];)L+=un[Er[z++]];return L}var Xr=void 0;function _n(D){throw new Xr(D)}function Ne(D,L,z){if(z=z||{},!("argPackAdvance"in L))throw new TypeError("registerType registeredInstance requires argPackAdvance");var w=L.name;if(D||_n('type "'+w+'" must have a positive integer typeid pointer'),en.hasOwnProperty(D)){if(z.ignoreDuplicateRegistrations)return;_n("Cannot register type '"+w+"' twice")}if(en[D]=L,delete Ur[D],Ke.hasOwnProperty(D)){var k=Ke[D];delete Ke[D],k.forEach(function(H){H()})}}function Be(D,L,z,w,k){var H=ie(z);L=te(L),Ne(D,{name:L,fromWireType:function(J){return!!J},toWireType:function(J,$){return $?w:k},argPackAdvance:8,readValueFromPointer:function(J){var $;if(z===1)$=qr;else if(z===2)$=Hr;else if(z===4)$=Mr;else throw new TypeError("Unknown boolean type size: "+L);return this.fromWireType($[J>>H])},destructorFunction:null})}var Fn=[],He=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function fn(D){D>4&&--He[D].refcount===0&&(He[D]=void 0,Fn.push(D))}function Qe(){for(var D=0,L=5;L<He.length;++L)He[L]!==void 0&&++D;return D}function yn(){for(var D=5;D<He.length;++D)if(He[D]!==void 0)return He[D];return null}function On(){e.count_emval_handles=Qe,e.get_first_emval=yn}function Je(D){switch(D){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var L=Fn.length?Fn.pop():He.length;return He[L]={refcount:1,value:D},L}}}function ln(D,L){L=te(L),Ne(D,{name:L,fromWireType:function(z){var w=He[z].value;return fn(z),w},toWireType:function(z,w){return Je(w)},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:null})}function Ln(D){if(D===null)return"null";var L=typeof D;return L==="object"||L==="array"||L==="function"?D.toString():""+D}function $n(D,L){switch(L){case 2:return function(z){return this.fromWireType(Re[z>>2])};case 3:return function(z){return this.fromWireType(fe[z>>3])};default:throw new TypeError("Unknown float type: "+D)}}function rt(D,L,z){var w=ie(z);L=te(L),Ne(D,{name:L,fromWireType:function(k){return k},toWireType:function(k,H){if(typeof H!="number"&&typeof H!="boolean")throw new TypeError('Cannot convert "'+Ln(H)+'" to '+this.name);return H},argPackAdvance:8,readValueFromPointer:$n(L,w),destructorFunction:null})}function En(D,L){if(!(D instanceof Function))throw new TypeError("new_ called with constructor type "+typeof D+" which is not a function");var z=Fe(D.name||"unknownFunctionName",function(){});z.prototype=D.prototype;var w=new z,k=D.apply(w,L);return k instanceof Object?k:w}function xn(D,L,z,w,k){var H=L.length;H<2&&_n("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var J=L[1]!==null&&z!==null,$=!1,ur=1;ur<L.length;++ur)if(L[ur]!==null&&L[ur].destructorFunction===void 0){$=!0;break}for(var _r=L[0].name!=="void",tr="",gr="",ur=0;ur<H-2;++ur)tr+=(ur!==0?", ":"")+"arg"+ur,gr+=(ur!==0?", ":"")+"arg"+ur+"Wired";var Vr="return function "+se(D)+"("+tr+`) {
if (arguments.length !== `+(H-2)+`) {
throwBindingError('function `+D+" called with ' + arguments.length + ' arguments, expected "+(H-2)+` args!');
}
`;$&&(Vr+=`var destructors = [];
`);var ve=$?"destructors":"null",yr=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Zr=[_n,w,k,Br,L[0],L[1]];J&&(Vr+="var thisWired = classParam.toWireType("+ve+`, this);
`);for(var ur=0;ur<H-2;++ur)Vr+="var arg"+ur+"Wired = argType"+ur+".toWireType("+ve+", arg"+ur+"); // "+L[ur+2].name+`
`,yr.push("argType"+ur),Zr.push(L[ur+2]);if(J&&(gr="thisWired"+(gr.length>0?", ":"")+gr),Vr+=(_r?"var rv = ":"")+"invoker(fn"+(gr.length>0?", ":"")+gr+`);
`,$)Vr+=`runDestructors(destructors);
`;else for(var ur=J?1:2;ur<L.length;++ur){var Nn=ur===1?"thisWired":"arg"+(ur-2)+"Wired";L[ur].destructorFunction!==null&&(Vr+=Nn+"_dtor("+Nn+"); // "+L[ur].name+`
`,yr.push(Nn+"_dtor"),Zr.push(L[ur].destructorFunction))}_r&&(Vr+=`var ret = retType.fromWireType(rv);
return ret;
`),Vr+=`}
`,yr.push(Vr);var ft=En(Function,yr).apply(null,Zr);return ft}function zn(D,L,z){if(D[L].overloadTable===void 0){var w=D[L];D[L]=function(){return D[L].overloadTable.hasOwnProperty(arguments.length)||_n("Function '"+z+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+D[L].overloadTable+")!"),D[L].overloadTable[arguments.length].apply(this,arguments)},D[L].overloadTable=[],D[L].overloadTable[w.argCount]=w}}function Bn(D,L,z){e.hasOwnProperty(D)?((z===void 0||e[D].overloadTable!==void 0&&e[D].overloadTable[z]!==void 0)&&_n("Cannot register public name '"+D+"' twice"),zn(e,D,D),e.hasOwnProperty(z)&&_n("Cannot register multiple overloads of a function with the same number of arguments ("+z+")!"),e[D].overloadTable[z]=L):(e[D]=L,z!==void 0&&(e[D].numArguments=z))}function wn(D,L){for(var z=[],w=0;w<D;w++)z.push(Mr[(L>>2)+w]);return z}function Kn(D,L,z){e.hasOwnProperty(D)||nn("Replacing nonexistant public symbol"),e[D].overloadTable!==void 0&&z!==void 0?e[D].overloadTable[z]=L:(e[D]=L,e[D].argCount=z)}function et(D,L,z){var w=e["dynCall_"+D];return z&&z.length?w.apply(null,[L].concat(z)):w.call(null,L)}function Oe(D,L,z){return D.includes("j")?et(D,L,z):Ze.get(L).apply(null,z)}function qn(D,L){var z=[];return function(){z.length=arguments.length;for(var w=0;w<arguments.length;w++)z[w]=arguments[w];return Oe(D,L,z)}}function De(D,L){D=te(D);function z(){return D.includes("j")?qn(D,L):Ze.get(L)}var w=z();return typeof w!="function"&&_n("unknown function pointer with signature "+D+": "+L),w}var ke=void 0;function Me(D){var L=fr(D),z=te(L);return ir(L),z}function sn(D,L){var z=[],w={};function k(H){if(!w[H]&&!en[H]){if(Ur[H]){Ur[H].forEach(k);return}z.push(H),w[H]=!0}}throw L.forEach(k),new ke(D+": "+z.map(Me).join([", "]))}function zr(D,L,z,w,k,H){var J=wn(L,z);D=te(D),k=De(w,k),Bn(D,function(){sn("Cannot call "+D+" due to unbound types",J)},L-1),nr([],J,function($){var ur=[$[0],null].concat($.slice(1));return Kn(D,xn(D,ur,null,k,H),L-1),[]})}function tn(D,L,z){switch(L){case 0:return z?function(k){return qr[k]}:function(k){return Er[k]};case 1:return z?function(k){return Hr[k>>1]}:function(k){return be[k>>1]};case 2:return z?function(k){return Mr[k>>2]}:function(k){return qe[k>>2]};default:throw new TypeError("Unknown integer type: "+D)}}function at(D,L,z,w,k){L=te(L),k===-1&&(k=4294967295);var H=ie(z),J=function(_r){return _r};if(w===0){var $=32-8*z;J=function(_r){return _r<<$>>>$}}var ur=L.includes("unsigned");Ne(D,{name:L,fromWireType:J,toWireType:function(_r,tr){if(typeof tr!="number"&&typeof tr!="boolean")throw new TypeError('Cannot convert "'+Ln(tr)+'" to '+this.name);if(tr<w||tr>k)throw new TypeError('Passing a number "'+Ln(tr)+'" from JS side to C/C++ side to an argument of type "'+L+'", which is outside the valid range ['+w+", "+k+"]!");return ur?tr>>>0:tr|0},argPackAdvance:8,readValueFromPointer:tn(L,H,w!==0),destructorFunction:null})}function dn(D,L,z){var w=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],k=w[L];function H(J){J=J>>2;var $=qe,ur=$[J],_r=$[J+1];return new k(Yr,_r,ur)}z=te(z),Ne(D,{name:z,fromWireType:H,argPackAdvance:8,readValueFromPointer:H},{ignoreDuplicateRegistrations:!0})}function Ye(D,L){L=te(L);var z=L==="std::string";Ne(D,{name:L,fromWireType:function(w){var k=qe[w>>2],H;if(z)for(var J=w+4,$=0;$<=k;++$){var ur=w+4+$;if($==k||Er[ur]==0){var _r=ur-J,tr=Ve(J,_r);H===void 0?H=tr:(H+=String.fromCharCode(0),H+=tr),J=ur+1}}else{for(var gr=new Array(k),$=0;$<k;++$)gr[$]=String.fromCharCode(Er[w+4+$]);H=gr.join("")}return ir(w),H},toWireType:function(w,k){k instanceof ArrayBuffer&&(k=new Uint8Array(k));var H,J=typeof k=="string";J||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int8Array||_n("Cannot pass non-string to std::string"),z&&J?H=function(){return Qr(k)}:H=function(){return k.length};var $=H(),ur=sr(4+$+1);if(qe[ur>>2]=$,z&&J)jn(k,ur+4,$+1);else if(J)for(var _r=0;_r<$;++_r){var tr=k.charCodeAt(_r);tr>255&&(ir(ur),_n("String has UTF-16 code units that do not fit in 8 bits")),Er[ur+4+_r]=tr}else for(var _r=0;_r<$;++_r)Er[ur+4+_r]=k[_r];return w!==null&&w.push(ir,ur),ur},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:function(w){ir(w)}})}function Sn(D,L,z){z=te(z);var w,k,H,J,$;L===2?(w=In,k=Gr,J=Wr,H=function(){return be},$=1):L===4&&(w=we,k=ue,J=pn,H=function(){return qe},$=2),Ne(D,{name:z,fromWireType:function(ur){for(var _r=qe[ur>>2],tr=H(),gr,Vr=ur+4,ve=0;ve<=_r;++ve){var yr=ur+4+ve*L;if(ve==_r||tr[yr>>$]==0){var Zr=yr-Vr,Nn=w(Vr,Zr);gr===void 0?gr=Nn:(gr+=String.fromCharCode(0),gr+=Nn),Vr=yr+L}}return ir(ur),gr},toWireType:function(ur,_r){typeof _r!="string"&&_n("Cannot pass non-string to C++ string type "+z);var tr=J(_r),gr=sr(4+tr+L);return qe[gr>>2]=tr>>$,k(_r,gr+4,tr+L),ur!==null&&ur.push(ir,gr),gr},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:function(ur){ir(ur)}})}function ct(D,L,z,w,k,H){Pe[D]={name:te(L),rawConstructor:De(z,w),rawDestructor:De(k,H),fields:[]}}function Jn(D,L,z,w,k,H,J,$,ur,_r){Pe[D].fields.push({fieldName:te(L),getterReturnType:z,getter:De(w,k),getterContext:H,setterArgumentType:J,setter:De($,ur),setterContext:_r})}function nt(D,L){L=te(L),Ne(D,{isVoid:!0,name:L,argPackAdvance:0,fromWireType:function(){},toWireType:function(z,w){}})}var Vn={};function ot(D){var L=Vn[D];return L===void 0?te(D):L}function Gn(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function kn(D){return D===0?Je(Gn()):(D=ot(D),Je(Gn()[D]))}function ut(D){D>4&&(He[D].refcount+=1)}function mn(D,L){var z=en[D];return z===void 0&&_n(L+" has unknown type "+Me(D)),z}function Wn(D){for(var L="",z=0;z<D;++z)L+=(z!==0?", ":"")+"arg"+z;for(var w="return function emval_allocator_"+D+`(constructor, argTypes, args) {
`,z=0;z<D;++z)w+="var argType"+z+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+z+'], "parameter '+z+`");
var arg`+z+" = argType"+z+`.readValueFromPointer(args);
args += argType`+z+`['argPackAdvance'];
`;return w+="var obj = new constructor("+L+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",w)(mn,e,Je)}var V={};function X(D){return D||_n("Cannot use deleted val. handle = "+D),He[D].value}function C(D,L,z,w){D=X(D);var k=V[L];return k||(k=Wn(L),V[L]=k),k(D,z,w)}function d(){re()}function y(D,L,z){Er.copyWithin(D,L,L+z)}function P(D){try{return cn.grow(D-Yr.byteLength+65535>>>16),bn(cn.buffer),1}catch{}}function j(D){var L=Er.length;D=D>>>0;var z=2147483648;if(D>z)return!1;for(var w=1;w<=4;w*=2){var k=L*(1+.2/w);k=Math.min(k,D+100663296);var H=Math.min(z,Rr(Math.max(D,k),65536)),J=P(H);if(J)return!0}return!1}var g={};function T(){return er||"./this.program"}function c(){if(!c.strings){var D=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",L={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:D,_:T()};for(var z in g)L[z]=g[z];var w=[];for(var z in L)w.push(z+"="+L[z]);c.strings=w}return c.strings}var p={mappings:{},buffers:[null,[],[]],printChar:function(D,L){var z=p.buffers[D];L===0||L===10?((D===1?_e:$r)(wr(z,0)),z.length=0):z.push(L)},varargs:void 0,get:function(){p.varargs+=4;var D=Mr[p.varargs-4>>2];return D},getStr:function(D){var L=Ve(D);return L},get64:function(D,L){return D}};function R(D,L){var z=0;return c().forEach(function(w,k){var H=L+z;Mr[D+k*4>>2]=H,jr(w,H),z+=w.length+1}),0}function B(D,L){var z=c();Mr[D>>2]=z.length;var w=0;return z.forEach(function(k){w+=k.length+1}),Mr[L>>2]=w,0}function K(D){return 0}function E(D,L,z,w,k){}function S(D,L,z,w){for(var k=0,H=0;H<z;H++){for(var J=Mr[L+H*8>>2],$=Mr[L+(H*8+4)>>2],ur=0;ur<$;ur++)p.printChar(D,Er[J+ur]);k+=$}return Mr[w>>2]=k,0}function l(D){}function m(D){return D%4===0&&(D%100!==0||D%400===0)}function U(D,L){for(var z=0,w=0;w<=L;z+=D[w++]);return z}var q=[31,29,31,30,31,30,31,31,30,31,30,31],f=[31,28,31,30,31,30,31,31,30,31,30,31];function s(D,L){for(var z=new Date(D.getTime());L>0;){var w=m(z.getFullYear()),k=z.getMonth(),H=(w?q:f)[k];if(L>H-z.getDate())L-=H-z.getDate()+1,z.setDate(1),k<11?z.setMonth(k+1):(z.setMonth(0),z.setFullYear(z.getFullYear()+1));else return z.setDate(z.getDate()+L),z}return z}function h(D,L,z,w){var k=Mr[w+40>>2],H={tm_sec:Mr[w>>2],tm_min:Mr[w+4>>2],tm_hour:Mr[w+8>>2],tm_mday:Mr[w+12>>2],tm_mon:Mr[w+16>>2],tm_year:Mr[w+20>>2],tm_wday:Mr[w+24>>2],tm_yday:Mr[w+28>>2],tm_isdst:Mr[w+32>>2],tm_gmtoff:Mr[w+36>>2],tm_zone:k?Ve(k):""},J=Ve(z),$={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ur in $)J=J.replace(new RegExp(ur,"g"),$[ur]);var _r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],tr=["January","February","March","April","May","June","July","August","September","October","November","December"];function gr(Fr,he,tt){for(var Un=typeof Fr=="number"?Fr.toString():Fr||"";Un.length<he;)Un=tt[0]+Un;return Un}function Vr(Fr,he){return gr(Fr,he,"0")}function ve(Fr,he){function tt(yt){return yt<0?-1:yt>0?1:0}var Un;return(Un=tt(Fr.getFullYear()-he.getFullYear()))===0&&(Un=tt(Fr.getMonth()-he.getMonth()))===0&&(Un=tt(Fr.getDate()-he.getDate())),Un}function yr(Fr){switch(Fr.getDay()){case 0:return new Date(Fr.getFullYear()-1,11,29);case 1:return Fr;case 2:return new Date(Fr.getFullYear(),0,3);case 3:return new Date(Fr.getFullYear(),0,2);case 4:return new Date(Fr.getFullYear(),0,1);case 5:return new Date(Fr.getFullYear()-1,11,31);case 6:return new Date(Fr.getFullYear()-1,11,30)}}function Zr(Fr){var he=s(new Date(Fr.tm_year+1900,0,1),Fr.tm_yday),tt=new Date(he.getFullYear(),0,4),Un=new Date(he.getFullYear()+1,0,4),yt=yr(tt),Ct=yr(Un);return ve(yt,he)<=0?ve(Ct,he)<=0?he.getFullYear()+1:he.getFullYear():he.getFullYear()-1}var Nn={"%a":function(Fr){return _r[Fr.tm_wday].substring(0,3)},"%A":function(Fr){return _r[Fr.tm_wday]},"%b":function(Fr){return tr[Fr.tm_mon].substring(0,3)},"%B":function(Fr){return tr[Fr.tm_mon]},"%C":function(Fr){var he=Fr.tm_year+1900;return Vr(he/100|0,2)},"%d":function(Fr){return Vr(Fr.tm_mday,2)},"%e":function(Fr){return gr(Fr.tm_mday,2," ")},"%g":function(Fr){return Zr(Fr).toString().substring(2)},"%G":function(Fr){return Zr(Fr)},"%H":function(Fr){return Vr(Fr.tm_hour,2)},"%I":function(Fr){var he=Fr.tm_hour;return he==0?he=12:he>12&&(he-=12),Vr(he,2)},"%j":function(Fr){return Vr(Fr.tm_mday+U(m(Fr.tm_year+1900)?q:f,Fr.tm_mon-1),3)},"%m":function(Fr){return Vr(Fr.tm_mon+1,2)},"%M":function(Fr){return Vr(Fr.tm_min,2)},"%n":function(){return`
`},"%p":function(Fr){return Fr.tm_hour>=0&&Fr.tm_hour<12?"AM":"PM"},"%S":function(Fr){return Vr(Fr.tm_sec,2)},"%t":function(){return"	"},"%u":function(Fr){return Fr.tm_wday||7},"%U":function(Fr){var he=new Date(Fr.tm_year+1900,0,1),tt=he.getDay()===0?he:s(he,7-he.getDay()),Un=new Date(Fr.tm_year+1900,Fr.tm_mon,Fr.tm_mday);if(ve(tt,Un)<0){var yt=U(m(Un.getFullYear())?q:f,Un.getMonth()-1)-31,Ct=31-tt.getDate(),Ot=Ct+yt+Un.getDate();return Vr(Math.ceil(Ot/7),2)}return ve(tt,he)===0?"01":"00"},"%V":function(Fr){var he=new Date(Fr.tm_year+1900,0,4),tt=new Date(Fr.tm_year+1901,0,4),Un=yr(he),yt=yr(tt),Ct=s(new Date(Fr.tm_year+1900,0,1),Fr.tm_yday);if(ve(Ct,Un)<0)return"53";if(ve(yt,Ct)<=0)return"01";var Ot;return Un.getFullYear()<Fr.tm_year+1900?Ot=Fr.tm_yday+32-Un.getDate():Ot=Fr.tm_yday+1-Un.getDate(),Vr(Math.ceil(Ot/7),2)},"%w":function(Fr){return Fr.tm_wday},"%W":function(Fr){var he=new Date(Fr.tm_year,0,1),tt=he.getDay()===1?he:s(he,he.getDay()===0?1:7-he.getDay()+1),Un=new Date(Fr.tm_year+1900,Fr.tm_mon,Fr.tm_mday);if(ve(tt,Un)<0){var yt=U(m(Un.getFullYear())?q:f,Un.getMonth()-1)-31,Ct=31-tt.getDate(),Ot=Ct+yt+Un.getDate();return Vr(Math.ceil(Ot/7),2)}return ve(tt,he)===0?"01":"00"},"%y":function(Fr){return(Fr.tm_year+1900).toString().substring(2)},"%Y":function(Fr){return Fr.tm_year+1900},"%z":function(Fr){var he=Fr.tm_gmtoff,tt=he>=0;return he=Math.abs(he)/60,he=he/60*100+he%60,(tt?"+":"-")+("0000"+he).slice(-4)},"%Z":function(Fr){return Fr.tm_zone},"%%":function(){return"%"}};for(var ur in Nn)J.includes(ur)&&(J=J.replace(new RegExp(ur,"g"),Nn[ur](H)));var ft=M(J,!1);return ft.length>L?0:(Kr(ft,D),ft.length-1)}function O(D,L,z,w){return h(D,L,z,w)}ne=e.InternalError=vr(Error,"InternalError"),Sr(),Xr=e.BindingError=vr(Error,"BindingError"),On(),ke=e.UnboundTypeError=vr(Error,"UnboundTypeError");function M(D,L,z){var w=z>0?z:Qr(D)+1,k=new Array(w),H=Hn(D,k,0,k.length);return L&&(k.length=H),k}var rr={o:de,D:We,n:Se,k:ge,q:Ge,z:Be,y:ln,h:rt,j:zr,c:at,b:dn,i:Ye,g:Sn,l:ct,d:Jn,A:nt,e:fn,C:kn,B:ut,m:C,a:d,s:y,f:j,u:R,v:B,x:K,p:E,w:S,r:l,t:O};xe(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.F).apply(null,arguments)};var sr=e._malloc=function(){return(sr=e._malloc=e.asm.G).apply(null,arguments)},ir=e._free=function(){return(ir=e._free=e.asm.H).apply(null,arguments)},fr=e.___getTypeName=function(){return(fr=e.___getTypeName=e.asm.I).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.J).apply(null,arguments)},e.dynCall_iiji=function(){return(e.dynCall_iiji=e.asm.L).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.M).apply(null,arguments)},e.dynCall_iiiiij=function(){return(e.dynCall_iiiiij=e.asm.N).apply(null,arguments)},e.dynCall_iiiiijj=function(){return(e.dynCall_iiiiijj=e.asm.O).apply(null,arguments)},e.dynCall_iiiiiijj=function(){return(e.dynCall_iiiiiijj=e.asm.P).apply(null,arguments)},e.dynCall_viijii=function(){return(e.dynCall_viijii=e.asm.Q).apply(null,arguments)};var br;Ue=function D(){br||Nr(),br||(Ue=D)};function Nr(D){if(oe>0||(Qn(),oe>0))return;function L(){br||(br=!0,e.calledRun=!0,!vn&&(Pn(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),An()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),L()},1)):L()}if(e.run=Nr,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Nr(),e.ready}}(),jo=xo,Fi;async function Bo(){return await bi()?await xi()?jt(Lo):jt(Ho):jt(jo)}async function Vo(G,cr){Fi||(Fi=Bo());const lr=(await Fi).encode(G.data,G.width,G.height,cr);if(!lr)throw new Error("Encoding error.");return lr.buffer}var ma=(G,cr)=>Vo(G,cr),ya={};Ut(ya,{mozJPEGEncode:()=>Ea});var Go=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(f,s){lr=f,Tr=s});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er="./this.program",kr=function(f,s){throw s},Ir="";function a(f){return e.locateFile?e.locateFile(f,Ir):Ir+f}Ir=self.location.href,G&&(Ir=G),Ir.indexOf("blob:")!==0?Ir=Ir.substr(0,Ir.lastIndexOf("/")+1):Ir="";var Ie=e.print||console.log.bind(console),_e=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&(er=e.thisProgram),e.quit&&(kr=e.quit),e.wasmBinary&&e.wasmBinary;var $r=e.noExitRuntime||!0;typeof WebAssembly!="object"&&ye("no native wasm support detected");var xr,cn=!1,vn=new TextDecoder("utf8");function mr(f,s,h){for(var O=s+h,M=s;f[M]&&!(M>=O);)++M;return vn.decode(f.subarray?f.subarray(s,M):new Uint8Array(f.slice(s,M)))}function wr(f,s){if(!f)return"";for(var h=f+s,O=f;!(O>=h)&&Yr[O];)++O;return vn.decode(Yr.subarray(f,O))}function Ve(f,s,h,O){if(!(O>0))return 0;for(var M=h,rr=h+O-1,sr=0;sr<f.length;++sr){var ir=f.charCodeAt(sr);if(ir>=55296&&ir<=57343){var fr=f.charCodeAt(++sr);ir=65536+((ir&1023)<<10)|fr&1023}if(ir<=127){if(h>=rr)break;s[h++]=ir}else if(ir<=2047){if(h+1>=rr)break;s[h++]=192|ir>>6,s[h++]=128|ir&63}else if(ir<=65535){if(h+2>=rr)break;s[h++]=224|ir>>12,s[h++]=128|ir>>6&63,s[h++]=128|ir&63}else{if(h+3>=rr)break;s[h++]=240|ir>>18,s[h++]=128|ir>>12&63,s[h++]=128|ir>>6&63,s[h++]=128|ir&63}}return s[h]=0,h-M}function Hn(f,s,h){return Ve(f,Yr,s,h)}function jn(f){for(var s=0,h=0;h<f.length;++h){var O=f.charCodeAt(h);O>=55296&&O<=57343&&(O=65536+((O&1023)<<10)|f.charCodeAt(++h)&1023),O<=127?++s:O<=2047?s+=2:O<=65535?s+=3:s+=4}return s}var Qr=new TextDecoder("utf-16le");function ce(f,s){for(var h=f,O=h>>1,M=O+s/2;!(O>=M)&&Er[O];)++O;return h=O<<1,Qr.decode(Yr.subarray(f,h))}function In(f,s,h){if(h===void 0&&(h=2147483647),h<2)return 0;h-=2;for(var O=s,M=h<f.length*2?h/2:f.length,rr=0;rr<M;++rr){var sr=f.charCodeAt(rr);qr[s>>1]=sr,s+=2}return qr[s>>1]=0,s-O}function Gr(f){return f.length*2}function Wr(f,s){for(var h=0,O="";!(h>=s/4);){var M=Hr[f+h*4>>2];if(M==0)break;if(++h,M>=65536){var rr=M-65536;O+=String.fromCharCode(55296|rr>>10,56320|rr&1023)}else O+=String.fromCharCode(M)}return O}function we(f,s,h){if(h===void 0&&(h=2147483647),h<4)return 0;for(var O=s,M=O+h-4,rr=0;rr<f.length;++rr){var sr=f.charCodeAt(rr);if(sr>=55296&&sr<=57343){var ir=f.charCodeAt(++rr);sr=65536+((sr&1023)<<10)|ir&1023}if(Hr[s>>2]=sr,s+=4,s+4>M)break}return Hr[s>>2]=0,s-O}function ue(f){for(var s=0,h=0;h<f.length;++h){var O=f.charCodeAt(h);O>=55296&&O<=57343&&++h,s+=4}return s}function pn(f,s,h){for(var O=0;O<f.length;++O)Rr[s++>>0]=f.charCodeAt(O);h||(Rr[s>>0]=0)}function Kr(f,s){return f%s>0&&(f+=s-f%s),f}var jr,Rr,Yr,qr,Er,Hr,be,Mr,qe;function Re(f){jr=f,e.HEAP8=Rr=new Int8Array(f),e.HEAP16=qr=new Int16Array(f),e.HEAP32=Hr=new Int32Array(f),e.HEAPU8=Yr=new Uint8Array(f),e.HEAPU16=Er=new Uint16Array(f),e.HEAPU32=be=new Uint32Array(f),e.HEAPF32=Mr=new Float32Array(f),e.HEAPF64=qe=new Float64Array(f)}e.INITIAL_MEMORY;var fe,bn=[],Ze=[],Jr=[];function $e(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Pn(e.preRun.shift());Ce(bn)}function gn(){Ce(Ze)}function Qn(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)ae(e.postRun.shift());Ce(Jr)}function Pn(f){bn.unshift(f)}function An(f){Ze.unshift(f)}function ae(f){Jr.unshift(f)}var Le=0,Ae=null;function oe(f){Le++,e.monitorRunDependencies&&e.monitorRunDependencies(Le)}function Ue(f){if(Le--,e.monitorRunDependencies&&e.monitorRunDependencies(Le),Le==0&&Ae){var s=Ae;Ae=null,s()}}e.preloadedImages={},e.preloadedAudios={};function ye(f){e.onAbort&&e.onAbort(f),f+="",_e(f),cn=!0,f="abort("+f+"). Build with -s ASSERTIONS=1 for more info.";var s=new WebAssembly.RuntimeError(f);throw Tr(s),s}var Mn="data:application/octet-stream;base64,";function re(f){return f.startsWith(Mn)}if(e.locateFile){var Rn="mozjpeg_enc.wasm";re(Rn)||(Rn=a(Rn))}else var Rn=new URL("../../wasm/mozjpeg_enc.wasm",self.location).toString();function ze(f){var s={a:B};function h(ir,fr){var br=ir.exports;e.asm=br,xr=e.asm.C,Re(xr.buffer),fe=e.asm.I,An(e.asm.D),Ue()}oe();function O(ir){h(ir.instance)}function M(ir){var fr=WebAssembly.instantiate(di,s);return fr.then(ir,function(br){_e("failed to asynchronously prepare wasm: "+br),ye(br)})}function rr(){return M(O)}if(e.instantiateWasm)try{var sr=e.instantiateWasm(s,h);return sr}catch(ir){return _e("Module.instantiateWasm callback failed with error: "+ir),!1}return rr().catch(Tr),{}}function Ce(f){for(;f.length>0;){var s=f.shift();if(typeof s=="function"){s(e);continue}var h=s.func;typeof h=="number"?s.arg===void 0?fe.get(h)():fe.get(h)(s.arg):h(s.arg===void 0?null:s.arg)}}var rn=0;function le(){return $r||rn>0}function xe(f,s){}function st(f,s){return void 0}var pe={};function de(f){for(;f.length;){var s=f.pop(),h=f.pop();h(s)}}function hn(f){return this.fromWireType(be[f>>2])}var We={},Lr={},Se={},Pe=48,Br=57;function Ee(f){if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var s=f.charCodeAt(0);return s>=Pe&&s<=Br?"_"+f:f}function Ke(f,s){return f=Ee(f),new Function("body","return function "+f+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(s)}function en(f,s){var h=Ke(s,function(O){this.name=s,this.message=O;var M=new Error(O).stack;M!==void 0&&(this.stack=this.toString()+`
`+M.replace(/^Error(:[^\n]*)?\n/,""))});return h.prototype=Object.create(f.prototype),h.prototype.constructor=h,h.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},h}var Ur=void 0;function Cn(f){throw new Ur(f)}function ee(f,s,h){f.forEach(function(ir){Se[ir]=s});function O(ir){var fr=h(ir);fr.length!==f.length&&Cn("Mismatched type converter count");for(var br=0;br<f.length;++br)ie(f[br],fr[br])}var M=new Array(s.length),rr=[],sr=0;s.forEach(function(ir,fr){Lr.hasOwnProperty(ir)?M[fr]=Lr[ir]:(rr.push(ir),We.hasOwnProperty(ir)||(We[ir]=[]),We[ir].push(function(){M[fr]=Lr[ir],++sr,sr===rr.length&&O(M)}))}),rr.length===0&&O(M)}function se(f){var s=pe[f];delete pe[f];var h=s.rawConstructor,O=s.rawDestructor,M=s.fields,rr=M.map(function(sr){return sr.getterReturnType}).concat(M.map(function(sr){return sr.setterArgumentType}));ee([f],rr,function(sr){var ir={};return M.forEach(function(fr,br){var Nr=fr.fieldName,D=sr[br],L=fr.getter,z=fr.getterContext,w=sr[br+M.length],k=fr.setter,H=fr.setterContext;ir[Nr]={read:function(J){return D.fromWireType(L(z,J))},write:function(J,$){var ur=[];k(H,J,w.toWireType(ur,$)),de(ur)}}}),[{name:s.name,fromWireType:function(fr){var br={};for(var Nr in ir)br[Nr]=ir[Nr].read(fr);return O(fr),br},toWireType:function(fr,br){for(var Nr in ir)if(!(Nr in br))throw new TypeError('Missing field:  "'+Nr+'"');var D=h();for(Nr in ir)ir[Nr].write(D,br[Nr]);return fr!==null&&fr.push(O,D),D},argPackAdvance:8,readValueFromPointer:hn,destructorFunction:O}]})}function Fe(f,s,h,O,M){}function vr(f){switch(f){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+f)}}function ne(){for(var f=new Array(256),s=0;s<256;++s)f[s]=String.fromCharCode(s);nn=f}var nn=void 0;function nr(f){for(var s="",h=f;Yr[h];)s+=nn[Yr[h++]];return s}var ge=void 0;function Ge(f){throw new ge(f)}function ie(f,s,h){if(h=h||{},!("argPackAdvance"in s))throw new TypeError("registerType registeredInstance requires argPackAdvance");var O=s.name;if(f||Ge('type "'+O+'" must have a positive integer typeid pointer'),Lr.hasOwnProperty(f)){if(h.ignoreDuplicateRegistrations)return;Ge("Cannot register type '"+O+"' twice")}if(Lr[f]=s,delete Se[f],We.hasOwnProperty(f)){var M=We[f];delete We[f],M.forEach(function(rr){rr()})}}function Sr(f,s,h,O,M){var rr=vr(h);s=nr(s),ie(f,{name:s,fromWireType:function(sr){return!!sr},toWireType:function(sr,ir){return ir?O:M},argPackAdvance:8,readValueFromPointer:function(sr){var ir;if(h===1)ir=Rr;else if(h===2)ir=qr;else if(h===4)ir=Hr;else throw new TypeError("Unknown boolean type size: "+s);return this.fromWireType(ir[sr>>rr])},destructorFunction:null})}var un=[],te=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Xr(f){f>4&&--te[f].refcount===0&&(te[f]=void 0,un.push(f))}function _n(){for(var f=0,s=5;s<te.length;++s)te[s]!==void 0&&++f;return f}function Ne(){for(var f=5;f<te.length;++f)if(te[f]!==void 0)return te[f];return null}function Be(){e.count_emval_handles=_n,e.get_first_emval=Ne}function Fn(f){switch(f){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var s=un.length?un.pop():te.length;return te[s]={refcount:1,value:f},s}}}function He(f,s){s=nr(s),ie(f,{name:s,fromWireType:function(h){var O=te[h].value;return Xr(h),O},toWireType:function(h,O){return Fn(O)},argPackAdvance:8,readValueFromPointer:hn,destructorFunction:null})}function fn(f){if(f===null)return"null";var s=typeof f;return s==="object"||s==="array"||s==="function"?f.toString():""+f}function Qe(f,s){switch(s){case 2:return function(h){return this.fromWireType(Mr[h>>2])};case 3:return function(h){return this.fromWireType(qe[h>>3])};default:throw new TypeError("Unknown float type: "+f)}}function yn(f,s,h){var O=vr(h);s=nr(s),ie(f,{name:s,fromWireType:function(M){return M},toWireType:function(M,rr){if(typeof rr!="number"&&typeof rr!="boolean")throw new TypeError('Cannot convert "'+fn(rr)+'" to '+this.name);return rr},argPackAdvance:8,readValueFromPointer:Qe(s,O),destructorFunction:null})}function On(f,s){if(!(f instanceof Function))throw new TypeError("new_ called with constructor type "+typeof f+" which is not a function");var h=Ke(f.name||"unknownFunctionName",function(){});h.prototype=f.prototype;var O=new h,M=f.apply(O,s);return M instanceof Object?M:O}function Je(f,s,h,O,M){var rr=s.length;rr<2&&Ge("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var sr=s[1]!==null&&h!==null,ir=!1,fr=1;fr<s.length;++fr)if(s[fr]!==null&&s[fr].destructorFunction===void 0){ir=!0;break}for(var br=s[0].name!=="void",Nr="",D="",fr=0;fr<rr-2;++fr)Nr+=(fr!==0?", ":"")+"arg"+fr,D+=(fr!==0?", ":"")+"arg"+fr+"Wired";var L="return function "+Ee(f)+"("+Nr+`) {
if (arguments.length !== `+(rr-2)+`) {
throwBindingError('function `+f+" called with ' + arguments.length + ' arguments, expected "+(rr-2)+` args!');
}
`;ir&&(L+=`var destructors = [];
`);var z=ir?"destructors":"null",w=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],k=[Ge,O,M,de,s[0],s[1]];sr&&(L+="var thisWired = classParam.toWireType("+z+`, this);
`);for(var fr=0;fr<rr-2;++fr)L+="var arg"+fr+"Wired = argType"+fr+".toWireType("+z+", arg"+fr+"); // "+s[fr+2].name+`
`,w.push("argType"+fr),k.push(s[fr+2]);if(sr&&(D="thisWired"+(D.length>0?", ":"")+D),L+=(br?"var rv = ":"")+"invoker(fn"+(D.length>0?", ":"")+D+`);
`,ir)L+=`runDestructors(destructors);
`;else for(var fr=sr?1:2;fr<s.length;++fr){var H=fr===1?"thisWired":"arg"+(fr-2)+"Wired";s[fr].destructorFunction!==null&&(L+=H+"_dtor("+H+"); // "+s[fr].name+`
`,w.push(H+"_dtor"),k.push(s[fr].destructorFunction))}br&&(L+=`var ret = retType.fromWireType(rv);
return ret;
`),L+=`}
`,w.push(L);var J=On(Function,w).apply(null,k);return J}function ln(f,s,h){if(f[s].overloadTable===void 0){var O=f[s];f[s]=function(){return f[s].overloadTable.hasOwnProperty(arguments.length)||Ge("Function '"+h+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+f[s].overloadTable+")!"),f[s].overloadTable[arguments.length].apply(this,arguments)},f[s].overloadTable=[],f[s].overloadTable[O.argCount]=O}}function Ln(f,s,h){e.hasOwnProperty(f)?((h===void 0||e[f].overloadTable!==void 0&&e[f].overloadTable[h]!==void 0)&&Ge("Cannot register public name '"+f+"' twice"),ln(e,f,f),e.hasOwnProperty(h)&&Ge("Cannot register multiple overloads of a function with the same number of arguments ("+h+")!"),e[f].overloadTable[h]=s):(e[f]=s,h!==void 0&&(e[f].numArguments=h))}function $n(f,s){for(var h=[],O=0;O<f;O++)h.push(Hr[(s>>2)+O]);return h}function rt(f,s,h){e.hasOwnProperty(f)||Cn("Replacing nonexistant public symbol"),e[f].overloadTable!==void 0&&h!==void 0?e[f].overloadTable[h]=s:(e[f]=s,e[f].argCount=h)}function En(f,s,h){var O=e["dynCall_"+f];return h&&h.length?O.apply(null,[s].concat(h)):O.call(null,s)}function xn(f,s,h){return f.includes("j")?En(f,s,h):fe.get(s).apply(null,h)}function zn(f,s){var h=[];return function(){h.length=arguments.length;for(var O=0;O<arguments.length;O++)h[O]=arguments[O];return xn(f,s,h)}}function Bn(f,s){f=nr(f);function h(){return f.includes("j")?zn(f,s):fe.get(s)}var O=h();return typeof O!="function"&&Ge("unknown function pointer with signature "+f+": "+s),O}var wn=void 0;function Kn(f){var s=S(f),h=nr(s);return E(s),h}function et(f,s){var h=[],O={};function M(rr){if(!O[rr]&&!Lr[rr]){if(Se[rr]){Se[rr].forEach(M);return}h.push(rr),O[rr]=!0}}throw s.forEach(M),new wn(f+": "+h.map(Kn).join([", "]))}function Oe(f,s,h,O,M,rr){var sr=$n(s,h);f=nr(f),M=Bn(O,M),Ln(f,function(){et("Cannot call "+f+" due to unbound types",sr)},s-1),ee([],sr,function(ir){var fr=[ir[0],null].concat(ir.slice(1));return rt(f,Je(f,fr,null,M,rr),s-1),[]})}function qn(f,s,h){switch(s){case 0:return h?function(M){return Rr[M]}:function(M){return Yr[M]};case 1:return h?function(M){return qr[M>>1]}:function(M){return Er[M>>1]};case 2:return h?function(M){return Hr[M>>2]}:function(M){return be[M>>2]};default:throw new TypeError("Unknown integer type: "+f)}}function De(f,s,h,O,M){s=nr(s),M===-1&&(M=4294967295);var rr=vr(h),sr=function(br){return br};if(O===0){var ir=32-8*h;sr=function(br){return br<<ir>>>ir}}var fr=s.includes("unsigned");ie(f,{name:s,fromWireType:sr,toWireType:function(br,Nr){if(typeof Nr!="number"&&typeof Nr!="boolean")throw new TypeError('Cannot convert "'+fn(Nr)+'" to '+this.name);if(Nr<O||Nr>M)throw new TypeError('Passing a number "'+fn(Nr)+'" from JS side to C/C++ side to an argument of type "'+s+'", which is outside the valid range ['+O+", "+M+"]!");return fr?Nr>>>0:Nr|0},argPackAdvance:8,readValueFromPointer:qn(s,rr,O!==0),destructorFunction:null})}function ke(f,s,h){var O=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],M=O[s];function rr(sr){sr=sr>>2;var ir=be,fr=ir[sr],br=ir[sr+1];return new M(jr,br,fr)}h=nr(h),ie(f,{name:h,fromWireType:rr,argPackAdvance:8,readValueFromPointer:rr},{ignoreDuplicateRegistrations:!0})}function Me(f,s){s=nr(s);var h=s==="std::string";ie(f,{name:s,fromWireType:function(O){var M=be[O>>2],rr;if(h)for(var sr=O+4,ir=0;ir<=M;++ir){var fr=O+4+ir;if(ir==M||Yr[fr]==0){var br=fr-sr,Nr=wr(sr,br);rr===void 0?rr=Nr:(rr+=String.fromCharCode(0),rr+=Nr),sr=fr+1}}else{for(var D=new Array(M),ir=0;ir<M;++ir)D[ir]=String.fromCharCode(Yr[O+4+ir]);rr=D.join("")}return E(O),rr},toWireType:function(O,M){M instanceof ArrayBuffer&&(M=new Uint8Array(M));var rr,sr=typeof M=="string";sr||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int8Array||Ge("Cannot pass non-string to std::string"),h&&sr?rr=function(){return jn(M)}:rr=function(){return M.length};var ir=rr(),fr=K(4+ir+1);if(be[fr>>2]=ir,h&&sr)Hn(M,fr+4,ir+1);else if(sr)for(var br=0;br<ir;++br){var Nr=M.charCodeAt(br);Nr>255&&(E(fr),Ge("String has UTF-16 code units that do not fit in 8 bits")),Yr[fr+4+br]=Nr}else for(var br=0;br<ir;++br)Yr[fr+4+br]=M[br];return O!==null&&O.push(E,fr),fr},argPackAdvance:8,readValueFromPointer:hn,destructorFunction:function(O){E(O)}})}function sn(f,s,h){h=nr(h);var O,M,rr,sr,ir;s===2?(O=ce,M=In,sr=Gr,rr=function(){return Er},ir=1):s===4&&(O=Wr,M=we,sr=ue,rr=function(){return be},ir=2),ie(f,{name:h,fromWireType:function(fr){for(var br=be[fr>>2],Nr=rr(),D,L=fr+4,z=0;z<=br;++z){var w=fr+4+z*s;if(z==br||Nr[w>>ir]==0){var k=w-L,H=O(L,k);D===void 0?D=H:(D+=String.fromCharCode(0),D+=H),L=w+s}}return E(fr),D},toWireType:function(fr,br){typeof br!="string"&&Ge("Cannot pass non-string to C++ string type "+h);var Nr=sr(br),D=K(4+Nr+s);return be[D>>2]=Nr>>ir,M(br,D+4,Nr+s),fr!==null&&fr.push(E,D),D},argPackAdvance:8,readValueFromPointer:hn,destructorFunction:function(fr){E(fr)}})}function zr(f,s,h,O,M,rr){pe[f]={name:nr(s),rawConstructor:Bn(h,O),rawDestructor:Bn(M,rr),fields:[]}}function tn(f,s,h,O,M,rr,sr,ir,fr,br){pe[f].fields.push({fieldName:nr(s),getterReturnType:h,getter:Bn(O,M),getterContext:rr,setterArgumentType:sr,setter:Bn(ir,fr),setterContext:br})}function at(f,s){s=nr(s),ie(f,{isVoid:!0,name:s,argPackAdvance:0,fromWireType:function(){},toWireType:function(h,O){}})}var dn={};function Ye(f){var s=dn[f];return s===void 0?nr(f):s}function Sn(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function ct(f){return f===0?Fn(Sn()):(f=Ye(f),Fn(Sn()[f]))}function Jn(f){f>4&&(te[f].refcount+=1)}function nt(f,s){var h=Lr[f];return h===void 0&&Ge(s+" has unknown type "+Kn(f)),h}function Vn(f){for(var s="",h=0;h<f;++h)s+=(h!==0?", ":"")+"arg"+h;for(var O="return function emval_allocator_"+f+`(constructor, argTypes, args) {
`,h=0;h<f;++h)O+="var argType"+h+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+h+'], "parameter '+h+`");
var arg`+h+" = argType"+h+`.readValueFromPointer(args);
args += argType`+h+`['argPackAdvance'];
`;return O+="var obj = new constructor("+s+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",O)(nt,e,Fn)}var ot={};function Gn(f){return f||Ge("Cannot use deleted val. handle = "+f),te[f].value}function kn(f,s,h,O){f=Gn(f);var M=ot[s];return M||(M=Vn(s),ot[s]=M),M(f,h,O)}function ut(){ye()}function mn(f,s,h){Yr.copyWithin(f,s,s+h)}function Wn(f){try{return xr.grow(f-jr.byteLength+65535>>>16),Re(xr.buffer),1}catch{}}function V(f){var s=Yr.length;f=f>>>0;var h=2147483648;if(f>h)return!1;for(var O=1;O<=4;O*=2){var M=s*(1+.2/O);M=Math.min(M,f+100663296);var rr=Math.min(h,Kr(Math.max(f,M),65536)),sr=Wn(rr);if(sr)return!0}return!1}var X={};function C(){return er||"./this.program"}function d(){if(!d.strings){var f=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",s={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:f,_:C()};for(var h in X)s[h]=X[h];var O=[];for(var h in s)O.push(h+"="+s[h]);d.strings=O}return d.strings}var y={mappings:{},buffers:[null,[],[]],printChar:function(f,s){var h=y.buffers[f];s===0||s===10?((f===1?Ie:_e)(mr(h,0)),h.length=0):h.push(s)},varargs:void 0,get:function(){y.varargs+=4;var f=Hr[y.varargs-4>>2];return f},getStr:function(f){var s=wr(f);return s},get64:function(f,s){return f}};function P(f,s){var h=0;return d().forEach(function(O,M){var rr=s+h;Hr[f+M*4>>2]=rr,pn(O,rr),h+=O.length+1}),0}function j(f,s){var h=d();Hr[f>>2]=h.length;var O=0;return h.forEach(function(M){O+=M.length+1}),Hr[s>>2]=O,0}function g(f){q(f)}function T(f){return 0}function c(f,s,h,O,M){}function p(f,s,h,O){for(var M=0,rr=0;rr<h;rr++){for(var sr=Hr[s+rr*8>>2],ir=Hr[s+(rr*8+4)>>2],fr=0;fr<ir;fr++)y.printChar(f,Yr[sr+fr]);M+=ir}return Hr[O>>2]=M,0}function R(f){}Ur=e.InternalError=en(Error,"InternalError"),ne(),ge=e.BindingError=en(Error,"BindingError"),Be(),wn=e.UnboundTypeError=en(Error,"UnboundTypeError");var B={B:st,l:se,p:Fe,y:Sr,x:He,i:yn,f:Oe,c:De,b:ke,j:Me,e:sn,m:zr,a:tn,z:at,g:Xr,u:ct,k:Jn,n:kn,h:ut,r:mn,d:V,s:P,t:j,A:g,w:T,o:c,v:p,q:R};ze(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.D).apply(null,arguments)};var K=e._malloc=function(){return(K=e._malloc=e.asm.E).apply(null,arguments)},E=e._free=function(){return(E=e._free=e.asm.F).apply(null,arguments)},S=e.___getTypeName=function(){return(S=e.___getTypeName=e.asm.G).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.H).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.J).apply(null,arguments)};var l;function m(f){this.name="ExitStatus",this.message="Program terminated with exit("+f+")",this.status=f}Ae=function f(){l||U(),l||(Ae=f)};function U(f){if(Le>0||($e(),Le>0))return;function s(){l||(l=!0,e.calledRun=!0,!cn&&(gn(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Qn()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),s()},1)):s()}e.run=U;function q(f,s){s&&le()&&f===0||(le()||(e.onExit&&e.onExit(f),cn=!0),kr(f,new m(f)))}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return U(),e.ready}}(),Yo=Go,Ri;async function qo(G,cr){return Ri||(Ri=jt(Yo)),(await Ri).encode(G.data,G.width,G.height,cr).buffer}function Ea(G,cr){return qo(G,cr)}var wa={};Ut(wa,{oxiPNGEncode:()=>Ca});var ai,Ta=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Ta.decode();var _i=null;function ji(){return(_i===null||_i.buffer!==ai.memory.buffer)&&(_i=new Uint8Array(ai.memory.buffer)),_i}function zo(G,cr){return Ta.decode(ji().subarray(G,G+cr))}var ba=0;function Ko(G,cr){const e=cr(G.length*1);return ji().set(G,e/1),ba=G.length,e}var pi=null;function qi(){return(pi===null||pi.buffer!==ai.memory.buffer)&&(pi=new Int32Array(ai.memory.buffer)),pi}function Xo(G,cr){return ji().subarray(G/1,G/1+cr)}function Qo(G,cr,e){try{const kr=ai.__wbindgen_add_to_stack_pointer(-16);var lr=Ko(G,ai.__wbindgen_malloc),Tr=ba;ai.optimise(kr,lr,Tr,cr,e);var hr=qi()[kr/4+0],F=qi()[kr/4+1],er=Xo(hr,F).slice();return ai.__wbindgen_free(hr,F*1),er}finally{ai.__wbindgen_add_to_stack_pointer(16)}}async function Jo(G,cr){return await WebAssembly.instantiate(di,cr)}async function Aa(G){const cr={};cr.wbg={},cr.wbg.__wbindgen_throw=function(Tr,hr){throw new Error(zo(Tr,hr))};const{instance:e,module:lr}=await Jo(await G,cr);return ai=e.exports,Aa.__wbindgen_wasm_module=lr,ai}var Zo=Aa;async function $o(){return await squoosh_oxipng_default(),await initThreadPool(navigator.hardwareConcurrency),optimise}async function ru(){return await Zo(),Qo}var Si;async function eu(G,cr){return Si||(Si=bi().then(lr=>lr?$o():ru())),(await Si)(new Uint8Array(G),cr.level,cr.interlace).buffer}async function Ca(G,cr){return eu(G,cr)}var Fa={};Ut(Fa,{webPEncode:()=>Ra});var nu=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(d,y){lr=d,Tr=y});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er="";function kr(d){return e.locateFile?e.locateFile(d,er):er+d}er=self.location.href,G&&(er=G),er.indexOf("blob:")!==0?er=er.substr(0,er.lastIndexOf("/")+1):er="",e.print||console.log.bind(console);var Ir=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit,e.wasmBinary&&e.wasmBinary,e.noExitRuntime,typeof WebAssembly!="object"&&An("no native wasm support detected");var a,Ie=!1,_e=new TextDecoder("utf8");function $r(d,y){if(!d)return"";for(var P=d+y,j=d;!(j>=P)&&we[j];)++j;return _e.decode(we.subarray(d,j))}function xr(d,y,P,j){if(!(j>0))return 0;for(var g=P,T=P+j-1,c=0;c<d.length;++c){var p=d.charCodeAt(c);if(p>=55296&&p<=57343){var R=d.charCodeAt(++c);p=65536+((p&1023)<<10)|R&1023}if(p<=127){if(P>=T)break;y[P++]=p}else if(p<=2047){if(P+1>=T)break;y[P++]=192|p>>6,y[P++]=128|p&63}else if(p<=65535){if(P+2>=T)break;y[P++]=224|p>>12,y[P++]=128|p>>6&63,y[P++]=128|p&63}else{if(P+3>=T)break;y[P++]=240|p>>18,y[P++]=128|p>>12&63,y[P++]=128|p>>6&63,y[P++]=128|p&63}}return y[P]=0,P-g}function cn(d,y,P){return xr(d,we,y,P)}function vn(d){for(var y=0,P=0;P<d.length;++P){var j=d.charCodeAt(P);j>=55296&&j<=57343&&(j=65536+((j&1023)<<10)|d.charCodeAt(++P)&1023),j<=127?++y:j<=2047?y+=2:j<=65535?y+=3:y+=4}return y}var mr=new TextDecoder("utf-16le");function wr(d,y){for(var P=d,j=P>>1,g=j+y/2;!(j>=g)&&pn[j];)++j;return P=j<<1,mr.decode(we.subarray(d,P))}function Ve(d,y,P){if(P===void 0&&(P=2147483647),P<2)return 0;P-=2;for(var j=y,g=P<d.length*2?P/2:d.length,T=0;T<g;++T){var c=d.charCodeAt(T);ue[y>>1]=c,y+=2}return ue[y>>1]=0,y-j}function Hn(d){return d.length*2}function jn(d,y){for(var P=0,j="";!(P>=y/4);){var g=Kr[d+P*4>>2];if(g==0)break;if(++P,g>=65536){var T=g-65536;j+=String.fromCharCode(55296|T>>10,56320|T&1023)}else j+=String.fromCharCode(g)}return j}function Qr(d,y,P){if(P===void 0&&(P=2147483647),P<4)return 0;for(var j=y,g=j+P-4,T=0;T<d.length;++T){var c=d.charCodeAt(T);if(c>=55296&&c<=57343){var p=d.charCodeAt(++T);c=65536+((c&1023)<<10)|p&1023}if(Kr[y>>2]=c,y+=4,y+4>g)break}return Kr[y>>2]=0,y-j}function ce(d){for(var y=0,P=0;P<d.length;++P){var j=d.charCodeAt(P);j>=55296&&j<=57343&&++P,y+=4}return y}function In(d,y){return d%y>0&&(d+=y-d%y),d}var Gr,Wr,we,ue,pn,Kr,jr,Rr,Yr;function qr(d){Gr=d,e.HEAP8=Wr=new Int8Array(d),e.HEAP16=ue=new Int16Array(d),e.HEAP32=Kr=new Int32Array(d),e.HEAPU8=we=new Uint8Array(d),e.HEAPU16=pn=new Uint16Array(d),e.HEAPU32=jr=new Uint32Array(d),e.HEAPF32=Rr=new Float32Array(d),e.HEAPF64=Yr=new Float64Array(d)}e.INITIAL_MEMORY;var Er,Hr=[],be=[],Mr=[];function qe(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)bn(e.preRun.shift());Ue(Hr)}function Re(){Ue(be)}function fe(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Jr(e.postRun.shift());Ue(Mr)}function bn(d){Hr.unshift(d)}function Ze(d){be.unshift(d)}function Jr(d){Mr.unshift(d)}var $e=0,gn=null;function Qn(d){$e++,e.monitorRunDependencies&&e.monitorRunDependencies($e)}function Pn(d){if($e--,e.monitorRunDependencies&&e.monitorRunDependencies($e),$e==0&&gn){var y=gn;gn=null,y()}}e.preloadedImages={},e.preloadedAudios={};function An(d){e.onAbort&&e.onAbort(d),d+="",Ir(d),Ie=!0,d="abort("+d+"). Build with -s ASSERTIONS=1 for more info.";var y=new WebAssembly.RuntimeError(d);throw Tr(y),y}var ae="data:application/octet-stream;base64,";function Le(d){return d.startsWith(ae)}if(e.locateFile){var Ae="webp_enc_simd.wasm";Le(Ae)||(Ae=kr(Ae))}else var Ae=new URL("../../wasm/webp_enc_simd.wasm",self.location).toString();function oe(){var d={a:ut};function y(c,p){var R=c.exports;e.asm=R,a=e.asm.y,qr(a.buffer),Er=e.asm.E,Ze(e.asm.z),Pn()}Qn();function P(c){y(c.instance)}function j(c){var p=WebAssembly.instantiate(di,d);return p.then(c,function(R){Ir("failed to asynchronously prepare wasm: "+R),An(R)})}function g(){return j(P)}if(e.instantiateWasm)try{var T=e.instantiateWasm(d,y);return T}catch(c){return Ir("Module.instantiateWasm callback failed with error: "+c),!1}return g().catch(Tr),{}}function Ue(d){for(;d.length>0;){var y=d.shift();if(typeof y=="function"){y(e);continue}var P=y.func;typeof P=="number"?y.arg===void 0?Er.get(P)():Er.get(P)(y.arg):P(y.arg===void 0?null:y.arg)}}function ye(d,y){}function Mn(d,y){return void 0}var re={};function Rn(d){for(;d.length;){var y=d.pop(),P=d.pop();P(y)}}function ze(d){return this.fromWireType(jr[d>>2])}var Ce={},rn={},le={},xe=48,st=57;function pe(d){if(d===void 0)return"_unknown";d=d.replace(/[^a-zA-Z0-9_]/g,"$");var y=d.charCodeAt(0);return y>=xe&&y<=st?"_"+d:d}function de(d,y){return d=pe(d),new Function("body","return function "+d+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(y)}function hn(d,y){var P=de(y,function(j){this.name=y,this.message=j;var g=new Error(j).stack;g!==void 0&&(this.stack=this.toString()+`
`+g.replace(/^Error(:[^\n]*)?\n/,""))});return P.prototype=Object.create(d.prototype),P.prototype.constructor=P,P.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},P}var We=void 0;function Lr(d){throw new We(d)}function Se(d,y,P){d.forEach(function(p){le[p]=y});function j(p){var R=P(p);R.length!==d.length&&Lr("Mismatched type converter count");for(var B=0;B<d.length;++B)se(d[B],R[B])}var g=new Array(y.length),T=[],c=0;y.forEach(function(p,R){rn.hasOwnProperty(p)?g[R]=rn[p]:(T.push(p),Ce.hasOwnProperty(p)||(Ce[p]=[]),Ce[p].push(function(){g[R]=rn[p],++c,c===T.length&&j(g)}))}),T.length===0&&j(g)}function Pe(d){var y=re[d];delete re[d];var P=y.rawConstructor,j=y.rawDestructor,g=y.fields,T=g.map(function(c){return c.getterReturnType}).concat(g.map(function(c){return c.setterArgumentType}));Se([d],T,function(c){var p={};return g.forEach(function(R,B){var K=R.fieldName,E=c[B],S=R.getter,l=R.getterContext,m=c[B+g.length],U=R.setter,q=R.setterContext;p[K]={read:function(f){return E.fromWireType(S(l,f))},write:function(f,s){var h=[];U(q,f,m.toWireType(h,s)),Rn(h)}}}),[{name:y.name,fromWireType:function(R){var B={};for(var K in p)B[K]=p[K].read(R);return j(R),B},toWireType:function(R,B){for(var K in p)if(!(K in B))throw new TypeError('Missing field:  "'+K+'"');var E=P();for(K in p)p[K].write(E,B[K]);return R!==null&&R.push(j,E),E},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:j}]})}function Br(d,y,P,j,g){}function Ee(d){switch(d){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+d)}}function Ke(){for(var d=new Array(256),y=0;y<256;++y)d[y]=String.fromCharCode(y);en=d}var en=void 0;function Ur(d){for(var y="",P=d;we[P];)y+=en[we[P++]];return y}var Cn=void 0;function ee(d){throw new Cn(d)}function se(d,y,P){if(P=P||{},!("argPackAdvance"in y))throw new TypeError("registerType registeredInstance requires argPackAdvance");var j=y.name;if(d||ee('type "'+j+'" must have a positive integer typeid pointer'),rn.hasOwnProperty(d)){if(P.ignoreDuplicateRegistrations)return;ee("Cannot register type '"+j+"' twice")}if(rn[d]=y,delete le[d],Ce.hasOwnProperty(d)){var g=Ce[d];delete Ce[d],g.forEach(function(T){T()})}}function Fe(d,y,P,j,g){var T=Ee(P);y=Ur(y),se(d,{name:y,fromWireType:function(c){return!!c},toWireType:function(c,p){return p?j:g},argPackAdvance:8,readValueFromPointer:function(c){var p;if(P===1)p=Wr;else if(P===2)p=ue;else if(P===4)p=Kr;else throw new TypeError("Unknown boolean type size: "+y);return this.fromWireType(p[c>>T])},destructorFunction:null})}var vr=[],ne=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function nn(d){d>4&&--ne[d].refcount===0&&(ne[d]=void 0,vr.push(d))}function nr(){for(var d=0,y=5;y<ne.length;++y)ne[y]!==void 0&&++d;return d}function ge(){for(var d=5;d<ne.length;++d)if(ne[d]!==void 0)return ne[d];return null}function Ge(){e.count_emval_handles=nr,e.get_first_emval=ge}function ie(d){switch(d){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var y=vr.length?vr.pop():ne.length;return ne[y]={refcount:1,value:d},y}}}function Sr(d,y){y=Ur(y),se(d,{name:y,fromWireType:function(P){var j=ne[P].value;return nn(P),j},toWireType:function(P,j){return ie(j)},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:null})}function un(d,y,P){if(d[y].overloadTable===void 0){var j=d[y];d[y]=function(){return d[y].overloadTable.hasOwnProperty(arguments.length)||ee("Function '"+P+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+d[y].overloadTable+")!"),d[y].overloadTable[arguments.length].apply(this,arguments)},d[y].overloadTable=[],d[y].overloadTable[j.argCount]=j}}function te(d,y,P){e.hasOwnProperty(d)?((P===void 0||e[d].overloadTable!==void 0&&e[d].overloadTable[P]!==void 0)&&ee("Cannot register public name '"+d+"' twice"),un(e,d,d),e.hasOwnProperty(P)&&ee("Cannot register multiple overloads of a function with the same number of arguments ("+P+")!"),e[d].overloadTable[P]=y):(e[d]=y,P!==void 0&&(e[d].numArguments=P))}function Xr(d,y,P){switch(y){case 0:return function(j){var g=P?Wr:we;return this.fromWireType(g[j])};case 1:return function(j){var g=P?ue:pn;return this.fromWireType(g[j>>1])};case 2:return function(j){var g=P?Kr:jr;return this.fromWireType(g[j>>2])};default:throw new TypeError("Unknown integer type: "+d)}}function _n(d,y,P,j){var g=Ee(P);y=Ur(y);function T(){}T.values={},se(d,{name:y,constructor:T,fromWireType:function(c){return this.constructor.values[c]},toWireType:function(c,p){return p.value},argPackAdvance:8,readValueFromPointer:Xr(y,g,j),destructorFunction:null}),te(y,T)}function Ne(d){var y=V(d),P=Ur(y);return Wn(y),P}function Be(d,y){var P=rn[d];return P===void 0&&ee(y+" has unknown type "+Ne(d)),P}function Fn(d,y,P){var j=Be(d,"enum");y=Ur(y);var g=j.constructor,T=Object.create(j.constructor.prototype,{value:{value:P},constructor:{value:de(j.name+"_"+y,function(){})}});g.values[P]=T,g[y]=T}function He(d){if(d===null)return"null";var y=typeof d;return y==="object"||y==="array"||y==="function"?d.toString():""+d}function fn(d,y){switch(y){case 2:return function(P){return this.fromWireType(Rr[P>>2])};case 3:return function(P){return this.fromWireType(Yr[P>>3])};default:throw new TypeError("Unknown float type: "+d)}}function Qe(d,y,P){var j=Ee(P);y=Ur(y),se(d,{name:y,fromWireType:function(g){return g},toWireType:function(g,T){if(typeof T!="number"&&typeof T!="boolean")throw new TypeError('Cannot convert "'+He(T)+'" to '+this.name);return T},argPackAdvance:8,readValueFromPointer:fn(y,j),destructorFunction:null})}function yn(d,y){if(!(d instanceof Function))throw new TypeError("new_ called with constructor type "+typeof d+" which is not a function");var P=de(d.name||"unknownFunctionName",function(){});P.prototype=d.prototype;var j=new P,g=d.apply(j,y);return g instanceof Object?g:j}function On(d,y,P,j,g){var T=y.length;T<2&&ee("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var c=y[1]!==null&&P!==null,p=!1,R=1;R<y.length;++R)if(y[R]!==null&&y[R].destructorFunction===void 0){p=!0;break}for(var B=y[0].name!=="void",K="",E="",R=0;R<T-2;++R)K+=(R!==0?", ":"")+"arg"+R,E+=(R!==0?", ":"")+"arg"+R+"Wired";var S="return function "+pe(d)+"("+K+`) {
if (arguments.length !== `+(T-2)+`) {
throwBindingError('function `+d+" called with ' + arguments.length + ' arguments, expected "+(T-2)+` args!');
}
`;p&&(S+=`var destructors = [];
`);var l=p?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],U=[ee,j,g,Rn,y[0],y[1]];c&&(S+="var thisWired = classParam.toWireType("+l+`, this);
`);for(var R=0;R<T-2;++R)S+="var arg"+R+"Wired = argType"+R+".toWireType("+l+", arg"+R+"); // "+y[R+2].name+`
`,m.push("argType"+R),U.push(y[R+2]);if(c&&(E="thisWired"+(E.length>0?", ":"")+E),S+=(B?"var rv = ":"")+"invoker(fn"+(E.length>0?", ":"")+E+`);
`,p)S+=`runDestructors(destructors);
`;else for(var R=c?1:2;R<y.length;++R){var q=R===1?"thisWired":"arg"+(R-2)+"Wired";y[R].destructorFunction!==null&&(S+=q+"_dtor("+q+"); // "+y[R].name+`
`,m.push(q+"_dtor"),U.push(y[R].destructorFunction))}B&&(S+=`var ret = retType.fromWireType(rv);
return ret;
`),S+=`}
`,m.push(S);var f=yn(Function,m).apply(null,U);return f}function Je(d,y){for(var P=[],j=0;j<d;j++)P.push(Kr[(y>>2)+j]);return P}function ln(d,y,P){e.hasOwnProperty(d)||Lr("Replacing nonexistant public symbol"),e[d].overloadTable!==void 0&&P!==void 0?e[d].overloadTable[P]=y:(e[d]=y,e[d].argCount=P)}function Ln(d,y,P){var j=e["dynCall_"+d];return P&&P.length?j.apply(null,[y].concat(P)):j.call(null,y)}function $n(d,y,P){return d.includes("j")?Ln(d,y,P):Er.get(y).apply(null,P)}function rt(d,y){var P=[];return function(){P.length=arguments.length;for(var j=0;j<arguments.length;j++)P[j]=arguments[j];return $n(d,y,P)}}function En(d,y){d=Ur(d);function P(){return d.includes("j")?rt(d,y):Er.get(y)}var j=P();return typeof j!="function"&&ee("unknown function pointer with signature "+d+": "+y),j}var xn=void 0;function zn(d,y){var P=[],j={};function g(T){if(!j[T]&&!rn[T]){if(le[T]){le[T].forEach(g);return}P.push(T),j[T]=!0}}throw y.forEach(g),new xn(d+": "+P.map(Ne).join([", "]))}function Bn(d,y,P,j,g,T){var c=Je(y,P);d=Ur(d),g=En(j,g),te(d,function(){zn("Cannot call "+d+" due to unbound types",c)},y-1),Se([],c,function(p){var R=[p[0],null].concat(p.slice(1));return ln(d,On(d,R,null,g,T),y-1),[]})}function wn(d,y,P){switch(y){case 0:return P?function(g){return Wr[g]}:function(g){return we[g]};case 1:return P?function(g){return ue[g>>1]}:function(g){return pn[g>>1]};case 2:return P?function(g){return Kr[g>>2]}:function(g){return jr[g>>2]};default:throw new TypeError("Unknown integer type: "+d)}}function Kn(d,y,P,j,g){y=Ur(y),g===-1&&(g=4294967295);var T=Ee(P),c=function(B){return B};if(j===0){var p=32-8*P;c=function(B){return B<<p>>>p}}var R=y.includes("unsigned");se(d,{name:y,fromWireType:c,toWireType:function(B,K){if(typeof K!="number"&&typeof K!="boolean")throw new TypeError('Cannot convert "'+He(K)+'" to '+this.name);if(K<j||K>g)throw new TypeError('Passing a number "'+He(K)+'" from JS side to C/C++ side to an argument of type "'+y+'", which is outside the valid range ['+j+", "+g+"]!");return R?K>>>0:K|0},argPackAdvance:8,readValueFromPointer:wn(y,T,j!==0),destructorFunction:null})}function et(d,y,P){var j=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],g=j[y];function T(c){c=c>>2;var p=jr,R=p[c],B=p[c+1];return new g(Gr,B,R)}P=Ur(P),se(d,{name:P,fromWireType:T,argPackAdvance:8,readValueFromPointer:T},{ignoreDuplicateRegistrations:!0})}function Oe(d,y){y=Ur(y);var P=y==="std::string";se(d,{name:y,fromWireType:function(j){var g=jr[j>>2],T;if(P)for(var c=j+4,p=0;p<=g;++p){var R=j+4+p;if(p==g||we[R]==0){var B=R-c,K=$r(c,B);T===void 0?T=K:(T+=String.fromCharCode(0),T+=K),c=R+1}}else{for(var E=new Array(g),p=0;p<g;++p)E[p]=String.fromCharCode(we[j+4+p]);T=E.join("")}return Wn(j),T},toWireType:function(j,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var T,c=typeof g=="string";c||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array||ee("Cannot pass non-string to std::string"),P&&c?T=function(){return vn(g)}:T=function(){return g.length};var p=T(),R=mn(4+p+1);if(jr[R>>2]=p,P&&c)cn(g,R+4,p+1);else if(c)for(var B=0;B<p;++B){var K=g.charCodeAt(B);K>255&&(Wn(R),ee("String has UTF-16 code units that do not fit in 8 bits")),we[R+4+B]=K}else for(var B=0;B<p;++B)we[R+4+B]=g[B];return j!==null&&j.push(Wn,R),R},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:function(j){Wn(j)}})}function qn(d,y,P){P=Ur(P);var j,g,T,c,p;y===2?(j=wr,g=Ve,c=Hn,T=function(){return pn},p=1):y===4&&(j=jn,g=Qr,c=ce,T=function(){return jr},p=2),se(d,{name:P,fromWireType:function(R){for(var B=jr[R>>2],K=T(),E,S=R+4,l=0;l<=B;++l){var m=R+4+l*y;if(l==B||K[m>>p]==0){var U=m-S,q=j(S,U);E===void 0?E=q:(E+=String.fromCharCode(0),E+=q),S=m+y}}return Wn(R),E},toWireType:function(R,B){typeof B!="string"&&ee("Cannot pass non-string to C++ string type "+P);var K=c(B),E=mn(4+K+y);return jr[E>>2]=K>>p,g(B,E+4,K+y),R!==null&&R.push(Wn,E),E},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:function(R){Wn(R)}})}function De(d,y,P,j,g,T){re[d]={name:Ur(y),rawConstructor:En(P,j),rawDestructor:En(g,T),fields:[]}}function ke(d,y,P,j,g,T,c,p,R,B){re[d].fields.push({fieldName:Ur(y),getterReturnType:P,getter:En(j,g),getterContext:T,setterArgumentType:c,setter:En(p,R),setterContext:B})}function Me(d,y){y=Ur(y),se(d,{isVoid:!0,name:y,argPackAdvance:0,fromWireType:function(){},toWireType:function(P,j){}})}var sn={};function zr(d){var y=sn[d];return y===void 0?Ur(d):y}function tn(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function at(d){return d===0?ie(tn()):(d=zr(d),ie(tn()[d]))}function dn(d){d>4&&(ne[d].refcount+=1)}function Ye(d){for(var y="",P=0;P<d;++P)y+=(P!==0?", ":"")+"arg"+P;for(var j="return function emval_allocator_"+d+`(constructor, argTypes, args) {
`,P=0;P<d;++P)j+="var argType"+P+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+P+'], "parameter '+P+`");
var arg`+P+" = argType"+P+`.readValueFromPointer(args);
args += argType`+P+`['argPackAdvance'];
`;return j+="var obj = new constructor("+y+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",j)(Be,e,ie)}var Sn={};function ct(d){return d||ee("Cannot use deleted val. handle = "+d),ne[d].value}function Jn(d,y,P,j){d=ct(d);var g=Sn[y];return g||(g=Ye(y),Sn[y]=g),g(d,P,j)}function nt(){An()}function Vn(d,y,P){we.copyWithin(d,y,y+P)}function ot(d){try{return a.grow(d-Gr.byteLength+65535>>>16),qr(a.buffer),1}catch{}}function Gn(d){var y=we.length;d=d>>>0;var P=2147483648;if(d>P)return!1;for(var j=1;j<=4;j*=2){var g=y*(1+.2/j);g=Math.min(g,d+100663296);var T=Math.min(P,In(Math.max(d,g),65536)),c=ot(T);if(c)return!0}return!1}function kn(d){}We=e.InternalError=hn(Error,"InternalError"),Ke(),Cn=e.BindingError=hn(Error,"BindingError"),Ge(),xn=e.UnboundTypeError=hn(Error,"UnboundTypeError");var ut={x:Mn,l:Pe,p:Br,t:Fe,s:Sr,n:_n,d:Fn,j:Qe,h:Bn,c:Kn,b:et,k:Oe,g:qn,m:De,a:ke,u:Me,f:nn,w:at,v:dn,o:Jn,i:nt,r:Vn,e:Gn,q:kn};oe(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.z).apply(null,arguments)};var mn=e._malloc=function(){return(mn=e._malloc=e.asm.A).apply(null,arguments)},Wn=e._free=function(){return(Wn=e._free=e.asm.B).apply(null,arguments)},V=e.___getTypeName=function(){return(V=e.___getTypeName=e.asm.C).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.D).apply(null,arguments)},e.dynCall_jiiii=function(){return(e.dynCall_jiiii=e.asm.F).apply(null,arguments)};var X;gn=function d(){X||C(),X||(gn=d)};function C(d){if($e>0||(qe(),$e>0))return;function y(){X||(X=!0,e.calledRun=!0,!Ie&&(Re(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),fe()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),y()},1)):y()}if(e.run=C,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return C(),e.ready}}(),tu=nu,iu=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(C,d){lr=C,Tr=d});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er="";function kr(C){return e.locateFile?e.locateFile(C,er):er+C}er=self.location.href,G&&(er=G),er.indexOf("blob:")!==0?er=er.substr(0,er.lastIndexOf("/")+1):er="",e.print||console.log.bind(console);var Ir=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit,e.wasmBinary&&e.wasmBinary,e.noExitRuntime,typeof WebAssembly!="object"&&An("no native wasm support detected");var a,Ie=!1,_e=new TextDecoder("utf8");function $r(C,d){if(!C)return"";for(var y=C+d,P=C;!(P>=y)&&we[P];)++P;return _e.decode(we.subarray(C,P))}function xr(C,d,y,P){if(!(P>0))return 0;for(var j=y,g=y+P-1,T=0;T<C.length;++T){var c=C.charCodeAt(T);if(c>=55296&&c<=57343){var p=C.charCodeAt(++T);c=65536+((c&1023)<<10)|p&1023}if(c<=127){if(y>=g)break;d[y++]=c}else if(c<=2047){if(y+1>=g)break;d[y++]=192|c>>6,d[y++]=128|c&63}else if(c<=65535){if(y+2>=g)break;d[y++]=224|c>>12,d[y++]=128|c>>6&63,d[y++]=128|c&63}else{if(y+3>=g)break;d[y++]=240|c>>18,d[y++]=128|c>>12&63,d[y++]=128|c>>6&63,d[y++]=128|c&63}}return d[y]=0,y-j}function cn(C,d,y){return xr(C,we,d,y)}function vn(C){for(var d=0,y=0;y<C.length;++y){var P=C.charCodeAt(y);P>=55296&&P<=57343&&(P=65536+((P&1023)<<10)|C.charCodeAt(++y)&1023),P<=127?++d:P<=2047?d+=2:P<=65535?d+=3:d+=4}return d}var mr=new TextDecoder("utf-16le");function wr(C,d){for(var y=C,P=y>>1,j=P+d/2;!(P>=j)&&pn[P];)++P;return y=P<<1,mr.decode(we.subarray(C,y))}function Ve(C,d,y){if(y===void 0&&(y=2147483647),y<2)return 0;y-=2;for(var P=d,j=y<C.length*2?y/2:C.length,g=0;g<j;++g){var T=C.charCodeAt(g);ue[d>>1]=T,d+=2}return ue[d>>1]=0,d-P}function Hn(C){return C.length*2}function jn(C,d){for(var y=0,P="";!(y>=d/4);){var j=Kr[C+y*4>>2];if(j==0)break;if(++y,j>=65536){var g=j-65536;P+=String.fromCharCode(55296|g>>10,56320|g&1023)}else P+=String.fromCharCode(j)}return P}function Qr(C,d,y){if(y===void 0&&(y=2147483647),y<4)return 0;for(var P=d,j=P+y-4,g=0;g<C.length;++g){var T=C.charCodeAt(g);if(T>=55296&&T<=57343){var c=C.charCodeAt(++g);T=65536+((T&1023)<<10)|c&1023}if(Kr[d>>2]=T,d+=4,d+4>j)break}return Kr[d>>2]=0,d-P}function ce(C){for(var d=0,y=0;y<C.length;++y){var P=C.charCodeAt(y);P>=55296&&P<=57343&&++y,d+=4}return d}function In(C,d){return C%d>0&&(C+=d-C%d),C}var Gr,Wr,we,ue,pn,Kr,jr,Rr,Yr;function qr(C){Gr=C,e.HEAP8=Wr=new Int8Array(C),e.HEAP16=ue=new Int16Array(C),e.HEAP32=Kr=new Int32Array(C),e.HEAPU8=we=new Uint8Array(C),e.HEAPU16=pn=new Uint16Array(C),e.HEAPU32=jr=new Uint32Array(C),e.HEAPF32=Rr=new Float32Array(C),e.HEAPF64=Yr=new Float64Array(C)}e.INITIAL_MEMORY;var Er,Hr=[],be=[],Mr=[];function qe(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)bn(e.preRun.shift());Ue(Hr)}function Re(){Ue(be)}function fe(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Jr(e.postRun.shift());Ue(Mr)}function bn(C){Hr.unshift(C)}function Ze(C){be.unshift(C)}function Jr(C){Mr.unshift(C)}var $e=0,gn=null;function Qn(C){$e++,e.monitorRunDependencies&&e.monitorRunDependencies($e)}function Pn(C){if($e--,e.monitorRunDependencies&&e.monitorRunDependencies($e),$e==0&&gn){var d=gn;gn=null,d()}}e.preloadedImages={},e.preloadedAudios={};function An(C){e.onAbort&&e.onAbort(C),C+="",Ir(C),Ie=!0,C="abort("+C+"). Build with -s ASSERTIONS=1 for more info.";var d=new WebAssembly.RuntimeError(C);throw Tr(d),d}var ae="data:application/octet-stream;base64,";function Le(C){return C.startsWith(ae)}if(e.locateFile){var Ae="webp_enc.wasm";Le(Ae)||(Ae=kr(Ae))}else var Ae=new URL("../../wasm/webp_enc.wasm",self.location).toString();function oe(){var C={a:kn};function d(T,c){var p=T.exports;e.asm=p,a=e.asm.x,qr(a.buffer),Er=e.asm.D,Ze(e.asm.y),Pn()}Qn();function y(T){d(T.instance)}function P(T){var c=WebAssembly.instantiate(di,C);return c.then(T,function(p){Ir("failed to asynchronously prepare wasm: "+p),An(p)})}function j(){return P(y)}if(e.instantiateWasm)try{var g=e.instantiateWasm(C,d);return g}catch(T){return Ir("Module.instantiateWasm callback failed with error: "+T),!1}return j().catch(Tr),{}}function Ue(C){for(;C.length>0;){var d=C.shift();if(typeof d=="function"){d(e);continue}var y=d.func;typeof y=="number"?d.arg===void 0?Er.get(y)():Er.get(y)(d.arg):y(d.arg===void 0?null:d.arg)}}function ye(C,d){}function Mn(C,d){return void 0}var re={};function Rn(C){for(;C.length;){var d=C.pop(),y=C.pop();y(d)}}function ze(C){return this.fromWireType(jr[C>>2])}var Ce={},rn={},le={},xe=48,st=57;function pe(C){if(C===void 0)return"_unknown";C=C.replace(/[^a-zA-Z0-9_]/g,"$");var d=C.charCodeAt(0);return d>=xe&&d<=st?"_"+C:C}function de(C,d){return C=pe(C),new Function("body","return function "+C+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(d)}function hn(C,d){var y=de(d,function(P){this.name=d,this.message=P;var j=new Error(P).stack;j!==void 0&&(this.stack=this.toString()+`
`+j.replace(/^Error(:[^\n]*)?\n/,""))});return y.prototype=Object.create(C.prototype),y.prototype.constructor=y,y.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},y}var We=void 0;function Lr(C){throw new We(C)}function Se(C,d,y){C.forEach(function(c){le[c]=d});function P(c){var p=y(c);p.length!==C.length&&Lr("Mismatched type converter count");for(var R=0;R<C.length;++R)se(C[R],p[R])}var j=new Array(d.length),g=[],T=0;d.forEach(function(c,p){rn.hasOwnProperty(c)?j[p]=rn[c]:(g.push(c),Ce.hasOwnProperty(c)||(Ce[c]=[]),Ce[c].push(function(){j[p]=rn[c],++T,T===g.length&&P(j)}))}),g.length===0&&P(j)}function Pe(C){var d=re[C];delete re[C];var y=d.rawConstructor,P=d.rawDestructor,j=d.fields,g=j.map(function(T){return T.getterReturnType}).concat(j.map(function(T){return T.setterArgumentType}));Se([C],g,function(T){var c={};return j.forEach(function(p,R){var B=p.fieldName,K=T[R],E=p.getter,S=p.getterContext,l=T[R+j.length],m=p.setter,U=p.setterContext;c[B]={read:function(q){return K.fromWireType(E(S,q))},write:function(q,f){var s=[];m(U,q,l.toWireType(s,f)),Rn(s)}}}),[{name:d.name,fromWireType:function(p){var R={};for(var B in c)R[B]=c[B].read(p);return P(p),R},toWireType:function(p,R){for(var B in c)if(!(B in R))throw new TypeError('Missing field:  "'+B+'"');var K=y();for(B in c)c[B].write(K,R[B]);return p!==null&&p.push(P,K),K},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:P}]})}function Br(C,d,y,P,j){}function Ee(C){switch(C){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+C)}}function Ke(){for(var C=new Array(256),d=0;d<256;++d)C[d]=String.fromCharCode(d);en=C}var en=void 0;function Ur(C){for(var d="",y=C;we[y];)d+=en[we[y++]];return d}var Cn=void 0;function ee(C){throw new Cn(C)}function se(C,d,y){if(y=y||{},!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");var P=d.name;if(C||ee('type "'+P+'" must have a positive integer typeid pointer'),rn.hasOwnProperty(C)){if(y.ignoreDuplicateRegistrations)return;ee("Cannot register type '"+P+"' twice")}if(rn[C]=d,delete le[C],Ce.hasOwnProperty(C)){var j=Ce[C];delete Ce[C],j.forEach(function(g){g()})}}function Fe(C,d,y,P,j){var g=Ee(y);d=Ur(d),se(C,{name:d,fromWireType:function(T){return!!T},toWireType:function(T,c){return c?P:j},argPackAdvance:8,readValueFromPointer:function(T){var c;if(y===1)c=Wr;else if(y===2)c=ue;else if(y===4)c=Kr;else throw new TypeError("Unknown boolean type size: "+d);return this.fromWireType(c[T>>g])},destructorFunction:null})}var vr=[],ne=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function nn(C){C>4&&--ne[C].refcount===0&&(ne[C]=void 0,vr.push(C))}function nr(){for(var C=0,d=5;d<ne.length;++d)ne[d]!==void 0&&++C;return C}function ge(){for(var C=5;C<ne.length;++C)if(ne[C]!==void 0)return ne[C];return null}function Ge(){e.count_emval_handles=nr,e.get_first_emval=ge}function ie(C){switch(C){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var d=vr.length?vr.pop():ne.length;return ne[d]={refcount:1,value:C},d}}}function Sr(C,d){d=Ur(d),se(C,{name:d,fromWireType:function(y){var P=ne[y].value;return nn(y),P},toWireType:function(y,P){return ie(P)},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:null})}function un(C,d,y){if(C[d].overloadTable===void 0){var P=C[d];C[d]=function(){return C[d].overloadTable.hasOwnProperty(arguments.length)||ee("Function '"+y+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+C[d].overloadTable+")!"),C[d].overloadTable[arguments.length].apply(this,arguments)},C[d].overloadTable=[],C[d].overloadTable[P.argCount]=P}}function te(C,d,y){e.hasOwnProperty(C)?((y===void 0||e[C].overloadTable!==void 0&&e[C].overloadTable[y]!==void 0)&&ee("Cannot register public name '"+C+"' twice"),un(e,C,C),e.hasOwnProperty(y)&&ee("Cannot register multiple overloads of a function with the same number of arguments ("+y+")!"),e[C].overloadTable[y]=d):(e[C]=d,y!==void 0&&(e[C].numArguments=y))}function Xr(C,d,y){switch(d){case 0:return function(P){var j=y?Wr:we;return this.fromWireType(j[P])};case 1:return function(P){var j=y?ue:pn;return this.fromWireType(j[P>>1])};case 2:return function(P){var j=y?Kr:jr;return this.fromWireType(j[P>>2])};default:throw new TypeError("Unknown integer type: "+C)}}function _n(C,d,y,P){var j=Ee(y);d=Ur(d);function g(){}g.values={},se(C,{name:d,constructor:g,fromWireType:function(T){return this.constructor.values[T]},toWireType:function(T,c){return c.value},argPackAdvance:8,readValueFromPointer:Xr(d,j,P),destructorFunction:null}),te(d,g)}function Ne(C){var d=Wn(C),y=Ur(d);return mn(d),y}function Be(C,d){var y=rn[C];return y===void 0&&ee(d+" has unknown type "+Ne(C)),y}function Fn(C,d,y){var P=Be(C,"enum");d=Ur(d);var j=P.constructor,g=Object.create(P.constructor.prototype,{value:{value:y},constructor:{value:de(P.name+"_"+d,function(){})}});j.values[y]=g,j[d]=g}function He(C){if(C===null)return"null";var d=typeof C;return d==="object"||d==="array"||d==="function"?C.toString():""+C}function fn(C,d){switch(d){case 2:return function(y){return this.fromWireType(Rr[y>>2])};case 3:return function(y){return this.fromWireType(Yr[y>>3])};default:throw new TypeError("Unknown float type: "+C)}}function Qe(C,d,y){var P=Ee(y);d=Ur(d),se(C,{name:d,fromWireType:function(j){return j},toWireType:function(j,g){if(typeof g!="number"&&typeof g!="boolean")throw new TypeError('Cannot convert "'+He(g)+'" to '+this.name);return g},argPackAdvance:8,readValueFromPointer:fn(d,P),destructorFunction:null})}function yn(C,d){if(!(C instanceof Function))throw new TypeError("new_ called with constructor type "+typeof C+" which is not a function");var y=de(C.name||"unknownFunctionName",function(){});y.prototype=C.prototype;var P=new y,j=C.apply(P,d);return j instanceof Object?j:P}function On(C,d,y,P,j){var g=d.length;g<2&&ee("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var T=d[1]!==null&&y!==null,c=!1,p=1;p<d.length;++p)if(d[p]!==null&&d[p].destructorFunction===void 0){c=!0;break}for(var R=d[0].name!=="void",B="",K="",p=0;p<g-2;++p)B+=(p!==0?", ":"")+"arg"+p,K+=(p!==0?", ":"")+"arg"+p+"Wired";var E="return function "+pe(C)+"("+B+`) {
if (arguments.length !== `+(g-2)+`) {
throwBindingError('function `+C+" called with ' + arguments.length + ' arguments, expected "+(g-2)+` args!');
}
`;c&&(E+=`var destructors = [];
`);var S=c?"destructors":"null",l=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[ee,P,j,Rn,d[0],d[1]];T&&(E+="var thisWired = classParam.toWireType("+S+`, this);
`);for(var p=0;p<g-2;++p)E+="var arg"+p+"Wired = argType"+p+".toWireType("+S+", arg"+p+"); // "+d[p+2].name+`
`,l.push("argType"+p),m.push(d[p+2]);if(T&&(K="thisWired"+(K.length>0?", ":"")+K),E+=(R?"var rv = ":"")+"invoker(fn"+(K.length>0?", ":"")+K+`);
`,c)E+=`runDestructors(destructors);
`;else for(var p=T?1:2;p<d.length;++p){var U=p===1?"thisWired":"arg"+(p-2)+"Wired";d[p].destructorFunction!==null&&(E+=U+"_dtor("+U+"); // "+d[p].name+`
`,l.push(U+"_dtor"),m.push(d[p].destructorFunction))}R&&(E+=`var ret = retType.fromWireType(rv);
return ret;
`),E+=`}
`,l.push(E);var q=yn(Function,l).apply(null,m);return q}function Je(C,d){for(var y=[],P=0;P<C;P++)y.push(Kr[(d>>2)+P]);return y}function ln(C,d,y){e.hasOwnProperty(C)||Lr("Replacing nonexistant public symbol"),e[C].overloadTable!==void 0&&y!==void 0?e[C].overloadTable[y]=d:(e[C]=d,e[C].argCount=y)}function Ln(C,d,y){var P=e["dynCall_"+C];return y&&y.length?P.apply(null,[d].concat(y)):P.call(null,d)}function $n(C,d,y){return C.includes("j")?Ln(C,d,y):Er.get(d).apply(null,y)}function rt(C,d){var y=[];return function(){y.length=arguments.length;for(var P=0;P<arguments.length;P++)y[P]=arguments[P];return $n(C,d,y)}}function En(C,d){C=Ur(C);function y(){return C.includes("j")?rt(C,d):Er.get(d)}var P=y();return typeof P!="function"&&ee("unknown function pointer with signature "+C+": "+d),P}var xn=void 0;function zn(C,d){var y=[],P={};function j(g){if(!P[g]&&!rn[g]){if(le[g]){le[g].forEach(j);return}y.push(g),P[g]=!0}}throw d.forEach(j),new xn(C+": "+y.map(Ne).join([", "]))}function Bn(C,d,y,P,j,g){var T=Je(d,y);C=Ur(C),j=En(P,j),te(C,function(){zn("Cannot call "+C+" due to unbound types",T)},d-1),Se([],T,function(c){var p=[c[0],null].concat(c.slice(1));return ln(C,On(C,p,null,j,g),d-1),[]})}function wn(C,d,y){switch(d){case 0:return y?function(j){return Wr[j]}:function(j){return we[j]};case 1:return y?function(j){return ue[j>>1]}:function(j){return pn[j>>1]};case 2:return y?function(j){return Kr[j>>2]}:function(j){return jr[j>>2]};default:throw new TypeError("Unknown integer type: "+C)}}function Kn(C,d,y,P,j){d=Ur(d),j===-1&&(j=4294967295);var g=Ee(y),T=function(R){return R};if(P===0){var c=32-8*y;T=function(R){return R<<c>>>c}}var p=d.includes("unsigned");se(C,{name:d,fromWireType:T,toWireType:function(R,B){if(typeof B!="number"&&typeof B!="boolean")throw new TypeError('Cannot convert "'+He(B)+'" to '+this.name);if(B<P||B>j)throw new TypeError('Passing a number "'+He(B)+'" from JS side to C/C++ side to an argument of type "'+d+'", which is outside the valid range ['+P+", "+j+"]!");return p?B>>>0:B|0},argPackAdvance:8,readValueFromPointer:wn(d,g,P!==0),destructorFunction:null})}function et(C,d,y){var P=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],j=P[d];function g(T){T=T>>2;var c=jr,p=c[T],R=c[T+1];return new j(Gr,R,p)}y=Ur(y),se(C,{name:y,fromWireType:g,argPackAdvance:8,readValueFromPointer:g},{ignoreDuplicateRegistrations:!0})}function Oe(C,d){d=Ur(d);var y=d==="std::string";se(C,{name:d,fromWireType:function(P){var j=jr[P>>2],g;if(y)for(var T=P+4,c=0;c<=j;++c){var p=P+4+c;if(c==j||we[p]==0){var R=p-T,B=$r(T,R);g===void 0?g=B:(g+=String.fromCharCode(0),g+=B),T=p+1}}else{for(var K=new Array(j),c=0;c<j;++c)K[c]=String.fromCharCode(we[P+4+c]);g=K.join("")}return mn(P),g},toWireType:function(P,j){j instanceof ArrayBuffer&&(j=new Uint8Array(j));var g,T=typeof j=="string";T||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int8Array||ee("Cannot pass non-string to std::string"),y&&T?g=function(){return vn(j)}:g=function(){return j.length};var c=g(),p=ut(4+c+1);if(jr[p>>2]=c,y&&T)cn(j,p+4,c+1);else if(T)for(var R=0;R<c;++R){var B=j.charCodeAt(R);B>255&&(mn(p),ee("String has UTF-16 code units that do not fit in 8 bits")),we[p+4+R]=B}else for(var R=0;R<c;++R)we[p+4+R]=j[R];return P!==null&&P.push(mn,p),p},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:function(P){mn(P)}})}function qn(C,d,y){y=Ur(y);var P,j,g,T,c;d===2?(P=wr,j=Ve,T=Hn,g=function(){return pn},c=1):d===4&&(P=jn,j=Qr,T=ce,g=function(){return jr},c=2),se(C,{name:y,fromWireType:function(p){for(var R=jr[p>>2],B=g(),K,E=p+4,S=0;S<=R;++S){var l=p+4+S*d;if(S==R||B[l>>c]==0){var m=l-E,U=P(E,m);K===void 0?K=U:(K+=String.fromCharCode(0),K+=U),E=l+d}}return mn(p),K},toWireType:function(p,R){typeof R!="string"&&ee("Cannot pass non-string to C++ string type "+y);var B=T(R),K=ut(4+B+d);return jr[K>>2]=B>>c,j(R,K+4,B+d),p!==null&&p.push(mn,K),K},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:function(p){mn(p)}})}function De(C,d,y,P,j,g){re[C]={name:Ur(d),rawConstructor:En(y,P),rawDestructor:En(j,g),fields:[]}}function ke(C,d,y,P,j,g,T,c,p,R){re[C].fields.push({fieldName:Ur(d),getterReturnType:y,getter:En(P,j),getterContext:g,setterArgumentType:T,setter:En(c,p),setterContext:R})}function Me(C,d){d=Ur(d),se(C,{isVoid:!0,name:d,argPackAdvance:0,fromWireType:function(){},toWireType:function(y,P){}})}var sn={};function zr(C){var d=sn[C];return d===void 0?Ur(C):d}function tn(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function at(C){return C===0?ie(tn()):(C=zr(C),ie(tn()[C]))}function dn(C){C>4&&(ne[C].refcount+=1)}function Ye(C){for(var d="",y=0;y<C;++y)d+=(y!==0?", ":"")+"arg"+y;for(var P="return function emval_allocator_"+C+`(constructor, argTypes, args) {
`,y=0;y<C;++y)P+="var argType"+y+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+y+'], "parameter '+y+`");
var arg`+y+" = argType"+y+`.readValueFromPointer(args);
args += argType`+y+`['argPackAdvance'];
`;return P+="var obj = new constructor("+d+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",P)(Be,e,ie)}var Sn={};function ct(C){return C||ee("Cannot use deleted val. handle = "+C),ne[C].value}function Jn(C,d,y,P){C=ct(C);var j=Sn[d];return j||(j=Ye(d),Sn[d]=j),j(C,y,P)}function nt(){An()}function Vn(C,d,y){we.copyWithin(C,d,d+y)}function ot(C){try{return a.grow(C-Gr.byteLength+65535>>>16),qr(a.buffer),1}catch{}}function Gn(C){var d=we.length;C=C>>>0;var y=2147483648;if(C>y)return!1;for(var P=1;P<=4;P*=2){var j=d*(1+.2/P);j=Math.min(j,C+100663296);var g=Math.min(y,In(Math.max(C,j),65536)),T=ot(g);if(T)return!0}return!1}We=e.InternalError=hn(Error,"InternalError"),Ke(),Cn=e.BindingError=hn(Error,"BindingError"),Ge(),xn=e.UnboundTypeError=hn(Error,"UnboundTypeError");var kn={w:Mn,l:Pe,p:Br,s:Fe,r:Sr,n:_n,d:Fn,j:Qe,h:Bn,c:Kn,b:et,k:Oe,g:qn,m:De,a:ke,t:Me,f:nn,v:at,u:dn,o:Jn,i:nt,q:Vn,e:Gn};oe(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.y).apply(null,arguments)};var ut=e._malloc=function(){return(ut=e._malloc=e.asm.z).apply(null,arguments)},mn=e._free=function(){return(mn=e._free=e.asm.A).apply(null,arguments)},Wn=e.___getTypeName=function(){return(Wn=e.___getTypeName=e.asm.B).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.C).apply(null,arguments)};var V;gn=function C(){V||X(),V||(gn=C)};function X(C){if($e>0||(qe(),$e>0))return;function d(){V||(V=!0,e.calledRun=!0,!Ie&&(Re(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),fe()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),d()},1)):d()}if(e.run=X,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return X(),e.ready}}(),au=iu,Pi;async function ou(){return await xi()?jt(tu):jt(au)}async function uu(G,cr){Pi||(Pi=ou());const lr=(await Pi).encode(G.data,G.width,G.height,cr);if(!lr)throw new Error("Encoding error.");return lr.buffer}var Ra=(G,cr)=>uu(G,cr),Sa={};Ut(Sa,{wp2Encode:()=>Pa});var fu=function(){var G=import.meta.url;return function(a){a=a||{};function e(){return Gr.buffer!=fe&&ae(Gr.buffer),bn}function lr(){return Gr.buffer!=fe&&ae(Gr.buffer),Ze}function Tr(){return Gr.buffer!=fe&&ae(Gr.buffer),Jr}function hr(){return Gr.buffer!=fe&&ae(Gr.buffer),$e}function F(){return Gr.buffer!=fe&&ae(Gr.buffer),gn}function er(){return Gr.buffer!=fe&&ae(Gr.buffer),Qn}function kr(){return Gr.buffer!=fe&&ae(Gr.buffer),Pn}function Ir(){return Gr.buffer!=fe&&ae(Gr.buffer),An}var a=typeof a<"u"?a:{},Ie,_e;a.ready=new Promise(function(i,o){Ie=i,_e=o});var $r={},xr;for(xr in a)a.hasOwnProperty(xr)&&($r[xr]=a[xr]);var cn=function(i,o){throw o},vn=!0,mr=a.ENVIRONMENT_IS_PTHREAD||!1,wr="";function Ve(i){return a.locateFile?a.locateFile(i,wr):wr+i}var Hn;wr=self.location.href,G&&(wr=G),wr.indexOf("blob:")!==0?wr=wr.substr(0,wr.lastIndexOf("/")+1):wr="",Hn=function(i){var o=new XMLHttpRequest;return o.open("GET",i,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)};var jn=a.print||console.log.bind(console),Qr=a.printErr||console.warn.bind(console);for(xr in $r)$r.hasOwnProperty(xr)&&(a[xr]=$r[xr]);$r=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&(cn=a.quit);var ce;a.wasmBinary&&(ce=a.wasmBinary);var In=a.noExitRuntime||!0;typeof WebAssembly!="object"&&de("no native wasm support detected");var Gr,Wr,we=!1;function ue(i,o){i||de("Assertion failed: "+o)}function pn(i,o,v){for(var A=o+v,N="";!(o>=A);){var Y=i[o++];if(!Y)return N;if(!(Y&128)){N+=String.fromCharCode(Y);continue}var Q=i[o++]&63;if((Y&224)==192){N+=String.fromCharCode((Y&31)<<6|Q);continue}var Z=i[o++]&63;if((Y&240)==224?Y=(Y&15)<<12|Q<<6|Z:Y=(Y&7)<<18|Q<<12|Z<<6|i[o++]&63,Y<65536)N+=String.fromCharCode(Y);else{var or=Y-65536;N+=String.fromCharCode(55296|or>>10,56320|or&1023)}}return N}function Kr(i,o){return i?pn(lr(),i,o):""}function jr(i,o,v,A){if(!(A>0))return 0;for(var N=v,Y=v+A-1,Q=0;Q<i.length;++Q){var Z=i.charCodeAt(Q);if(Z>=55296&&Z<=57343){var or=i.charCodeAt(++Q);Z=65536+((Z&1023)<<10)|or&1023}if(Z<=127){if(v>=Y)break;o[v++]=Z}else if(Z<=2047){if(v+1>=Y)break;o[v++]=192|Z>>6,o[v++]=128|Z&63}else if(Z<=65535){if(v+2>=Y)break;o[v++]=224|Z>>12,o[v++]=128|Z>>6&63,o[v++]=128|Z&63}else{if(v+3>=Y)break;o[v++]=240|Z>>18,o[v++]=128|Z>>12&63,o[v++]=128|Z>>6&63,o[v++]=128|Z&63}}return o[v]=0,v-N}function Rr(i,o,v){return jr(i,lr(),o,v)}function Yr(i){for(var o=0,v=0;v<i.length;++v){var A=i.charCodeAt(v);A>=55296&&A<=57343&&(A=65536+((A&1023)<<10)|i.charCodeAt(++v)&1023),A<=127?++o:A<=2047?o+=2:A<=65535?o+=3:o+=4}return o}function qr(i,o){for(var v="",A=0;!(A>=o/2);++A){var N=Tr()[i+A*2>>1];if(N==0)break;v+=String.fromCharCode(N)}return v}function Er(i,o,v){if(v===void 0&&(v=2147483647),v<2)return 0;v-=2;for(var A=o,N=v<i.length*2?v/2:i.length,Y=0;Y<N;++Y){var Q=i.charCodeAt(Y);Tr()[o>>1]=Q,o+=2}return Tr()[o>>1]=0,o-A}function Hr(i){return i.length*2}function be(i,o){for(var v=0,A="";!(v>=o/4);){var N=F()[i+v*4>>2];if(N==0)break;if(++v,N>=65536){var Y=N-65536;A+=String.fromCharCode(55296|Y>>10,56320|Y&1023)}else A+=String.fromCharCode(N)}return A}function Mr(i,o,v){if(v===void 0&&(v=2147483647),v<4)return 0;for(var A=o,N=A+v-4,Y=0;Y<i.length;++Y){var Q=i.charCodeAt(Y);if(Q>=55296&&Q<=57343){var Z=i.charCodeAt(++Y);Q=65536+((Q&1023)<<10)|Z&1023}if(F()[o>>2]=Q,o+=4,o+4>N)break}return F()[o>>2]=0,o-A}function qe(i){for(var o=0,v=0;v<i.length;++v){var A=i.charCodeAt(v);A>=55296&&A<=57343&&++v,o+=4}return o}function Re(i,o){return i%o>0&&(i+=o-i%o),i}var fe,bn,Ze,Jr,$e,gn,Qn,Pn,An;mr&&(fe=a.buffer);function ae(i){fe=i,a.HEAP8=bn=new Int8Array(i),a.HEAP16=Jr=new Int16Array(i),a.HEAP32=gn=new Int32Array(i),a.HEAPU8=Ze=new Uint8Array(i),a.HEAPU16=$e=new Uint16Array(i),a.HEAPU32=Qn=new Uint32Array(i),a.HEAPF32=Pn=new Float32Array(i),a.HEAPF64=An=new Float64Array(i)}var Le=a.INITIAL_MEMORY||16777216;if(mr)Gr=a.wasmMemory,fe=a.buffer;else if(a.wasmMemory)Gr=a.wasmMemory;else if(Gr=new WebAssembly.Memory({initial:Le/65536,maximum:2147483648/65536,shared:!0}),!(Gr.buffer instanceof SharedArrayBuffer))throw Qr("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Error("bad memory");Gr&&(fe=Gr.buffer),Le=fe.byteLength,ae(fe);var Ae,oe=[],Ue=[],ye=[];function Mn(){if(!mr){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)ze(a.preRun.shift());en(oe)}}function re(){mr||en(Ue)}function Rn(){if(!mr){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)rn(a.postRun.shift());en(ye)}}function ze(i){oe.unshift(i)}function Ce(i){Ue.unshift(i)}function rn(i){ye.unshift(i)}var le=0,xe=null;function st(i){ue(!mr,"addRunDependency cannot be used in a pthread worker"),le++,a.monitorRunDependencies&&a.monitorRunDependencies(le)}function pe(i){if(le--,a.monitorRunDependencies&&a.monitorRunDependencies(le),le==0&&xe){var o=xe;xe=null,o()}}a.preloadedImages={},a.preloadedAudios={};function de(i){a.onAbort&&a.onAbort(i),mr&&console.error("Pthread aborting at "+new Error().stack),i+="",Qr(i),we=!0,i="abort("+i+"). Build with -s ASSERTIONS=1 for more info.";var o=new WebAssembly.RuntimeError(i);throw _e(o),o}var hn="data:application/octet-stream;base64,";function We(i){return i.startsWith(hn)}if(a.locateFile){var Lr="wp2_enc_mt_simd.wasm";We(Lr)||(Lr=Ve(Lr))}else var Lr=new URL("../wasm/wp2_enc_mt_simd.wasm",self.location).toString();function Se(i){try{if(i==Lr&&ce)return new Uint8Array(ce);if(Hn)return Hn(i);throw"both async and sync fetching of the wasm failed"}catch(o){de(o)}}function Pe(){return!ce&&vn&&typeof fetch=="function"?fetch(Lr,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+Lr+"'";return i.arrayBuffer()}).catch(function(){return Se(Lr)}):Promise.resolve().then(function(){return Se(Lr)})}function Br(){var i={a:ei};function o(Q,Z){var or=Q.exports;if(a.asm=or,Ae=a.asm.W,Ce(a.asm.S),vr.tlsInitFunctions.push(a.asm.V),Wr=Z,!mr){var Cr=vr.unusedWorkers.length;vr.unusedWorkers.forEach(function(Dr){vr.loadWasmModuleToWorker(Dr,function(){--Cr||pe()})})}}mr||st();function v(Q){o(Q.instance,Q.module)}function A(Q){return Pe().then(function(Z){var or=WebAssembly.instantiate(Z,i);return or}).then(Q,function(Z){Qr("failed to asynchronously prepare wasm: "+Z),de(Z)})}function N(){return!ce&&typeof WebAssembly.instantiateStreaming=="function"&&!We(Lr)&&typeof fetch=="function"?fetch(Lr,{credentials:"same-origin"}).then(function(Q){var Z=WebAssembly.instantiateStreaming(Q,i);return Z.then(v,function(or){return Qr("wasm streaming compile failed: "+or),Qr("falling back to ArrayBuffer instantiation"),A(v)})}):A(v)}if(a.instantiateWasm)try{var Y=a.instantiateWasm(i,o);return Y}catch(Q){return Qr("Module.instantiateWasm callback failed with error: "+Q),!1}return N().catch(_e),{}}var Ee={112528:function(){throw"Canceled!"},112546:function(i,o){setTimeout(function(){Qt(i,o)},0)}};function Ke(){vr.initRuntime()}function en(i){for(;i.length>0;){var o=i.shift();if(typeof o=="function"){o(a);continue}var v=o.func;typeof v=="number"?o.arg===void 0?Ae.get(v)():Ae.get(v)(o.arg):v(o.arg===void 0?null:o.arg)}}var Ur={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function Cn(i,o){if(i<=0||i>e().length||i&!0||o<0)return-28;if(o==0)return 0;o>=2147483647&&(o=1/0);var v=Atomics.load(F(),Gt>>2),A=0;if(v==i){var N=Atomics.compareExchange(F(),Gt>>2,v,0);if(N==v&&(--o,A=1,o<=0))return 1}var Y=Atomics.notify(F(),i>>2,o);if(Y>=0)return Y+A;throw"Atomics.notify returned an unexpected value "+Y}a._emscripten_futex_wake=Cn;function ee(i){if(mr)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!i)throw"Internal Error! Null pthread_ptr in killThread!";F()[i+12>>2]=0;var o=vr.pthreads[i];o.worker.terminate(),vr.freeThreadData(o),vr.runningWorkers.splice(vr.runningWorkers.indexOf(o.worker),1),o.worker.pthread=void 0}function se(i){if(mr)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!i)throw"Internal Error! Null pthread_ptr in cancelThread!";var o=vr.pthreads[i];o.worker.postMessage({cmd:"cancel"})}function Fe(i){if(mr)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!i)throw"Internal Error! Null pthread_ptr in cleanupThread!";var o=vr.pthreads[i];if(o){F()[i+12>>2]=0;var v=o.worker;vr.returnWorkerToPool(v)}}var vr={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var i=navigator.hardwareConcurrency,o=0;o<i;++o)vr.allocateUnusedWorker()},initRuntime:function(){for(var i=Et(228),o=0;o<228/4;++o)er()[i/4+o]=0;F()[i+12>>2]=i;var v=i+152;F()[v>>2]=v;for(var A=Et(512),o=0;o<128;++o)er()[A/4+o]=0;Atomics.store(er(),i+100>>2,A),Atomics.store(er(),i+40>>2,i),Rt(i,!vn,1),ti(i)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;vr.threadExitHandlers.length>0;)vr.threadExitHandlers.pop()();mr&&At()&&Vt()},runExitHandlersAndDeinitThread:function(i,o){Atomics.store(er(),i+56>>2,1),Atomics.store(er(),i+60>>2,0),vr.runExitHandlers(),Atomics.store(er(),i+4>>2,o),Atomics.store(er(),i+0>>2,1),Cn(i+0,2147483647),Rt(0,0,0)},setExitStatus:function(i){},threadExit:function(i){var o=At();o&&(vr.runExitHandlersAndDeinitThread(o,i),mr&&postMessage({cmd:"exit"}))},threadCancel:function(){vr.runExitHandlersAndDeinitThread(At(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var i in vr.pthreads){var o=vr.pthreads[i];o&&o.worker&&vr.returnWorkerToPool(o.worker)}vr.pthreads={};for(var v=0;v<vr.unusedWorkers.length;++v){var A=vr.unusedWorkers[v];A.terminate()}vr.unusedWorkers=[];for(var v=0;v<vr.runningWorkers.length;++v){var A=vr.runningWorkers[v],o=A.pthread;vr.freeThreadData(o),A.terminate()}vr.runningWorkers=[]},freeThreadData:function(i){if(i){if(i.threadInfoStruct){var o=F()[i.threadInfoStruct+100>>2];F()[i.threadInfoStruct+100>>2]=0,it(o),it(i.threadInfoStruct)}i.threadInfoStruct=0,i.allocatedOwnStack&&i.stackBase&&it(i.stackBase),i.stackBase=0,i.worker&&(i.worker.pthread=null)}},returnWorkerToPool:function(i){vr.runWithoutMainThreadQueuedCalls(function(){delete vr.pthreads[i.pthread.threadInfoStruct],vr.unusedWorkers.push(i),vr.runningWorkers.splice(vr.runningWorkers.indexOf(i),1),vr.freeThreadData(i.pthread),i.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(i){F()[St>>2]=0;try{i()}finally{F()[St>>2]=1}},receiveObjectTransfer:function(i){},threadInit:function(){for(var i in vr.tlsInitFunctions)vr.tlsInitFunctions[i]()},loadWasmModuleToWorker:function(i,o){i.onmessage=function(v){var A=v.data,N=A.cmd;if(i.pthread&&(vr.currentProxiedOperationCallerThread=i.pthread.threadInfoStruct),A.targetThread&&A.targetThread!=At()){var Y=vr.pthreads[A.targetThread];Y?Y.worker.postMessage(v.data,A.transferList):console.error('Internal error! Worker sent a message "'+N+'" to target pthread '+A.targetThread+", but that thread no longer exists!"),vr.currentProxiedOperationCallerThread=void 0;return}if(N==="processQueuedMainThreadWork")It();else if(N==="spawnThread")Yt(v.data);else if(N==="cleanupThread")Fe(A.thread);else if(N==="killThread")ee(A.thread);else if(N==="cancelThread")se(A.thread);else if(N==="loaded")i.loaded=!0,o&&o(i),i.runPthread&&(i.runPthread(),delete i.runPthread);else if(N==="print")jn("Thread "+A.threadId+": "+A.text);else if(N==="printErr")Qr("Thread "+A.threadId+": "+A.text);else if(N==="alert")alert("Thread "+A.threadId+": "+A.text);else if(N==="exit"){var Q=i.pthread&&Atomics.load(er(),i.pthread.threadInfoStruct+64>>2);Q&&vr.returnWorkerToPool(i)}else if(N==="exitProcess")try{xt(A.returnCode)}catch(Z){if(Z instanceof gt)return;throw Z}else N==="cancelDone"?vr.returnWorkerToPool(i):N==="objectTransfer"?vr.receiveObjectTransfer(v.data):v.data.target==="setimmediate"?i.postMessage(v.data):Qr("worker sent an unknown command "+N);vr.currentProxiedOperationCallerThread=void 0},i.onerror=function(v){Qr("pthread sent an error! "+v.filename+":"+v.lineno+": "+v.message)},i.postMessage({cmd:"load",urlOrBlob:a.mainScriptUrlOrBlob,wasmMemory:Gr,wasmModule:Wr})},allocateUnusedWorker:function(){if(!a.locateFile){vr.unusedWorkers.push(new Worker(new URL("../wasm/wp2_enc_mt_simd.worker.js?type=classic&worker_file",self.location)));return}var i=Ve("wp2_enc_mt_simd.worker.js");vr.unusedWorkers.push(new Worker(i))},getNewWorker:function(){return vr.unusedWorkers.length==0&&(vr.allocateUnusedWorker(),vr.loadWasmModuleToWorker(vr.unusedWorkers[0])),vr.unusedWorkers.pop()},busySpinWait:function(i){for(var o=performance.now()+i;performance.now()<o;);}};function ne(i,o){_t(i,o),Pt(i)}a.establishStackSpace=ne;function nn(i,o){return Ae.get(i)(o)}a.invokeEntryPoint=nn;var nr=0;function ge(){return In||nr>0}a.keepRuntimeAlive=ge;function Ge(i,o,v,A){de("Assertion failed: "+Kr(i)+", at: "+[o?Kr(o):"unknown filename",v,A?Kr(A):"unknown function"])}var ie;mr?ie=function(){return performance.now()-a.__performance_now_clock_drift}:ie=function(){return performance.now()};var Sr={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function un(i){return Et(i+Sr.SIZE)+Sr.SIZE}function te(i,o){vr.threadExitHandlers.push(function(){Ae.get(i)(o)})}function Xr(i,o){return te(i,o)}function _n(i){this.excPtr=i,this.ptr=i-Sr.SIZE,this.set_type=function(o){F()[this.ptr+Sr.TYPE_OFFSET>>2]=o},this.get_type=function(){return F()[this.ptr+Sr.TYPE_OFFSET>>2]},this.set_destructor=function(o){F()[this.ptr+Sr.DESTRUCTOR_OFFSET>>2]=o},this.get_destructor=function(){return F()[this.ptr+Sr.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(o){F()[this.ptr+Sr.REFCOUNT_OFFSET>>2]=o},this.set_caught=function(o){o=o?1:0,e()[this.ptr+Sr.CAUGHT_OFFSET>>0]=o},this.get_caught=function(){return e()[this.ptr+Sr.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(o){o=o?1:0,e()[this.ptr+Sr.RETHROWN_OFFSET>>0]=o},this.get_rethrown=function(){return e()[this.ptr+Sr.RETHROWN_OFFSET>>0]!=0},this.init=function(o,v){this.set_type(o),this.set_destructor(v),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(F(),this.ptr+Sr.REFCOUNT_OFFSET>>2,1)},this.release_ref=function(){var o=Atomics.sub(F(),this.ptr+Sr.REFCOUNT_OFFSET>>2,1);return o===1}}function Ne(i,o,v){var A=new _n(i);throw A.init(o,v),i}var Be={};function Fn(i){for(;i.length;){var o=i.pop(),v=i.pop();v(o)}}function He(i){return this.fromWireType(er()[i>>2])}var fn={},Qe={},yn={},On=48,Je=57;function ln(i){if(i===void 0)return"_unknown";i=i.replace(/[^a-zA-Z0-9_]/g,"$");var o=i.charCodeAt(0);return o>=On&&o<=Je?"_"+i:i}function Ln(i,o){return i=ln(i),new Function("body","return function "+i+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(o)}function $n(i,o){var v=Ln(o,function(A){this.name=o,this.message=A;var N=new Error(A).stack;N!==void 0&&(this.stack=this.toString()+`
`+N.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(i.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},v}var rt=void 0;function En(i){throw new rt(i)}function xn(i,o,v){i.forEach(function(Z){yn[Z]=o});function A(Z){var or=v(Z);or.length!==i.length&&En("Mismatched type converter count");for(var Cr=0;Cr<i.length;++Cr)ke(i[Cr],or[Cr])}var N=new Array(o.length),Y=[],Q=0;o.forEach(function(Z,or){Qe.hasOwnProperty(Z)?N[or]=Qe[Z]:(Y.push(Z),fn.hasOwnProperty(Z)||(fn[Z]=[]),fn[Z].push(function(){N[or]=Qe[Z],++Q,Q===Y.length&&A(N)}))}),Y.length===0&&A(N)}function zn(i){var o=Be[i];delete Be[i];var v=o.rawConstructor,A=o.rawDestructor,N=o.fields,Y=N.map(function(Q){return Q.getterReturnType}).concat(N.map(function(Q){return Q.setterArgumentType}));xn([i],Y,function(Q){var Z={};return N.forEach(function(or,Cr){var Dr=or.fieldName,me=Q[Cr],Tn=or.getter,Yn=or.getterContext,Zn=Q[Cr+N.length],ht=or.setter,bt=or.setterContext;Z[Dr]={read:function(n){return me.fromWireType(Tn(Yn,n))},write:function(n,r){var t=[];ht(bt,n,Zn.toWireType(t,r)),Fn(t)}}}),[{name:o.name,fromWireType:function(or){var Cr={};for(var Dr in Z)Cr[Dr]=Z[Dr].read(or);return A(or),Cr},toWireType:function(or,Cr){for(var Dr in Z)if(!(Dr in Cr))throw new TypeError('Missing field:  "'+Dr+'"');var me=v();for(Dr in Z)Z[Dr].write(me,Cr[Dr]);return or!==null&&or.push(A,me),me},argPackAdvance:8,readValueFromPointer:He,destructorFunction:A}]})}function Bn(i,o,v,A,N){}function wn(i){switch(i){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+i)}}function Kn(){for(var i=new Array(256),o=0;o<256;++o)i[o]=String.fromCharCode(o);et=i}var et=void 0;function Oe(i){for(var o="",v=i;lr()[v];)o+=et[lr()[v++]];return o}var qn=void 0;function De(i){throw new qn(i)}function ke(i,o,v){if(v=v||{},!("argPackAdvance"in o))throw new TypeError("registerType registeredInstance requires argPackAdvance");var A=o.name;if(i||De('type "'+A+'" must have a positive integer typeid pointer'),Qe.hasOwnProperty(i)){if(v.ignoreDuplicateRegistrations)return;De("Cannot register type '"+A+"' twice")}if(Qe[i]=o,delete yn[i],fn.hasOwnProperty(i)){var N=fn[i];delete fn[i],N.forEach(function(Y){Y()})}}function Me(i,o,v,A,N){var Y=wn(v);o=Oe(o),ke(i,{name:o,fromWireType:function(Q){return!!Q},toWireType:function(Q,Z){return Z?A:N},argPackAdvance:8,readValueFromPointer:function(Q){var Z;if(v===1)Z=e();else if(v===2)Z=Tr();else if(v===4)Z=F();else throw new TypeError("Unknown boolean type size: "+o);return this.fromWireType(Z[Q>>Y])},destructorFunction:null})}var sn=[],zr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function tn(i){i>4&&--zr[i].refcount===0&&(zr[i]=void 0,sn.push(i))}function at(){for(var i=0,o=5;o<zr.length;++o)zr[o]!==void 0&&++i;return i}function dn(){for(var i=5;i<zr.length;++i)if(zr[i]!==void 0)return zr[i];return null}function Ye(){a.count_emval_handles=at,a.get_first_emval=dn}function Sn(i){switch(i){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var o=sn.length?sn.pop():zr.length;return zr[o]={refcount:1,value:i},o}}}function ct(i,o){o=Oe(o),ke(i,{name:o,fromWireType:function(v){var A=zr[v].value;return tn(v),A},toWireType:function(v,A){return Sn(A)},argPackAdvance:8,readValueFromPointer:He,destructorFunction:null})}function Jn(i){if(i===null)return"null";var o=typeof i;return o==="object"||o==="array"||o==="function"?i.toString():""+i}function nt(i,o){switch(o){case 2:return function(v){return this.fromWireType(kr()[v>>2])};case 3:return function(v){return this.fromWireType(Ir()[v>>3])};default:throw new TypeError("Unknown float type: "+i)}}function Vn(i,o,v){var A=wn(v);o=Oe(o),ke(i,{name:o,fromWireType:function(N){return N},toWireType:function(N,Y){if(typeof Y!="number"&&typeof Y!="boolean")throw new TypeError('Cannot convert "'+Jn(Y)+'" to '+this.name);return Y},argPackAdvance:8,readValueFromPointer:nt(o,A),destructorFunction:null})}function ot(i,o){if(!(i instanceof Function))throw new TypeError("new_ called with constructor type "+typeof i+" which is not a function");var v=Ln(i.name||"unknownFunctionName",function(){});v.prototype=i.prototype;var A=new v,N=i.apply(A,o);return N instanceof Object?N:A}function Gn(i,o,v,A,N){var Y=o.length;Y<2&&De("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var Q=o[1]!==null&&v!==null,Z=!1,or=1;or<o.length;++or)if(o[or]!==null&&o[or].destructorFunction===void 0){Z=!0;break}for(var Cr=o[0].name!=="void",Dr="",me="",or=0;or<Y-2;++or)Dr+=(or!==0?", ":"")+"arg"+or,me+=(or!==0?", ":"")+"arg"+or+"Wired";var Tn="return function "+ln(i)+"("+Dr+`) {
if (arguments.length !== `+(Y-2)+`) {
throwBindingError('function `+i+" called with ' + arguments.length + ' arguments, expected "+(Y-2)+` args!');
}
`;Z&&(Tn+=`var destructors = [];
`);var Yn=Z?"destructors":"null",Zn=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],ht=[De,A,N,Fn,o[0],o[1]];Q&&(Tn+="var thisWired = classParam.toWireType("+Yn+`, this);
`);for(var or=0;or<Y-2;++or)Tn+="var arg"+or+"Wired = argType"+or+".toWireType("+Yn+", arg"+or+"); // "+o[or+2].name+`
`,Zn.push("argType"+or),ht.push(o[or+2]);if(Q&&(me="thisWired"+(me.length>0?", ":"")+me),Tn+=(Cr?"var rv = ":"")+"invoker(fn"+(me.length>0?", ":"")+me+`);
`,Z)Tn+=`runDestructors(destructors);
`;else for(var or=Q?1:2;or<o.length;++or){var bt=or===1?"thisWired":"arg"+(or-2)+"Wired";o[or].destructorFunction!==null&&(Tn+=bt+"_dtor("+bt+"); // "+o[or].name+`
`,Zn.push(bt+"_dtor"),ht.push(o[or].destructorFunction))}Cr&&(Tn+=`var ret = retType.fromWireType(rv);
return ret;
`),Tn+=`}
`,Zn.push(Tn);var n=ot(Function,Zn).apply(null,ht);return n}function kn(i,o,v){if(i[o].overloadTable===void 0){var A=i[o];i[o]=function(){return i[o].overloadTable.hasOwnProperty(arguments.length)||De("Function '"+v+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+i[o].overloadTable+")!"),i[o].overloadTable[arguments.length].apply(this,arguments)},i[o].overloadTable=[],i[o].overloadTable[A.argCount]=A}}function ut(i,o,v){a.hasOwnProperty(i)?((v===void 0||a[i].overloadTable!==void 0&&a[i].overloadTable[v]!==void 0)&&De("Cannot register public name '"+i+"' twice"),kn(a,i,i),a.hasOwnProperty(v)&&De("Cannot register multiple overloads of a function with the same number of arguments ("+v+")!"),a[i].overloadTable[v]=o):(a[i]=o,v!==void 0&&(a[i].numArguments=v))}function mn(i,o){for(var v=[],A=0;A<i;A++)v.push(F()[(o>>2)+A]);return v}function Wn(i,o,v){a.hasOwnProperty(i)||En("Replacing nonexistant public symbol"),a[i].overloadTable!==void 0&&v!==void 0?a[i].overloadTable[v]=o:(a[i]=o,a[i].argCount=v)}function V(i,o,v){var A=a["dynCall_"+i];return v&&v.length?A.apply(null,[o].concat(v)):A.call(null,o)}function X(i,o,v){return i.includes("j")?V(i,o,v):Ae.get(o).apply(null,v)}function C(i,o){var v=[];return function(){v.length=arguments.length;for(var A=0;A<arguments.length;A++)v[A]=arguments[A];return X(i,o,v)}}function d(i,o){i=Oe(i);function v(){return i.includes("j")?C(i,o):Ae.get(o)}var A=v();return typeof A!="function"&&De("unknown function pointer with signature "+i+": "+o),A}var y=void 0;function P(i){var o=ni(i),v=Oe(o);return it(o),v}function j(i,o){var v=[],A={};function N(Y){if(!A[Y]&&!Qe[Y]){if(yn[Y]){yn[Y].forEach(N);return}v.push(Y),A[Y]=!0}}throw o.forEach(N),new y(i+": "+v.map(P).join([", "]))}function g(i,o,v,A,N,Y){var Q=mn(o,v);i=Oe(i),N=d(A,N),ut(i,function(){j("Cannot call "+i+" due to unbound types",Q)},o-1),xn([],Q,function(Z){var or=[Z[0],null].concat(Z.slice(1));return Wn(i,Gn(i,or,null,N,Y),o-1),[]})}function T(i,o,v){switch(o){case 0:return v?function(N){return e()[N]}:function(N){return lr()[N]};case 1:return v?function(N){return Tr()[N>>1]}:function(N){return hr()[N>>1]};case 2:return v?function(N){return F()[N>>2]}:function(N){return er()[N>>2]};default:throw new TypeError("Unknown integer type: "+i)}}function c(i,o,v,A,N){o=Oe(o),N===-1&&(N=4294967295);var Y=wn(v),Q=function(Cr){return Cr};if(A===0){var Z=32-8*v;Q=function(Cr){return Cr<<Z>>>Z}}var or=o.includes("unsigned");ke(i,{name:o,fromWireType:Q,toWireType:function(Cr,Dr){if(typeof Dr!="number"&&typeof Dr!="boolean")throw new TypeError('Cannot convert "'+Jn(Dr)+'" to '+this.name);if(Dr<A||Dr>N)throw new TypeError('Passing a number "'+Jn(Dr)+'" from JS side to C/C++ side to an argument of type "'+o+'", which is outside the valid range ['+A+", "+N+"]!");return or?Dr>>>0:Dr|0},argPackAdvance:8,readValueFromPointer:T(o,Y,A!==0),destructorFunction:null})}function p(i,o,v){var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],N=A[o];function Y(Q){Q=Q>>2;var Z=er(),or=Z[Q],Cr=Z[Q+1];return new N(fe,Cr,or)}v=Oe(v),ke(i,{name:v,fromWireType:Y,argPackAdvance:8,readValueFromPointer:Y},{ignoreDuplicateRegistrations:!0})}function R(i,o){o=Oe(o);var v=o==="std::string";ke(i,{name:o,fromWireType:function(A){var N=er()[A>>2],Y;if(v)for(var Q=A+4,Z=0;Z<=N;++Z){var or=A+4+Z;if(Z==N||lr()[or]==0){var Cr=or-Q,Dr=Kr(Q,Cr);Y===void 0?Y=Dr:(Y+=String.fromCharCode(0),Y+=Dr),Q=or+1}}else{for(var me=new Array(N),Z=0;Z<N;++Z)me[Z]=String.fromCharCode(lr()[A+4+Z]);Y=me.join("")}return it(A),Y},toWireType:function(A,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var Y,Q=typeof N=="string";Q||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array||De("Cannot pass non-string to std::string"),v&&Q?Y=function(){return Yr(N)}:Y=function(){return N.length};var Z=Y(),or=Et(4+Z+1);if(er()[or>>2]=Z,v&&Q)Rr(N,or+4,Z+1);else if(Q)for(var Cr=0;Cr<Z;++Cr){var Dr=N.charCodeAt(Cr);Dr>255&&(it(or),De("String has UTF-16 code units that do not fit in 8 bits")),lr()[or+4+Cr]=Dr}else for(var Cr=0;Cr<Z;++Cr)lr()[or+4+Cr]=N[Cr];return A!==null&&A.push(it,or),or},argPackAdvance:8,readValueFromPointer:He,destructorFunction:function(A){it(A)}})}function B(i,o,v){v=Oe(v);var A,N,Y,Q,Z;o===2?(A=qr,N=Er,Q=Hr,Y=function(){return hr()},Z=1):o===4&&(A=be,N=Mr,Q=qe,Y=function(){return er()},Z=2),ke(i,{name:v,fromWireType:function(or){for(var Cr=er()[or>>2],Dr=Y(),me,Tn=or+4,Yn=0;Yn<=Cr;++Yn){var Zn=or+4+Yn*o;if(Yn==Cr||Dr[Zn>>Z]==0){var ht=Zn-Tn,bt=A(Tn,ht);me===void 0?me=bt:(me+=String.fromCharCode(0),me+=bt),Tn=Zn+o}}return it(or),me},toWireType:function(or,Cr){typeof Cr!="string"&&De("Cannot pass non-string to C++ string type "+v);var Dr=Q(Cr),me=Et(4+Dr+o);return er()[me>>2]=Dr>>Z,N(Cr,me+4,Dr+o),or!==null&&or.push(it,me),me},argPackAdvance:8,readValueFromPointer:He,destructorFunction:function(or){it(or)}})}function K(i,o,v,A,N,Y){Be[i]={name:Oe(o),rawConstructor:d(v,A),rawDestructor:d(N,Y),fields:[]}}function E(i,o,v,A,N,Y,Q,Z,or,Cr){Be[i].fields.push({fieldName:Oe(o),getterReturnType:v,getter:d(A,N),getterContext:Y,setterArgumentType:Q,setter:d(Z,or),setterContext:Cr})}function S(i,o){o=Oe(o),ke(i,{isVoid:!0,name:o,argPackAdvance:0,fromWireType:function(){},toWireType:function(v,A){}})}function l(i,o){if(i==o)postMessage({cmd:"processQueuedMainThreadWork"});else if(mr)postMessage({targetThread:i,cmd:"processThreadQueue"});else{var v=vr.pthreads[i],A=v&&v.worker;if(!A)return;A.postMessage({cmd:"processThreadQueue"})}return 1}var m={};function U(i){var o=m[i];return o===void 0?Oe(i):o}function q(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function f(i){return i===0?Sn(q()):(i=U(i),Sn(q()[i]))}function s(i){i>4&&(zr[i].refcount+=1)}function h(i,o){var v=Qe[i];return v===void 0&&De(o+" has unknown type "+P(i)),v}function O(i){for(var o="",v=0;v<i;++v)o+=(v!==0?", ":"")+"arg"+v;for(var A="return function emval_allocator_"+i+`(constructor, argTypes, args) {
`,v=0;v<i;++v)A+="var argType"+v+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+v+'], "parameter '+v+`");
var arg`+v+" = argType"+v+`.readValueFromPointer(args);
args += argType`+v+`['argPackAdvance'];
`;return A+="var obj = new constructor("+o+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",A)(h,a,Sn)}var M={};function rr(i){return i||De("Cannot use deleted val. handle = "+i),zr[i].value}function sr(i,o,v,A){i=rr(i);var N=M[o];return N||(N=O(o),M[o]=N),N(i,v,A)}function ir(){de()}var fr=[];function br(i,o){fr.length=0;var v;for(o>>=2;v=lr()[i++];){var A=v<105;A&&o&1&&o++,fr.push(A?Ir()[o++>>1]:F()[o]),++o}return fr}function Nr(i,o,v){var A=br(o,v);return Ee[i].apply(null,A)}function D(){}function L(i,o){}function z(i,o,v){if(i<=0||i>e().length||i&!0)return-28;{var A=Atomics.wait(F(),i>>2,o,v);if(A==="timed-out")return-73;if(A==="not-equal")return-6;if(A==="ok")return 0;throw"Atomics.wait returned an unexpected value "+A}}function w(i,o,v){lr().copyWithin(i,o,o+v)}function k(){return navigator.hardwareConcurrency}function H(i,o){for(var v=arguments.length-2,A=Nt(),N=v,Y=Ht(N*8),Q=Y>>3,Z=0;Z<v;Z++){var or=arguments[2+Z];Ir()[Q+Z]=or}var Cr=Tt(i,N,Y,o);return Pt(A),Cr}var J=[];function $(i,o,v){J.length=o;for(var A=v>>3,N=0;N<o;N++)J[N]=Ir()[A+N];var Y=i<0,Q=Y?Ee[-i-1]:Xt[i];return Q.apply(null,J)}function ur(i){try{return Gr.grow(i-fe.byteLength+65535>>>16),ae(Gr.buffer),1}catch{}}function _r(i){var o=lr().length;if(i=i>>>0,i<=o)return!1;var v=2147483648;if(i>v)return!1;for(var A=1;A<=4;A*=2){var N=o*(1+.2/A);N=Math.min(N,i+100663296);var Y=Math.min(v,Re(Math.max(i,N),65536)),Q=ur(Y);if(Q)return!0}return!1}var tr={inEventHandler:0,removeAllEventListeners:function(){for(var i=tr.eventHandlers.length-1;i>=0;--i)tr._removeHandler(i);tr.eventHandlers=[],tr.deferredCalls=[]},registerRemoveEventListeners:function(){tr.removeEventListenersRegistered||(tr.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(i,o,v){function A(Q,Z){if(Q.length!=Z.length)return!1;for(var or in Q)if(Q[or]!=Z[or])return!1;return!0}for(var N in tr.deferredCalls){var Y=tr.deferredCalls[N];if(Y.targetFunction==i&&A(Y.argsList,v))return}tr.deferredCalls.push({targetFunction:i,precedence:o,argsList:v}),tr.deferredCalls.sort(function(Q,Z){return Q.precedence<Z.precedence})},removeDeferredCalls:function(i){for(var o=0;o<tr.deferredCalls.length;++o)tr.deferredCalls[o].targetFunction==i&&(tr.deferredCalls.splice(o,1),--o)},canPerformEventHandlerRequests:function(){return tr.inEventHandler&&tr.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(tr.canPerformEventHandlerRequests())for(var i=0;i<tr.deferredCalls.length;++i){var o=tr.deferredCalls[i];tr.deferredCalls.splice(i,1),--i,o.targetFunction.apply(null,o.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(i,o){for(var v=0;v<tr.eventHandlers.length;++v)tr.eventHandlers[v].target==i&&(!o||o==tr.eventHandlers[v].eventTypeString)&&tr._removeHandler(v--)},_removeHandler:function(i){var o=tr.eventHandlers[i];o.target.removeEventListener(o.eventTypeString,o.eventListenerFunc,o.useCapture),tr.eventHandlers.splice(i,1)},registerOrRemoveHandler:function(i){var o=function(N){++tr.inEventHandler,tr.currentEventHandler=i,tr.runDeferredCalls(),i.handlerFunc(N),tr.runDeferredCalls(),--tr.inEventHandler};if(i.callbackfunc)i.eventListenerFunc=o,i.target.addEventListener(i.eventTypeString,o,i.useCapture),tr.eventHandlers.push(i),tr.registerRemoveEventListeners();else for(var v=0;v<tr.eventHandlers.length;++v)tr.eventHandlers[v].target==i.target&&tr.eventHandlers[v].eventTypeString==i.eventTypeString&&tr._removeHandler(v--)},queueEventHandlerOnThread_iiii:function(i,o,v,A,N){var Y=Nt(),Q=Ht(12);F()[Q>>2]=v,F()[Q+4>>2]=A,F()[Q+8>>2]=N,vt(0,i,637534208,o,A,Q),Pt(Y)},getTargetThreadForEventCallback:function(i){switch(i){case 1:return 0;case 2:return vr.currentProxiedOperationCallerThread;default:return i}},getNodeNameForTarget:function(i){return i?i==window?"#window":i==screen?"#screen":i&&i.nodeName?i.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function gr(i){var o=Yr(i)+1,v=Et(o);return Rr(i,v,o),v}function Vr(i,o,v,A){var N=Nt(),Y=Ht(12),Q=0;o&&(Q=gr(o)),F()[Y>>2]=Q,F()[Y+4>>2]=v,F()[Y+8>>2]=A,vt(0,i,657457152,0,Q,Y),Pt(N)}function ve(i,o,v,A){o=o?Kr(o):"",Vr(i,o,v,A)}function yr(i){return i>2?Kr(i):i}var Zr=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function Nn(i){i=yr(i);var o=Zr[i]||(typeof document<"u"?document.querySelector(i):void 0);return o}function ft(i){return Nn(i)}function Fr(i,o,v){var A=ft(i);if(!A)return-4;if(A.canvasSharedPtr&&(F()[A.canvasSharedPtr>>2]=o,F()[A.canvasSharedPtr+4>>2]=v),A.offscreenCanvas||!A.controlTransferredOffscreen){A.offscreenCanvas&&(A=A.offscreenCanvas);var N=!1;if(A.GLctxObject&&A.GLctxObject.GLctx){var Y=A.GLctxObject.GLctx.getParameter(2978);N=Y[0]===0&&Y[1]===0&&Y[2]===A.width&&Y[3]===A.height}A.width=o,A.height=v,N&&A.GLctxObject.GLctx.viewport(0,0,o,v)}else if(A.canvasSharedPtr){var Q=F()[A.canvasSharedPtr+8>>2];return ve(Q,i,o,v),1}else return-4;return 0}function he(i,o,v){return mr?H(1,1,i,o,v):Fr(i,o,v)}function tt(i,o,v){var A=ft(i);return A?Fr(i,o,v):he(i,o,v)}function Un(i){}function yt(i){var o=i.getExtension("ANGLE_instanced_arrays");if(o)return i.vertexAttribDivisor=function(v,A){o.vertexAttribDivisorANGLE(v,A)},i.drawArraysInstanced=function(v,A,N,Y){o.drawArraysInstancedANGLE(v,A,N,Y)},i.drawElementsInstanced=function(v,A,N,Y,Q){o.drawElementsInstancedANGLE(v,A,N,Y,Q)},1}function Ct(i){var o=i.getExtension("OES_vertex_array_object");if(o)return i.createVertexArray=function(){return o.createVertexArrayOES()},i.deleteVertexArray=function(v){o.deleteVertexArrayOES(v)},i.bindVertexArray=function(v){o.bindVertexArrayOES(v)},i.isVertexArray=function(v){return o.isVertexArrayOES(v)},1}function Ot(i){var o=i.getExtension("WEBGL_draw_buffers");if(o)return i.drawBuffers=function(v,A){o.drawBuffersWEBGL(v,A)},1}function fi(i){return!!(i.multiDrawWebgl=i.getExtension("WEBGL_multi_draw"))}var an={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(o){an.lastError||(an.lastError=o)},getNewId:function(i){for(var o=an.counter++,v=i.length;v<o;v++)i[v]=null;return o},getSource:function(i,o,v,A){for(var N="",Y=0;Y<o;++Y){var Q=A?F()[A+Y*4>>2]:-1;N+=Kr(F()[v+Y*4>>2],Q<0?void 0:Q)}return N},createContext:function(i,o){i.getContextSafariWebGL2Fixed||(i.getContextSafariWebGL2Fixed=i.getContext,i.getContext=function(N,Y){var Q=i.getContextSafariWebGL2Fixed(N,Y);return N=="webgl"==Q instanceof WebGLRenderingContext?Q:null});var v=i.getContext("webgl",o);if(!v)return 0;var A=an.registerContext(v,o);return A},registerContext:function(i,o){var v=Et(8);F()[v+4>>2]=At();var A={handle:v,attributes:o,version:o.majorVersion,GLctx:i};return i.canvas&&(i.canvas.GLctxObject=A),an.contexts[v]=A,(typeof o.enableExtensionsByDefault>"u"||o.enableExtensionsByDefault)&&an.initExtensions(A),v},makeContextCurrent:function(i){return an.currentContext=an.contexts[i],a.ctx=qt=an.currentContext&&an.currentContext.GLctx,!(i&&!qt)},getContext:function(i){return an.contexts[i]},deleteContext:function(i){an.currentContext===an.contexts[i]&&(an.currentContext=null),typeof tr=="object"&&tr.removeAllHandlersOnTarget(an.contexts[i].GLctx.canvas),an.contexts[i]&&an.contexts[i].GLctx.canvas&&(an.contexts[i].GLctx.canvas.GLctxObject=void 0),it(an.contexts[i].handle),an.contexts[i]=null},initExtensions:function(i){if(i||(i=an.currentContext),!i.initExtensionsDone){i.initExtensionsDone=!0;var o=i.GLctx;yt(o),Ct(o),Ot(o),o.disjointTimerQueryExt=o.getExtension("EXT_disjoint_timer_query"),fi(o);var v=o.getSupportedExtensions()||[];v.forEach(function(A){!A.includes("lose_context")&&!A.includes("debug")&&o.getExtension(A)})}}},si=["default","low-power","high-performance"];function ci(i,o){var v=o>>2,A=F()[v+6],N={alpha:!!F()[v+0],depth:!!F()[v+1],stencil:!!F()[v+2],antialias:!!F()[v+3],premultipliedAlpha:!!F()[v+4],preserveDrawingBuffer:!!F()[v+5],powerPreference:si[A],failIfMajorPerformanceCaveat:!!F()[v+7],majorVersion:F()[v+8],minorVersion:F()[v+9],enableExtensionsByDefault:F()[v+10],explicitSwapControl:F()[v+11],proxyContextToMainThread:F()[v+12],renderViaOffscreenBackBuffer:F()[v+13]},Y=ft(i);if(!Y||N.explicitSwapControl)return 0;var Q=an.createContext(Y,N);return Q}function li(i,o){return ci(i,o)}var je={mappings:{},buffers:[null,[],[]],printChar:function(i,o){var v=je.buffers[i];o===0||o===10?((i===1?jn:Qr)(pn(v,0)),v.length=0):v.push(o)},varargs:void 0,get:function(){je.varargs+=4;var i=F()[je.varargs-4>>2];return i},getStr:function(i){var o=Kr(i);return o},get64:function(i,o){return i}};function lt(i){return mr?H(2,1,i):0}function Zt(i,o,v,A,N){if(mr)return H(3,1,i,o,v,A,N)}function $t(i,o,v,A){if(mr)return H(4,1,i,o,v,A);for(var N=0,Y=0;Y<v;Y++){for(var Q=F()[o+Y*8>>2],Z=F()[o+(Y*8+4)>>2],or=0;or<Z;or++)je.printChar(i,lr()[Q+or]);N+=Z}return F()[A>>2]=N,0}function Yt(i){if(mr)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var o=vr.getNewWorker();if(!o)return 6;if(o.pthread!==void 0)throw"Internal error!";if(!i.pthread_ptr)throw"Internal error, no pthread ptr!";vr.runningWorkers.push(o);for(var v=Et(128*4),A=0;A<128;++A)F()[v+A*4>>2]=0;var N=i.stackBase+i.stackSize,Y=vr.pthreads[i.pthread_ptr]={worker:o,stackBase:i.stackBase,stackSize:i.stackSize,allocatedOwnStack:i.allocatedOwnStack,threadInfoStruct:i.pthread_ptr},Q=Y.threadInfoStruct>>2;Atomics.store(er(),Q+16,i.detached),Atomics.store(er(),Q+25,v),Atomics.store(er(),Q+10,Y.threadInfoStruct),Atomics.store(er(),Q+20,i.stackSize),Atomics.store(er(),Q+19,N),Atomics.store(er(),Q+26,i.stackSize),Atomics.store(er(),Q+(104+8>>2),N),Atomics.store(er(),Q+(104+12>>2),i.detached);var Z=Jt(),or=Z+40;Atomics.store(er(),Q+43,or),o.pthread=Y;var Cr={cmd:"run",start_routine:i.startRoutine,arg:i.arg,threadInfoStruct:i.pthread_ptr,stackBase:i.stackBase,stackSize:i.stackSize};return o.runPthread=function(){Cr.time=performance.now(),o.postMessage(Cr,i.transferList)},o.loaded&&(o.runPthread(),delete o.runPthread),0}function ui(i,o,v,A){if(typeof SharedArrayBuffer>"u")return Qr("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!i)return Qr("pthread_create called with a null thread pointer!"),28;var N=[],Y=0;if(mr&&(N.length===0||Y))return Dt(687865856,i,o,v,A);var Q=0,Z=0,or=0;o&&o!=-1?(Q=F()[o>>2],Q+=81920,Z=F()[o+8>>2],or=F()[o+12>>2]!==0):Q=2097152;var Cr=Z==0;Cr?Z=Xn(16,Q):(Z-=Q,ue(Z>0));for(var Dr=Et(228),me=0;me<57;++me)er()[(Dr>>2)+me]=0;F()[i>>2]=Dr,F()[Dr+12>>2]=Dr;var Tn=Dr+152;F()[Tn>>2]=Tn;var Yn={stackBase:Z,stackSize:Q,allocatedOwnStack:Cr,detached:or,startRoutine:v,pthread_ptr:Dr,arg:A,transferList:N};return mr?(Yn.cmd="spawnThread",postMessage(Yn,N),0):Yt(Yn)}function kt(){if(mr){var i=At();if(i){var o=Atomics.load(er(),i+56>>2);if(!o){var v=Atomics.load(er(),i+0>>2);if(v==2)throw"Canceled!"}}}}function Lt(i,o,v){if(!i)return Qr("pthread_join attempted on a null thread pointer!"),Ur.ESRCH;if(mr&&At()==i)return Qr("PThread "+i+" is attempting to join to itself!"),Ur.EDEADLK;if(!mr&&ii()==i)return Qr("Main thread "+i+" is attempting to join to itself!"),Ur.EDEADLK;var A=F()[i+12>>2];if(A!==i)return Qr("pthread_join attempted on thread "+i+", which does not point to a valid thread, or does not exist anymore!"),Ur.ESRCH;var N=Atomics.load(er(),i+64>>2);if(N)return Qr("Attempted to join thread "+i+", which was already detached!"),Ur.EINVAL;for(;;){var Y=Atomics.load(er(),i+0>>2);if(Y==1){var Q=Atomics.load(er(),i+4>>2);return o&&(F()[o>>2]=Q),Atomics.store(er(),i+64>>2,1),mr?postMessage({cmd:"cleanupThread",thread:i}):Fe(i),0}if(!v)return Ur.EBUSY;kt(),mr||It(),z(i+0,Y,mr?100:1)}}function Kt(i,o){return Lt(i,o,!0)}function ri(i){}mr||vr.initMainThreadBlock(),rt=a.InternalError=$n(Error,"InternalError"),Kn(),qn=a.BindingError=$n(Error,"BindingError"),Ye(),y=a.UnboundTypeError=$n(Error,"UnboundTypeError");var qt,Xt=[null,he,lt,Zt,$t],ei={d:Ge,O:un,s:Xr,N:Ne,u:zn,y:Bn,L:Me,K:ct,p:Vn,t:g,e:c,b:p,q:R,j:B,v:K,c:E,M:S,G:l,m:tn,J:f,Q:s,w:sr,k:ir,o:Nr,C:D,n:L,f:z,g:Cn,h:ie,A:w,R:k,D:$,B:_r,E:tt,l:Un,F:li,I:lt,x:Zt,H:$t,z:Ke,a:Gr||a.wasmMemory,r:ui,P:Kt,i:ri};Br(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.S).apply(null,arguments)};var it=a._free=function(){return(it=a._free=a.asm.T).apply(null,arguments)},Et=a._malloc=function(){return(Et=a._malloc=a.asm.U).apply(null,arguments)};a._emscripten_tls_init=function(){return(a._emscripten_tls_init=a.asm.V).apply(null,arguments)};var ni=a.___getTypeName=function(){return(ni=a.___getTypeName=a.asm.X).apply(null,arguments)};a.___embind_register_native_and_builtin_types=function(){return(a.___embind_register_native_and_builtin_types=a.asm.Y).apply(null,arguments)},a._emscripten_current_thread_process_queued_calls=function(){return(a._emscripten_current_thread_process_queued_calls=a.asm.Z).apply(null,arguments)};var ti=a._emscripten_register_main_browser_thread_id=function(){return(ti=a._emscripten_register_main_browser_thread_id=a.asm._).apply(null,arguments)},ii=a._emscripten_main_browser_thread_id=function(){return(ii=a._emscripten_main_browser_thread_id=a.asm.$).apply(null,arguments)},Qt=a.__emscripten_do_dispatch_to_thread=function(){return(Qt=a.__emscripten_do_dispatch_to_thread=a.asm.aa).apply(null,arguments)},Dt=a._emscripten_sync_run_in_main_thread_4=function(){return(Dt=a._emscripten_sync_run_in_main_thread_4=a.asm.ba).apply(null,arguments)},It=a._emscripten_main_thread_process_queued_calls=function(){return(It=a._emscripten_main_thread_process_queued_calls=a.asm.ca).apply(null,arguments)},Tt=a._emscripten_run_in_main_runtime_thread_js=function(){return(Tt=a._emscripten_run_in_main_runtime_thread_js=a.asm.da).apply(null,arguments)},vt=a.__emscripten_call_on_thread=function(){return(vt=a.__emscripten_call_on_thread=a.asm.ea).apply(null,arguments)},Rt=a.__emscripten_thread_init=function(){return(Rt=a.__emscripten_thread_init=a.asm.fa).apply(null,arguments)},Jt=a._emscripten_get_global_libc=function(){return(Jt=a._emscripten_get_global_libc=a.asm.ga).apply(null,arguments)},At=a._pthread_self=function(){return(At=a._pthread_self=a.asm.ha).apply(null,arguments)},Vt=a.___pthread_tsd_run_dtors=function(){return(Vt=a.___pthread_tsd_run_dtors=a.asm.ia).apply(null,arguments)},Nt=a.stackSave=function(){return(Nt=a.stackSave=a.asm.ja).apply(null,arguments)},Pt=a.stackRestore=function(){return(Pt=a.stackRestore=a.asm.ka).apply(null,arguments)},Ht=a.stackAlloc=function(){return(Ht=a.stackAlloc=a.asm.la).apply(null,arguments)},_t=a._emscripten_stack_set_limits=function(){return(_t=a._emscripten_stack_set_limits=a.asm.ma).apply(null,arguments)},Xn=a._memalign=function(){return(Xn=a._memalign=a.asm.na).apply(null,arguments)};a.dynCall_jiii=function(){return(a.dynCall_jiii=a.asm.oa).apply(null,arguments)},a.dynCall_jiiiiii=function(){return(a.dynCall_jiiiiii=a.asm.pa).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.qa).apply(null,arguments)};var St=a.__emscripten_allow_main_runtime_queued_calls=112520,Gt=a.__emscripten_main_thread_futex=123420;a.PThread=vr,a.PThread=vr,a.wasmMemory=Gr,a.ExitStatus=gt;var Wt;function gt(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}xe=function i(){Wt||wt(),Wt||(xe=i)};function wt(i){if(le>0)return;if(mr){Ie(a),re(),postMessage({cmd:"loaded"});return}if(Mn(),le>0)return;function o(){Wt||(Wt=!0,a.calledRun=!0,!we&&(re(),Ie(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),Rn()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),o()},1)):o()}a.run=wt;function xt(i,o){if(!(o&&ge()&&i===0)){if(!o&&mr)throw postMessage({cmd:"exitProcess",returnCode:i}),new gt(i);ge()||(vr.terminateAllThreads(),a.onExit&&a.onExit(i),we=!0),cn(i,new gt(i))}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return mr&&(In=!1,vr.initWorker()),wt(),a.ready}}(),su=fu,cu=function(){var G=import.meta.url;return function(a){a=a||{};function e(){return Gr.buffer!=fe&&ae(Gr.buffer),bn}function lr(){return Gr.buffer!=fe&&ae(Gr.buffer),Ze}function Tr(){return Gr.buffer!=fe&&ae(Gr.buffer),Jr}function hr(){return Gr.buffer!=fe&&ae(Gr.buffer),$e}function F(){return Gr.buffer!=fe&&ae(Gr.buffer),gn}function er(){return Gr.buffer!=fe&&ae(Gr.buffer),Qn}function kr(){return Gr.buffer!=fe&&ae(Gr.buffer),Pn}function Ir(){return Gr.buffer!=fe&&ae(Gr.buffer),An}var a=typeof a<"u"?a:{},Ie,_e;a.ready=new Promise(function(i,o){Ie=i,_e=o});var $r={},xr;for(xr in a)a.hasOwnProperty(xr)&&($r[xr]=a[xr]);var cn=function(i,o){throw o},vn=!0,mr=a.ENVIRONMENT_IS_PTHREAD||!1,wr="";function Ve(i){return a.locateFile?a.locateFile(i,wr):wr+i}var Hn;wr=self.location.href,G&&(wr=G),wr.indexOf("blob:")!==0?wr=wr.substr(0,wr.lastIndexOf("/")+1):wr="",Hn=function(i){var o=new XMLHttpRequest;return o.open("GET",i,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)};var jn=a.print||console.log.bind(console),Qr=a.printErr||console.warn.bind(console);for(xr in $r)$r.hasOwnProperty(xr)&&(a[xr]=$r[xr]);$r=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&(cn=a.quit);var ce;a.wasmBinary&&(ce=a.wasmBinary);var In=a.noExitRuntime||!0;typeof WebAssembly!="object"&&de("no native wasm support detected");var Gr,Wr,we=!1;function ue(i,o){i||de("Assertion failed: "+o)}function pn(i,o,v){for(var A=o+v,N="";!(o>=A);){var Y=i[o++];if(!Y)return N;if(!(Y&128)){N+=String.fromCharCode(Y);continue}var Q=i[o++]&63;if((Y&224)==192){N+=String.fromCharCode((Y&31)<<6|Q);continue}var Z=i[o++]&63;if((Y&240)==224?Y=(Y&15)<<12|Q<<6|Z:Y=(Y&7)<<18|Q<<12|Z<<6|i[o++]&63,Y<65536)N+=String.fromCharCode(Y);else{var or=Y-65536;N+=String.fromCharCode(55296|or>>10,56320|or&1023)}}return N}function Kr(i,o){return i?pn(lr(),i,o):""}function jr(i,o,v,A){if(!(A>0))return 0;for(var N=v,Y=v+A-1,Q=0;Q<i.length;++Q){var Z=i.charCodeAt(Q);if(Z>=55296&&Z<=57343){var or=i.charCodeAt(++Q);Z=65536+((Z&1023)<<10)|or&1023}if(Z<=127){if(v>=Y)break;o[v++]=Z}else if(Z<=2047){if(v+1>=Y)break;o[v++]=192|Z>>6,o[v++]=128|Z&63}else if(Z<=65535){if(v+2>=Y)break;o[v++]=224|Z>>12,o[v++]=128|Z>>6&63,o[v++]=128|Z&63}else{if(v+3>=Y)break;o[v++]=240|Z>>18,o[v++]=128|Z>>12&63,o[v++]=128|Z>>6&63,o[v++]=128|Z&63}}return o[v]=0,v-N}function Rr(i,o,v){return jr(i,lr(),o,v)}function Yr(i){for(var o=0,v=0;v<i.length;++v){var A=i.charCodeAt(v);A>=55296&&A<=57343&&(A=65536+((A&1023)<<10)|i.charCodeAt(++v)&1023),A<=127?++o:A<=2047?o+=2:A<=65535?o+=3:o+=4}return o}function qr(i,o){for(var v="",A=0;!(A>=o/2);++A){var N=Tr()[i+A*2>>1];if(N==0)break;v+=String.fromCharCode(N)}return v}function Er(i,o,v){if(v===void 0&&(v=2147483647),v<2)return 0;v-=2;for(var A=o,N=v<i.length*2?v/2:i.length,Y=0;Y<N;++Y){var Q=i.charCodeAt(Y);Tr()[o>>1]=Q,o+=2}return Tr()[o>>1]=0,o-A}function Hr(i){return i.length*2}function be(i,o){for(var v=0,A="";!(v>=o/4);){var N=F()[i+v*4>>2];if(N==0)break;if(++v,N>=65536){var Y=N-65536;A+=String.fromCharCode(55296|Y>>10,56320|Y&1023)}else A+=String.fromCharCode(N)}return A}function Mr(i,o,v){if(v===void 0&&(v=2147483647),v<4)return 0;for(var A=o,N=A+v-4,Y=0;Y<i.length;++Y){var Q=i.charCodeAt(Y);if(Q>=55296&&Q<=57343){var Z=i.charCodeAt(++Y);Q=65536+((Q&1023)<<10)|Z&1023}if(F()[o>>2]=Q,o+=4,o+4>N)break}return F()[o>>2]=0,o-A}function qe(i){for(var o=0,v=0;v<i.length;++v){var A=i.charCodeAt(v);A>=55296&&A<=57343&&++v,o+=4}return o}function Re(i,o){return i%o>0&&(i+=o-i%o),i}var fe,bn,Ze,Jr,$e,gn,Qn,Pn,An;mr&&(fe=a.buffer);function ae(i){fe=i,a.HEAP8=bn=new Int8Array(i),a.HEAP16=Jr=new Int16Array(i),a.HEAP32=gn=new Int32Array(i),a.HEAPU8=Ze=new Uint8Array(i),a.HEAPU16=$e=new Uint16Array(i),a.HEAPU32=Qn=new Uint32Array(i),a.HEAPF32=Pn=new Float32Array(i),a.HEAPF64=An=new Float64Array(i)}var Le=a.INITIAL_MEMORY||16777216;if(mr)Gr=a.wasmMemory,fe=a.buffer;else if(a.wasmMemory)Gr=a.wasmMemory;else if(Gr=new WebAssembly.Memory({initial:Le/65536,maximum:2147483648/65536,shared:!0}),!(Gr.buffer instanceof SharedArrayBuffer))throw Qr("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Error("bad memory");Gr&&(fe=Gr.buffer),Le=fe.byteLength,ae(fe);var Ae,oe=[],Ue=[],ye=[];function Mn(){if(!mr){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)ze(a.preRun.shift());en(oe)}}function re(){mr||en(Ue)}function Rn(){if(!mr){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)rn(a.postRun.shift());en(ye)}}function ze(i){oe.unshift(i)}function Ce(i){Ue.unshift(i)}function rn(i){ye.unshift(i)}var le=0,xe=null;function st(i){ue(!mr,"addRunDependency cannot be used in a pthread worker"),le++,a.monitorRunDependencies&&a.monitorRunDependencies(le)}function pe(i){if(le--,a.monitorRunDependencies&&a.monitorRunDependencies(le),le==0&&xe){var o=xe;xe=null,o()}}a.preloadedImages={},a.preloadedAudios={};function de(i){a.onAbort&&a.onAbort(i),mr&&console.error("Pthread aborting at "+new Error().stack),i+="",Qr(i),we=!0,i="abort("+i+"). Build with -s ASSERTIONS=1 for more info.";var o=new WebAssembly.RuntimeError(i);throw _e(o),o}var hn="data:application/octet-stream;base64,";function We(i){return i.startsWith(hn)}if(a.locateFile){var Lr="wp2_enc_mt.wasm";We(Lr)||(Lr=Ve(Lr))}else var Lr=new URL("../wasm/wp2_enc_mt.wasm",self.location).toString();function Se(i){try{if(i==Lr&&ce)return new Uint8Array(ce);if(Hn)return Hn(i);throw"both async and sync fetching of the wasm failed"}catch(o){de(o)}}function Pe(){return!ce&&vn&&typeof fetch=="function"?fetch(Lr,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+Lr+"'";return i.arrayBuffer()}).catch(function(){return Se(Lr)}):Promise.resolve().then(function(){return Se(Lr)})}function Br(){var i={a:ei};function o(Q,Z){var or=Q.exports;if(a.asm=or,Ae=a.asm.W,Ce(a.asm.S),vr.tlsInitFunctions.push(a.asm.V),Wr=Z,!mr){var Cr=vr.unusedWorkers.length;vr.unusedWorkers.forEach(function(Dr){vr.loadWasmModuleToWorker(Dr,function(){--Cr||pe()})})}}mr||st();function v(Q){o(Q.instance,Q.module)}function A(Q){return Pe().then(function(Z){var or=WebAssembly.instantiate(Z,i);return or}).then(Q,function(Z){Qr("failed to asynchronously prepare wasm: "+Z),de(Z)})}function N(){return!ce&&typeof WebAssembly.instantiateStreaming=="function"&&!We(Lr)&&typeof fetch=="function"?fetch(Lr,{credentials:"same-origin"}).then(function(Q){var Z=WebAssembly.instantiateStreaming(Q,i);return Z.then(v,function(or){return Qr("wasm streaming compile failed: "+or),Qr("falling back to ArrayBuffer instantiation"),A(v)})}):A(v)}if(a.instantiateWasm)try{var Y=a.instantiateWasm(i,o);return Y}catch(Q){return Qr("Module.instantiateWasm callback failed with error: "+Q),!1}return N().catch(_e),{}}var Ee={112416:function(){throw"Canceled!"},112434:function(i,o){setTimeout(function(){Qt(i,o)},0)}};function Ke(){vr.initRuntime()}function en(i){for(;i.length>0;){var o=i.shift();if(typeof o=="function"){o(a);continue}var v=o.func;typeof v=="number"?o.arg===void 0?Ae.get(v)():Ae.get(v)(o.arg):v(o.arg===void 0?null:o.arg)}}var Ur={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function Cn(i,o){if(i<=0||i>e().length||i&!0||o<0)return-28;if(o==0)return 0;o>=2147483647&&(o=1/0);var v=Atomics.load(F(),Gt>>2),A=0;if(v==i){var N=Atomics.compareExchange(F(),Gt>>2,v,0);if(N==v&&(--o,A=1,o<=0))return 1}var Y=Atomics.notify(F(),i>>2,o);if(Y>=0)return Y+A;throw"Atomics.notify returned an unexpected value "+Y}a._emscripten_futex_wake=Cn;function ee(i){if(mr)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!i)throw"Internal Error! Null pthread_ptr in killThread!";F()[i+12>>2]=0;var o=vr.pthreads[i];o.worker.terminate(),vr.freeThreadData(o),vr.runningWorkers.splice(vr.runningWorkers.indexOf(o.worker),1),o.worker.pthread=void 0}function se(i){if(mr)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!i)throw"Internal Error! Null pthread_ptr in cancelThread!";var o=vr.pthreads[i];o.worker.postMessage({cmd:"cancel"})}function Fe(i){if(mr)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!i)throw"Internal Error! Null pthread_ptr in cleanupThread!";var o=vr.pthreads[i];if(o){F()[i+12>>2]=0;var v=o.worker;vr.returnWorkerToPool(v)}}var vr={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var i=navigator.hardwareConcurrency,o=0;o<i;++o)vr.allocateUnusedWorker()},initRuntime:function(){for(var i=Et(228),o=0;o<228/4;++o)er()[i/4+o]=0;F()[i+12>>2]=i;var v=i+152;F()[v>>2]=v;for(var A=Et(512),o=0;o<128;++o)er()[A/4+o]=0;Atomics.store(er(),i+100>>2,A),Atomics.store(er(),i+40>>2,i),Rt(i,!vn,1),ti(i)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;vr.threadExitHandlers.length>0;)vr.threadExitHandlers.pop()();mr&&At()&&Vt()},runExitHandlersAndDeinitThread:function(i,o){Atomics.store(er(),i+56>>2,1),Atomics.store(er(),i+60>>2,0),vr.runExitHandlers(),Atomics.store(er(),i+4>>2,o),Atomics.store(er(),i+0>>2,1),Cn(i+0,2147483647),Rt(0,0,0)},setExitStatus:function(i){},threadExit:function(i){var o=At();o&&(vr.runExitHandlersAndDeinitThread(o,i),mr&&postMessage({cmd:"exit"}))},threadCancel:function(){vr.runExitHandlersAndDeinitThread(At(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var i in vr.pthreads){var o=vr.pthreads[i];o&&o.worker&&vr.returnWorkerToPool(o.worker)}vr.pthreads={};for(var v=0;v<vr.unusedWorkers.length;++v){var A=vr.unusedWorkers[v];A.terminate()}vr.unusedWorkers=[];for(var v=0;v<vr.runningWorkers.length;++v){var A=vr.runningWorkers[v],o=A.pthread;vr.freeThreadData(o),A.terminate()}vr.runningWorkers=[]},freeThreadData:function(i){if(i){if(i.threadInfoStruct){var o=F()[i.threadInfoStruct+100>>2];F()[i.threadInfoStruct+100>>2]=0,it(o),it(i.threadInfoStruct)}i.threadInfoStruct=0,i.allocatedOwnStack&&i.stackBase&&it(i.stackBase),i.stackBase=0,i.worker&&(i.worker.pthread=null)}},returnWorkerToPool:function(i){vr.runWithoutMainThreadQueuedCalls(function(){delete vr.pthreads[i.pthread.threadInfoStruct],vr.unusedWorkers.push(i),vr.runningWorkers.splice(vr.runningWorkers.indexOf(i),1),vr.freeThreadData(i.pthread),i.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(i){F()[St>>2]=0;try{i()}finally{F()[St>>2]=1}},receiveObjectTransfer:function(i){},threadInit:function(){for(var i in vr.tlsInitFunctions)vr.tlsInitFunctions[i]()},loadWasmModuleToWorker:function(i,o){i.onmessage=function(v){var A=v.data,N=A.cmd;if(i.pthread&&(vr.currentProxiedOperationCallerThread=i.pthread.threadInfoStruct),A.targetThread&&A.targetThread!=At()){var Y=vr.pthreads[A.targetThread];Y?Y.worker.postMessage(v.data,A.transferList):console.error('Internal error! Worker sent a message "'+N+'" to target pthread '+A.targetThread+", but that thread no longer exists!"),vr.currentProxiedOperationCallerThread=void 0;return}if(N==="processQueuedMainThreadWork")It();else if(N==="spawnThread")Yt(v.data);else if(N==="cleanupThread")Fe(A.thread);else if(N==="killThread")ee(A.thread);else if(N==="cancelThread")se(A.thread);else if(N==="loaded")i.loaded=!0,o&&o(i),i.runPthread&&(i.runPthread(),delete i.runPthread);else if(N==="print")jn("Thread "+A.threadId+": "+A.text);else if(N==="printErr")Qr("Thread "+A.threadId+": "+A.text);else if(N==="alert")alert("Thread "+A.threadId+": "+A.text);else if(N==="exit"){var Q=i.pthread&&Atomics.load(er(),i.pthread.threadInfoStruct+64>>2);Q&&vr.returnWorkerToPool(i)}else if(N==="exitProcess")try{xt(A.returnCode)}catch(Z){if(Z instanceof gt)return;throw Z}else N==="cancelDone"?vr.returnWorkerToPool(i):N==="objectTransfer"?vr.receiveObjectTransfer(v.data):v.data.target==="setimmediate"?i.postMessage(v.data):Qr("worker sent an unknown command "+N);vr.currentProxiedOperationCallerThread=void 0},i.onerror=function(v){Qr("pthread sent an error! "+v.filename+":"+v.lineno+": "+v.message)},i.postMessage({cmd:"load",urlOrBlob:a.mainScriptUrlOrBlob,wasmMemory:Gr,wasmModule:Wr})},allocateUnusedWorker:function(){if(!a.locateFile){vr.unusedWorkers.push(new Worker(new URL("../wasm/wp2_enc_mt.worker.js?type=classic&worker_file",self.location)));return}var i=Ve("wp2_enc_mt.worker.js");vr.unusedWorkers.push(new Worker(i))},getNewWorker:function(){return vr.unusedWorkers.length==0&&(vr.allocateUnusedWorker(),vr.loadWasmModuleToWorker(vr.unusedWorkers[0])),vr.unusedWorkers.pop()},busySpinWait:function(i){for(var o=performance.now()+i;performance.now()<o;);}};function ne(i,o){_t(i,o),Pt(i)}a.establishStackSpace=ne;function nn(i,o){return Ae.get(i)(o)}a.invokeEntryPoint=nn;var nr=0;function ge(){return In||nr>0}a.keepRuntimeAlive=ge;function Ge(i,o,v,A){de("Assertion failed: "+Kr(i)+", at: "+[o?Kr(o):"unknown filename",v,A?Kr(A):"unknown function"])}var ie;mr?ie=function(){return performance.now()-a.__performance_now_clock_drift}:ie=function(){return performance.now()};var Sr={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function un(i){return Et(i+Sr.SIZE)+Sr.SIZE}function te(i,o){vr.threadExitHandlers.push(function(){Ae.get(i)(o)})}function Xr(i,o){return te(i,o)}function _n(i){this.excPtr=i,this.ptr=i-Sr.SIZE,this.set_type=function(o){F()[this.ptr+Sr.TYPE_OFFSET>>2]=o},this.get_type=function(){return F()[this.ptr+Sr.TYPE_OFFSET>>2]},this.set_destructor=function(o){F()[this.ptr+Sr.DESTRUCTOR_OFFSET>>2]=o},this.get_destructor=function(){return F()[this.ptr+Sr.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(o){F()[this.ptr+Sr.REFCOUNT_OFFSET>>2]=o},this.set_caught=function(o){o=o?1:0,e()[this.ptr+Sr.CAUGHT_OFFSET>>0]=o},this.get_caught=function(){return e()[this.ptr+Sr.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(o){o=o?1:0,e()[this.ptr+Sr.RETHROWN_OFFSET>>0]=o},this.get_rethrown=function(){return e()[this.ptr+Sr.RETHROWN_OFFSET>>0]!=0},this.init=function(o,v){this.set_type(o),this.set_destructor(v),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){Atomics.add(F(),this.ptr+Sr.REFCOUNT_OFFSET>>2,1)},this.release_ref=function(){var o=Atomics.sub(F(),this.ptr+Sr.REFCOUNT_OFFSET>>2,1);return o===1}}function Ne(i,o,v){var A=new _n(i);throw A.init(o,v),i}var Be={};function Fn(i){for(;i.length;){var o=i.pop(),v=i.pop();v(o)}}function He(i){return this.fromWireType(er()[i>>2])}var fn={},Qe={},yn={},On=48,Je=57;function ln(i){if(i===void 0)return"_unknown";i=i.replace(/[^a-zA-Z0-9_]/g,"$");var o=i.charCodeAt(0);return o>=On&&o<=Je?"_"+i:i}function Ln(i,o){return i=ln(i),new Function("body","return function "+i+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(o)}function $n(i,o){var v=Ln(o,function(A){this.name=o,this.message=A;var N=new Error(A).stack;N!==void 0&&(this.stack=this.toString()+`
`+N.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(i.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},v}var rt=void 0;function En(i){throw new rt(i)}function xn(i,o,v){i.forEach(function(Z){yn[Z]=o});function A(Z){var or=v(Z);or.length!==i.length&&En("Mismatched type converter count");for(var Cr=0;Cr<i.length;++Cr)ke(i[Cr],or[Cr])}var N=new Array(o.length),Y=[],Q=0;o.forEach(function(Z,or){Qe.hasOwnProperty(Z)?N[or]=Qe[Z]:(Y.push(Z),fn.hasOwnProperty(Z)||(fn[Z]=[]),fn[Z].push(function(){N[or]=Qe[Z],++Q,Q===Y.length&&A(N)}))}),Y.length===0&&A(N)}function zn(i){var o=Be[i];delete Be[i];var v=o.rawConstructor,A=o.rawDestructor,N=o.fields,Y=N.map(function(Q){return Q.getterReturnType}).concat(N.map(function(Q){return Q.setterArgumentType}));xn([i],Y,function(Q){var Z={};return N.forEach(function(or,Cr){var Dr=or.fieldName,me=Q[Cr],Tn=or.getter,Yn=or.getterContext,Zn=Q[Cr+N.length],ht=or.setter,bt=or.setterContext;Z[Dr]={read:function(n){return me.fromWireType(Tn(Yn,n))},write:function(n,r){var t=[];ht(bt,n,Zn.toWireType(t,r)),Fn(t)}}}),[{name:o.name,fromWireType:function(or){var Cr={};for(var Dr in Z)Cr[Dr]=Z[Dr].read(or);return A(or),Cr},toWireType:function(or,Cr){for(var Dr in Z)if(!(Dr in Cr))throw new TypeError('Missing field:  "'+Dr+'"');var me=v();for(Dr in Z)Z[Dr].write(me,Cr[Dr]);return or!==null&&or.push(A,me),me},argPackAdvance:8,readValueFromPointer:He,destructorFunction:A}]})}function Bn(i,o,v,A,N){}function wn(i){switch(i){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+i)}}function Kn(){for(var i=new Array(256),o=0;o<256;++o)i[o]=String.fromCharCode(o);et=i}var et=void 0;function Oe(i){for(var o="",v=i;lr()[v];)o+=et[lr()[v++]];return o}var qn=void 0;function De(i){throw new qn(i)}function ke(i,o,v){if(v=v||{},!("argPackAdvance"in o))throw new TypeError("registerType registeredInstance requires argPackAdvance");var A=o.name;if(i||De('type "'+A+'" must have a positive integer typeid pointer'),Qe.hasOwnProperty(i)){if(v.ignoreDuplicateRegistrations)return;De("Cannot register type '"+A+"' twice")}if(Qe[i]=o,delete yn[i],fn.hasOwnProperty(i)){var N=fn[i];delete fn[i],N.forEach(function(Y){Y()})}}function Me(i,o,v,A,N){var Y=wn(v);o=Oe(o),ke(i,{name:o,fromWireType:function(Q){return!!Q},toWireType:function(Q,Z){return Z?A:N},argPackAdvance:8,readValueFromPointer:function(Q){var Z;if(v===1)Z=e();else if(v===2)Z=Tr();else if(v===4)Z=F();else throw new TypeError("Unknown boolean type size: "+o);return this.fromWireType(Z[Q>>Y])},destructorFunction:null})}var sn=[],zr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function tn(i){i>4&&--zr[i].refcount===0&&(zr[i]=void 0,sn.push(i))}function at(){for(var i=0,o=5;o<zr.length;++o)zr[o]!==void 0&&++i;return i}function dn(){for(var i=5;i<zr.length;++i)if(zr[i]!==void 0)return zr[i];return null}function Ye(){a.count_emval_handles=at,a.get_first_emval=dn}function Sn(i){switch(i){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var o=sn.length?sn.pop():zr.length;return zr[o]={refcount:1,value:i},o}}}function ct(i,o){o=Oe(o),ke(i,{name:o,fromWireType:function(v){var A=zr[v].value;return tn(v),A},toWireType:function(v,A){return Sn(A)},argPackAdvance:8,readValueFromPointer:He,destructorFunction:null})}function Jn(i){if(i===null)return"null";var o=typeof i;return o==="object"||o==="array"||o==="function"?i.toString():""+i}function nt(i,o){switch(o){case 2:return function(v){return this.fromWireType(kr()[v>>2])};case 3:return function(v){return this.fromWireType(Ir()[v>>3])};default:throw new TypeError("Unknown float type: "+i)}}function Vn(i,o,v){var A=wn(v);o=Oe(o),ke(i,{name:o,fromWireType:function(N){return N},toWireType:function(N,Y){if(typeof Y!="number"&&typeof Y!="boolean")throw new TypeError('Cannot convert "'+Jn(Y)+'" to '+this.name);return Y},argPackAdvance:8,readValueFromPointer:nt(o,A),destructorFunction:null})}function ot(i,o){if(!(i instanceof Function))throw new TypeError("new_ called with constructor type "+typeof i+" which is not a function");var v=Ln(i.name||"unknownFunctionName",function(){});v.prototype=i.prototype;var A=new v,N=i.apply(A,o);return N instanceof Object?N:A}function Gn(i,o,v,A,N){var Y=o.length;Y<2&&De("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var Q=o[1]!==null&&v!==null,Z=!1,or=1;or<o.length;++or)if(o[or]!==null&&o[or].destructorFunction===void 0){Z=!0;break}for(var Cr=o[0].name!=="void",Dr="",me="",or=0;or<Y-2;++or)Dr+=(or!==0?", ":"")+"arg"+or,me+=(or!==0?", ":"")+"arg"+or+"Wired";var Tn="return function "+ln(i)+"("+Dr+`) {
if (arguments.length !== `+(Y-2)+`) {
throwBindingError('function `+i+" called with ' + arguments.length + ' arguments, expected "+(Y-2)+` args!');
}
`;Z&&(Tn+=`var destructors = [];
`);var Yn=Z?"destructors":"null",Zn=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],ht=[De,A,N,Fn,o[0],o[1]];Q&&(Tn+="var thisWired = classParam.toWireType("+Yn+`, this);
`);for(var or=0;or<Y-2;++or)Tn+="var arg"+or+"Wired = argType"+or+".toWireType("+Yn+", arg"+or+"); // "+o[or+2].name+`
`,Zn.push("argType"+or),ht.push(o[or+2]);if(Q&&(me="thisWired"+(me.length>0?", ":"")+me),Tn+=(Cr?"var rv = ":"")+"invoker(fn"+(me.length>0?", ":"")+me+`);
`,Z)Tn+=`runDestructors(destructors);
`;else for(var or=Q?1:2;or<o.length;++or){var bt=or===1?"thisWired":"arg"+(or-2)+"Wired";o[or].destructorFunction!==null&&(Tn+=bt+"_dtor("+bt+"); // "+o[or].name+`
`,Zn.push(bt+"_dtor"),ht.push(o[or].destructorFunction))}Cr&&(Tn+=`var ret = retType.fromWireType(rv);
return ret;
`),Tn+=`}
`,Zn.push(Tn);var n=ot(Function,Zn).apply(null,ht);return n}function kn(i,o,v){if(i[o].overloadTable===void 0){var A=i[o];i[o]=function(){return i[o].overloadTable.hasOwnProperty(arguments.length)||De("Function '"+v+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+i[o].overloadTable+")!"),i[o].overloadTable[arguments.length].apply(this,arguments)},i[o].overloadTable=[],i[o].overloadTable[A.argCount]=A}}function ut(i,o,v){a.hasOwnProperty(i)?((v===void 0||a[i].overloadTable!==void 0&&a[i].overloadTable[v]!==void 0)&&De("Cannot register public name '"+i+"' twice"),kn(a,i,i),a.hasOwnProperty(v)&&De("Cannot register multiple overloads of a function with the same number of arguments ("+v+")!"),a[i].overloadTable[v]=o):(a[i]=o,v!==void 0&&(a[i].numArguments=v))}function mn(i,o){for(var v=[],A=0;A<i;A++)v.push(F()[(o>>2)+A]);return v}function Wn(i,o,v){a.hasOwnProperty(i)||En("Replacing nonexistant public symbol"),a[i].overloadTable!==void 0&&v!==void 0?a[i].overloadTable[v]=o:(a[i]=o,a[i].argCount=v)}function V(i,o,v){var A=a["dynCall_"+i];return v&&v.length?A.apply(null,[o].concat(v)):A.call(null,o)}function X(i,o,v){return i.includes("j")?V(i,o,v):Ae.get(o).apply(null,v)}function C(i,o){var v=[];return function(){v.length=arguments.length;for(var A=0;A<arguments.length;A++)v[A]=arguments[A];return X(i,o,v)}}function d(i,o){i=Oe(i);function v(){return i.includes("j")?C(i,o):Ae.get(o)}var A=v();return typeof A!="function"&&De("unknown function pointer with signature "+i+": "+o),A}var y=void 0;function P(i){var o=ni(i),v=Oe(o);return it(o),v}function j(i,o){var v=[],A={};function N(Y){if(!A[Y]&&!Qe[Y]){if(yn[Y]){yn[Y].forEach(N);return}v.push(Y),A[Y]=!0}}throw o.forEach(N),new y(i+": "+v.map(P).join([", "]))}function g(i,o,v,A,N,Y){var Q=mn(o,v);i=Oe(i),N=d(A,N),ut(i,function(){j("Cannot call "+i+" due to unbound types",Q)},o-1),xn([],Q,function(Z){var or=[Z[0],null].concat(Z.slice(1));return Wn(i,Gn(i,or,null,N,Y),o-1),[]})}function T(i,o,v){switch(o){case 0:return v?function(N){return e()[N]}:function(N){return lr()[N]};case 1:return v?function(N){return Tr()[N>>1]}:function(N){return hr()[N>>1]};case 2:return v?function(N){return F()[N>>2]}:function(N){return er()[N>>2]};default:throw new TypeError("Unknown integer type: "+i)}}function c(i,o,v,A,N){o=Oe(o),N===-1&&(N=4294967295);var Y=wn(v),Q=function(Cr){return Cr};if(A===0){var Z=32-8*v;Q=function(Cr){return Cr<<Z>>>Z}}var or=o.includes("unsigned");ke(i,{name:o,fromWireType:Q,toWireType:function(Cr,Dr){if(typeof Dr!="number"&&typeof Dr!="boolean")throw new TypeError('Cannot convert "'+Jn(Dr)+'" to '+this.name);if(Dr<A||Dr>N)throw new TypeError('Passing a number "'+Jn(Dr)+'" from JS side to C/C++ side to an argument of type "'+o+'", which is outside the valid range ['+A+", "+N+"]!");return or?Dr>>>0:Dr|0},argPackAdvance:8,readValueFromPointer:T(o,Y,A!==0),destructorFunction:null})}function p(i,o,v){var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],N=A[o];function Y(Q){Q=Q>>2;var Z=er(),or=Z[Q],Cr=Z[Q+1];return new N(fe,Cr,or)}v=Oe(v),ke(i,{name:v,fromWireType:Y,argPackAdvance:8,readValueFromPointer:Y},{ignoreDuplicateRegistrations:!0})}function R(i,o){o=Oe(o);var v=o==="std::string";ke(i,{name:o,fromWireType:function(A){var N=er()[A>>2],Y;if(v)for(var Q=A+4,Z=0;Z<=N;++Z){var or=A+4+Z;if(Z==N||lr()[or]==0){var Cr=or-Q,Dr=Kr(Q,Cr);Y===void 0?Y=Dr:(Y+=String.fromCharCode(0),Y+=Dr),Q=or+1}}else{for(var me=new Array(N),Z=0;Z<N;++Z)me[Z]=String.fromCharCode(lr()[A+4+Z]);Y=me.join("")}return it(A),Y},toWireType:function(A,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var Y,Q=typeof N=="string";Q||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array||De("Cannot pass non-string to std::string"),v&&Q?Y=function(){return Yr(N)}:Y=function(){return N.length};var Z=Y(),or=Et(4+Z+1);if(er()[or>>2]=Z,v&&Q)Rr(N,or+4,Z+1);else if(Q)for(var Cr=0;Cr<Z;++Cr){var Dr=N.charCodeAt(Cr);Dr>255&&(it(or),De("String has UTF-16 code units that do not fit in 8 bits")),lr()[or+4+Cr]=Dr}else for(var Cr=0;Cr<Z;++Cr)lr()[or+4+Cr]=N[Cr];return A!==null&&A.push(it,or),or},argPackAdvance:8,readValueFromPointer:He,destructorFunction:function(A){it(A)}})}function B(i,o,v){v=Oe(v);var A,N,Y,Q,Z;o===2?(A=qr,N=Er,Q=Hr,Y=function(){return hr()},Z=1):o===4&&(A=be,N=Mr,Q=qe,Y=function(){return er()},Z=2),ke(i,{name:v,fromWireType:function(or){for(var Cr=er()[or>>2],Dr=Y(),me,Tn=or+4,Yn=0;Yn<=Cr;++Yn){var Zn=or+4+Yn*o;if(Yn==Cr||Dr[Zn>>Z]==0){var ht=Zn-Tn,bt=A(Tn,ht);me===void 0?me=bt:(me+=String.fromCharCode(0),me+=bt),Tn=Zn+o}}return it(or),me},toWireType:function(or,Cr){typeof Cr!="string"&&De("Cannot pass non-string to C++ string type "+v);var Dr=Q(Cr),me=Et(4+Dr+o);return er()[me>>2]=Dr>>Z,N(Cr,me+4,Dr+o),or!==null&&or.push(it,me),me},argPackAdvance:8,readValueFromPointer:He,destructorFunction:function(or){it(or)}})}function K(i,o,v,A,N,Y){Be[i]={name:Oe(o),rawConstructor:d(v,A),rawDestructor:d(N,Y),fields:[]}}function E(i,o,v,A,N,Y,Q,Z,or,Cr){Be[i].fields.push({fieldName:Oe(o),getterReturnType:v,getter:d(A,N),getterContext:Y,setterArgumentType:Q,setter:d(Z,or),setterContext:Cr})}function S(i,o){o=Oe(o),ke(i,{isVoid:!0,name:o,argPackAdvance:0,fromWireType:function(){},toWireType:function(v,A){}})}function l(i,o){if(i==o)postMessage({cmd:"processQueuedMainThreadWork"});else if(mr)postMessage({targetThread:i,cmd:"processThreadQueue"});else{var v=vr.pthreads[i],A=v&&v.worker;if(!A)return;A.postMessage({cmd:"processThreadQueue"})}return 1}var m={};function U(i){var o=m[i];return o===void 0?Oe(i):o}function q(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function f(i){return i===0?Sn(q()):(i=U(i),Sn(q()[i]))}function s(i){i>4&&(zr[i].refcount+=1)}function h(i,o){var v=Qe[i];return v===void 0&&De(o+" has unknown type "+P(i)),v}function O(i){for(var o="",v=0;v<i;++v)o+=(v!==0?", ":"")+"arg"+v;for(var A="return function emval_allocator_"+i+`(constructor, argTypes, args) {
`,v=0;v<i;++v)A+="var argType"+v+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+v+'], "parameter '+v+`");
var arg`+v+" = argType"+v+`.readValueFromPointer(args);
args += argType`+v+`['argPackAdvance'];
`;return A+="var obj = new constructor("+o+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",A)(h,a,Sn)}var M={};function rr(i){return i||De("Cannot use deleted val. handle = "+i),zr[i].value}function sr(i,o,v,A){i=rr(i);var N=M[o];return N||(N=O(o),M[o]=N),N(i,v,A)}function ir(){de()}var fr=[];function br(i,o){fr.length=0;var v;for(o>>=2;v=lr()[i++];){var A=v<105;A&&o&1&&o++,fr.push(A?Ir()[o++>>1]:F()[o]),++o}return fr}function Nr(i,o,v){var A=br(o,v);return Ee[i].apply(null,A)}function D(){}function L(i,o){}function z(i,o,v){if(i<=0||i>e().length||i&!0)return-28;{var A=Atomics.wait(F(),i>>2,o,v);if(A==="timed-out")return-73;if(A==="not-equal")return-6;if(A==="ok")return 0;throw"Atomics.wait returned an unexpected value "+A}}function w(i,o,v){lr().copyWithin(i,o,o+v)}function k(){return navigator.hardwareConcurrency}function H(i,o){for(var v=arguments.length-2,A=Nt(),N=v,Y=Ht(N*8),Q=Y>>3,Z=0;Z<v;Z++){var or=arguments[2+Z];Ir()[Q+Z]=or}var Cr=Tt(i,N,Y,o);return Pt(A),Cr}var J=[];function $(i,o,v){J.length=o;for(var A=v>>3,N=0;N<o;N++)J[N]=Ir()[A+N];var Y=i<0,Q=Y?Ee[-i-1]:Xt[i];return Q.apply(null,J)}function ur(i){try{return Gr.grow(i-fe.byteLength+65535>>>16),ae(Gr.buffer),1}catch{}}function _r(i){var o=lr().length;if(i=i>>>0,i<=o)return!1;var v=2147483648;if(i>v)return!1;for(var A=1;A<=4;A*=2){var N=o*(1+.2/A);N=Math.min(N,i+100663296);var Y=Math.min(v,Re(Math.max(i,N),65536)),Q=ur(Y);if(Q)return!0}return!1}var tr={inEventHandler:0,removeAllEventListeners:function(){for(var i=tr.eventHandlers.length-1;i>=0;--i)tr._removeHandler(i);tr.eventHandlers=[],tr.deferredCalls=[]},registerRemoveEventListeners:function(){tr.removeEventListenersRegistered||(tr.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(i,o,v){function A(Q,Z){if(Q.length!=Z.length)return!1;for(var or in Q)if(Q[or]!=Z[or])return!1;return!0}for(var N in tr.deferredCalls){var Y=tr.deferredCalls[N];if(Y.targetFunction==i&&A(Y.argsList,v))return}tr.deferredCalls.push({targetFunction:i,precedence:o,argsList:v}),tr.deferredCalls.sort(function(Q,Z){return Q.precedence<Z.precedence})},removeDeferredCalls:function(i){for(var o=0;o<tr.deferredCalls.length;++o)tr.deferredCalls[o].targetFunction==i&&(tr.deferredCalls.splice(o,1),--o)},canPerformEventHandlerRequests:function(){return tr.inEventHandler&&tr.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(tr.canPerformEventHandlerRequests())for(var i=0;i<tr.deferredCalls.length;++i){var o=tr.deferredCalls[i];tr.deferredCalls.splice(i,1),--i,o.targetFunction.apply(null,o.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(i,o){for(var v=0;v<tr.eventHandlers.length;++v)tr.eventHandlers[v].target==i&&(!o||o==tr.eventHandlers[v].eventTypeString)&&tr._removeHandler(v--)},_removeHandler:function(i){var o=tr.eventHandlers[i];o.target.removeEventListener(o.eventTypeString,o.eventListenerFunc,o.useCapture),tr.eventHandlers.splice(i,1)},registerOrRemoveHandler:function(i){var o=function(N){++tr.inEventHandler,tr.currentEventHandler=i,tr.runDeferredCalls(),i.handlerFunc(N),tr.runDeferredCalls(),--tr.inEventHandler};if(i.callbackfunc)i.eventListenerFunc=o,i.target.addEventListener(i.eventTypeString,o,i.useCapture),tr.eventHandlers.push(i),tr.registerRemoveEventListeners();else for(var v=0;v<tr.eventHandlers.length;++v)tr.eventHandlers[v].target==i.target&&tr.eventHandlers[v].eventTypeString==i.eventTypeString&&tr._removeHandler(v--)},queueEventHandlerOnThread_iiii:function(i,o,v,A,N){var Y=Nt(),Q=Ht(12);F()[Q>>2]=v,F()[Q+4>>2]=A,F()[Q+8>>2]=N,vt(0,i,637534208,o,A,Q),Pt(Y)},getTargetThreadForEventCallback:function(i){switch(i){case 1:return 0;case 2:return vr.currentProxiedOperationCallerThread;default:return i}},getNodeNameForTarget:function(i){return i?i==window?"#window":i==screen?"#screen":i&&i.nodeName?i.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function gr(i){var o=Yr(i)+1,v=Et(o);return Rr(i,v,o),v}function Vr(i,o,v,A){var N=Nt(),Y=Ht(12),Q=0;o&&(Q=gr(o)),F()[Y>>2]=Q,F()[Y+4>>2]=v,F()[Y+8>>2]=A,vt(0,i,657457152,0,Q,Y),Pt(N)}function ve(i,o,v,A){o=o?Kr(o):"",Vr(i,o,v,A)}function yr(i){return i>2?Kr(i):i}var Zr=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function Nn(i){i=yr(i);var o=Zr[i]||(typeof document<"u"?document.querySelector(i):void 0);return o}function ft(i){return Nn(i)}function Fr(i,o,v){var A=ft(i);if(!A)return-4;if(A.canvasSharedPtr&&(F()[A.canvasSharedPtr>>2]=o,F()[A.canvasSharedPtr+4>>2]=v),A.offscreenCanvas||!A.controlTransferredOffscreen){A.offscreenCanvas&&(A=A.offscreenCanvas);var N=!1;if(A.GLctxObject&&A.GLctxObject.GLctx){var Y=A.GLctxObject.GLctx.getParameter(2978);N=Y[0]===0&&Y[1]===0&&Y[2]===A.width&&Y[3]===A.height}A.width=o,A.height=v,N&&A.GLctxObject.GLctx.viewport(0,0,o,v)}else if(A.canvasSharedPtr){var Q=F()[A.canvasSharedPtr+8>>2];return ve(Q,i,o,v),1}else return-4;return 0}function he(i,o,v){return mr?H(1,1,i,o,v):Fr(i,o,v)}function tt(i,o,v){var A=ft(i);return A?Fr(i,o,v):he(i,o,v)}function Un(i){}function yt(i){var o=i.getExtension("ANGLE_instanced_arrays");if(o)return i.vertexAttribDivisor=function(v,A){o.vertexAttribDivisorANGLE(v,A)},i.drawArraysInstanced=function(v,A,N,Y){o.drawArraysInstancedANGLE(v,A,N,Y)},i.drawElementsInstanced=function(v,A,N,Y,Q){o.drawElementsInstancedANGLE(v,A,N,Y,Q)},1}function Ct(i){var o=i.getExtension("OES_vertex_array_object");if(o)return i.createVertexArray=function(){return o.createVertexArrayOES()},i.deleteVertexArray=function(v){o.deleteVertexArrayOES(v)},i.bindVertexArray=function(v){o.bindVertexArrayOES(v)},i.isVertexArray=function(v){return o.isVertexArrayOES(v)},1}function Ot(i){var o=i.getExtension("WEBGL_draw_buffers");if(o)return i.drawBuffers=function(v,A){o.drawBuffersWEBGL(v,A)},1}function fi(i){return!!(i.multiDrawWebgl=i.getExtension("WEBGL_multi_draw"))}var an={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(o){an.lastError||(an.lastError=o)},getNewId:function(i){for(var o=an.counter++,v=i.length;v<o;v++)i[v]=null;return o},getSource:function(i,o,v,A){for(var N="",Y=0;Y<o;++Y){var Q=A?F()[A+Y*4>>2]:-1;N+=Kr(F()[v+Y*4>>2],Q<0?void 0:Q)}return N},createContext:function(i,o){i.getContextSafariWebGL2Fixed||(i.getContextSafariWebGL2Fixed=i.getContext,i.getContext=function(N,Y){var Q=i.getContextSafariWebGL2Fixed(N,Y);return N=="webgl"==Q instanceof WebGLRenderingContext?Q:null});var v=i.getContext("webgl",o);if(!v)return 0;var A=an.registerContext(v,o);return A},registerContext:function(i,o){var v=Et(8);F()[v+4>>2]=At();var A={handle:v,attributes:o,version:o.majorVersion,GLctx:i};return i.canvas&&(i.canvas.GLctxObject=A),an.contexts[v]=A,(typeof o.enableExtensionsByDefault>"u"||o.enableExtensionsByDefault)&&an.initExtensions(A),v},makeContextCurrent:function(i){return an.currentContext=an.contexts[i],a.ctx=qt=an.currentContext&&an.currentContext.GLctx,!(i&&!qt)},getContext:function(i){return an.contexts[i]},deleteContext:function(i){an.currentContext===an.contexts[i]&&(an.currentContext=null),typeof tr=="object"&&tr.removeAllHandlersOnTarget(an.contexts[i].GLctx.canvas),an.contexts[i]&&an.contexts[i].GLctx.canvas&&(an.contexts[i].GLctx.canvas.GLctxObject=void 0),it(an.contexts[i].handle),an.contexts[i]=null},initExtensions:function(i){if(i||(i=an.currentContext),!i.initExtensionsDone){i.initExtensionsDone=!0;var o=i.GLctx;yt(o),Ct(o),Ot(o),o.disjointTimerQueryExt=o.getExtension("EXT_disjoint_timer_query"),fi(o);var v=o.getSupportedExtensions()||[];v.forEach(function(A){!A.includes("lose_context")&&!A.includes("debug")&&o.getExtension(A)})}}},si=["default","low-power","high-performance"];function ci(i,o){var v=o>>2,A=F()[v+6],N={alpha:!!F()[v+0],depth:!!F()[v+1],stencil:!!F()[v+2],antialias:!!F()[v+3],premultipliedAlpha:!!F()[v+4],preserveDrawingBuffer:!!F()[v+5],powerPreference:si[A],failIfMajorPerformanceCaveat:!!F()[v+7],majorVersion:F()[v+8],minorVersion:F()[v+9],enableExtensionsByDefault:F()[v+10],explicitSwapControl:F()[v+11],proxyContextToMainThread:F()[v+12],renderViaOffscreenBackBuffer:F()[v+13]},Y=ft(i);if(!Y||N.explicitSwapControl)return 0;var Q=an.createContext(Y,N);return Q}function li(i,o){return ci(i,o)}var je={mappings:{},buffers:[null,[],[]],printChar:function(i,o){var v=je.buffers[i];o===0||o===10?((i===1?jn:Qr)(pn(v,0)),v.length=0):v.push(o)},varargs:void 0,get:function(){je.varargs+=4;var i=F()[je.varargs-4>>2];return i},getStr:function(i){var o=Kr(i);return o},get64:function(i,o){return i}};function lt(i){return mr?H(2,1,i):0}function Zt(i,o,v,A,N){if(mr)return H(3,1,i,o,v,A,N)}function $t(i,o,v,A){if(mr)return H(4,1,i,o,v,A);for(var N=0,Y=0;Y<v;Y++){for(var Q=F()[o+Y*8>>2],Z=F()[o+(Y*8+4)>>2],or=0;or<Z;or++)je.printChar(i,lr()[Q+or]);N+=Z}return F()[A>>2]=N,0}function Yt(i){if(mr)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var o=vr.getNewWorker();if(!o)return 6;if(o.pthread!==void 0)throw"Internal error!";if(!i.pthread_ptr)throw"Internal error, no pthread ptr!";vr.runningWorkers.push(o);for(var v=Et(128*4),A=0;A<128;++A)F()[v+A*4>>2]=0;var N=i.stackBase+i.stackSize,Y=vr.pthreads[i.pthread_ptr]={worker:o,stackBase:i.stackBase,stackSize:i.stackSize,allocatedOwnStack:i.allocatedOwnStack,threadInfoStruct:i.pthread_ptr},Q=Y.threadInfoStruct>>2;Atomics.store(er(),Q+16,i.detached),Atomics.store(er(),Q+25,v),Atomics.store(er(),Q+10,Y.threadInfoStruct),Atomics.store(er(),Q+20,i.stackSize),Atomics.store(er(),Q+19,N),Atomics.store(er(),Q+26,i.stackSize),Atomics.store(er(),Q+(104+8>>2),N),Atomics.store(er(),Q+(104+12>>2),i.detached);var Z=Jt(),or=Z+40;Atomics.store(er(),Q+43,or),o.pthread=Y;var Cr={cmd:"run",start_routine:i.startRoutine,arg:i.arg,threadInfoStruct:i.pthread_ptr,stackBase:i.stackBase,stackSize:i.stackSize};return o.runPthread=function(){Cr.time=performance.now(),o.postMessage(Cr,i.transferList)},o.loaded&&(o.runPthread(),delete o.runPthread),0}function ui(i,o,v,A){if(typeof SharedArrayBuffer>"u")return Qr("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!i)return Qr("pthread_create called with a null thread pointer!"),28;var N=[],Y=0;if(mr&&(N.length===0||Y))return Dt(687865856,i,o,v,A);var Q=0,Z=0,or=0;o&&o!=-1?(Q=F()[o>>2],Q+=81920,Z=F()[o+8>>2],or=F()[o+12>>2]!==0):Q=2097152;var Cr=Z==0;Cr?Z=Xn(16,Q):(Z-=Q,ue(Z>0));for(var Dr=Et(228),me=0;me<57;++me)er()[(Dr>>2)+me]=0;F()[i>>2]=Dr,F()[Dr+12>>2]=Dr;var Tn=Dr+152;F()[Tn>>2]=Tn;var Yn={stackBase:Z,stackSize:Q,allocatedOwnStack:Cr,detached:or,startRoutine:v,pthread_ptr:Dr,arg:A,transferList:N};return mr?(Yn.cmd="spawnThread",postMessage(Yn,N),0):Yt(Yn)}function kt(){if(mr){var i=At();if(i){var o=Atomics.load(er(),i+56>>2);if(!o){var v=Atomics.load(er(),i+0>>2);if(v==2)throw"Canceled!"}}}}function Lt(i,o,v){if(!i)return Qr("pthread_join attempted on a null thread pointer!"),Ur.ESRCH;if(mr&&At()==i)return Qr("PThread "+i+" is attempting to join to itself!"),Ur.EDEADLK;if(!mr&&ii()==i)return Qr("Main thread "+i+" is attempting to join to itself!"),Ur.EDEADLK;var A=F()[i+12>>2];if(A!==i)return Qr("pthread_join attempted on thread "+i+", which does not point to a valid thread, or does not exist anymore!"),Ur.ESRCH;var N=Atomics.load(er(),i+64>>2);if(N)return Qr("Attempted to join thread "+i+", which was already detached!"),Ur.EINVAL;for(;;){var Y=Atomics.load(er(),i+0>>2);if(Y==1){var Q=Atomics.load(er(),i+4>>2);return o&&(F()[o>>2]=Q),Atomics.store(er(),i+64>>2,1),mr?postMessage({cmd:"cleanupThread",thread:i}):Fe(i),0}if(!v)return Ur.EBUSY;kt(),mr||It(),z(i+0,Y,mr?100:1)}}function Kt(i,o){return Lt(i,o,!0)}function ri(i){}mr||vr.initMainThreadBlock(),rt=a.InternalError=$n(Error,"InternalError"),Kn(),qn=a.BindingError=$n(Error,"BindingError"),Ye(),y=a.UnboundTypeError=$n(Error,"UnboundTypeError");var qt,Xt=[null,he,lt,Zt,$t],ei={d:Ge,O:un,r:Xr,N:Ne,t:zn,x:Bn,L:Me,K:ct,o:Vn,s:g,e:c,b:p,p:R,i:B,u:K,c:E,M:S,G:l,l:tn,J:f,Q:s,v:sr,j:ir,n:Nr,C:D,m:L,f:z,g:Cn,h:ie,A:w,R:k,D:$,B:_r,E:tt,k:Un,F:li,I:lt,w:Zt,H:$t,z:Ke,a:Gr||a.wasmMemory,q:ui,P:Kt,y:ri};Br(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.S).apply(null,arguments)};var it=a._free=function(){return(it=a._free=a.asm.T).apply(null,arguments)},Et=a._malloc=function(){return(Et=a._malloc=a.asm.U).apply(null,arguments)};a._emscripten_tls_init=function(){return(a._emscripten_tls_init=a.asm.V).apply(null,arguments)};var ni=a.___getTypeName=function(){return(ni=a.___getTypeName=a.asm.X).apply(null,arguments)};a.___embind_register_native_and_builtin_types=function(){return(a.___embind_register_native_and_builtin_types=a.asm.Y).apply(null,arguments)},a._emscripten_current_thread_process_queued_calls=function(){return(a._emscripten_current_thread_process_queued_calls=a.asm.Z).apply(null,arguments)};var ti=a._emscripten_register_main_browser_thread_id=function(){return(ti=a._emscripten_register_main_browser_thread_id=a.asm._).apply(null,arguments)},ii=a._emscripten_main_browser_thread_id=function(){return(ii=a._emscripten_main_browser_thread_id=a.asm.$).apply(null,arguments)},Qt=a.__emscripten_do_dispatch_to_thread=function(){return(Qt=a.__emscripten_do_dispatch_to_thread=a.asm.aa).apply(null,arguments)},Dt=a._emscripten_sync_run_in_main_thread_4=function(){return(Dt=a._emscripten_sync_run_in_main_thread_4=a.asm.ba).apply(null,arguments)},It=a._emscripten_main_thread_process_queued_calls=function(){return(It=a._emscripten_main_thread_process_queued_calls=a.asm.ca).apply(null,arguments)},Tt=a._emscripten_run_in_main_runtime_thread_js=function(){return(Tt=a._emscripten_run_in_main_runtime_thread_js=a.asm.da).apply(null,arguments)},vt=a.__emscripten_call_on_thread=function(){return(vt=a.__emscripten_call_on_thread=a.asm.ea).apply(null,arguments)},Rt=a.__emscripten_thread_init=function(){return(Rt=a.__emscripten_thread_init=a.asm.fa).apply(null,arguments)},Jt=a._emscripten_get_global_libc=function(){return(Jt=a._emscripten_get_global_libc=a.asm.ga).apply(null,arguments)},At=a._pthread_self=function(){return(At=a._pthread_self=a.asm.ha).apply(null,arguments)},Vt=a.___pthread_tsd_run_dtors=function(){return(Vt=a.___pthread_tsd_run_dtors=a.asm.ia).apply(null,arguments)},Nt=a.stackSave=function(){return(Nt=a.stackSave=a.asm.ja).apply(null,arguments)},Pt=a.stackRestore=function(){return(Pt=a.stackRestore=a.asm.ka).apply(null,arguments)},Ht=a.stackAlloc=function(){return(Ht=a.stackAlloc=a.asm.la).apply(null,arguments)},_t=a._emscripten_stack_set_limits=function(){return(_t=a._emscripten_stack_set_limits=a.asm.ma).apply(null,arguments)},Xn=a._memalign=function(){return(Xn=a._memalign=a.asm.na).apply(null,arguments)};a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.oa).apply(null,arguments)};var St=a.__emscripten_allow_main_runtime_queued_calls=112408,Gt=a.__emscripten_main_thread_futex=123196;a.PThread=vr,a.PThread=vr,a.wasmMemory=Gr,a.ExitStatus=gt;var Wt;function gt(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}xe=function i(){Wt||wt(),Wt||(xe=i)};function wt(i){if(le>0)return;if(mr){Ie(a),re(),postMessage({cmd:"loaded"});return}if(Mn(),le>0)return;function o(){Wt||(Wt=!0,a.calledRun=!0,!we&&(re(),Ie(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),Rn()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),o()},1)):o()}a.run=wt;function xt(i,o){if(!(o&&ge()&&i===0)){if(!o&&mr)throw postMessage({cmd:"exitProcess",returnCode:i}),new gt(i);ge()||(vr.terminateAllThreads(),a.onExit&&a.onExit(i),we=!0),cn(i,new gt(i))}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return mr&&(In=!1,vr.initWorker()),wt(),a.ready}}(),lu=cu,du=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(l,m){lr=l,Tr=m});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er=!0,kr="";function Ir(l){return e.locateFile?e.locateFile(l,kr):kr+l}var a;kr=self.location.href,G&&(kr=G),kr.indexOf("blob:")!==0?kr=kr.substr(0,kr.lastIndexOf("/")+1):kr="",a=function(l){var m=new XMLHttpRequest;return m.open("GET",l,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)};var Ie=e.print||console.log.bind(console),_e=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var $r;e.wasmBinary&&($r=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&Ue("no native wasm support detected");var xr,cn=!1,vn=new TextDecoder("utf8");function mr(l,m,U){for(var q=m+U,f=m;l[f]&&!(f>=q);)++f;return vn.decode(l.subarray?l.subarray(m,f):new Uint8Array(l.slice(m,f)))}function wr(l,m){if(!l)return"";for(var U=l+m,q=l;!(q>=U)&&Rr[q];)++q;return vn.decode(Rr.subarray(l,q))}function Ve(l,m,U,q){if(!(q>0))return 0;for(var f=U,s=U+q-1,h=0;h<l.length;++h){var O=l.charCodeAt(h);if(O>=55296&&O<=57343){var M=l.charCodeAt(++h);O=65536+((O&1023)<<10)|M&1023}if(O<=127){if(U>=s)break;m[U++]=O}else if(O<=2047){if(U+1>=s)break;m[U++]=192|O>>6,m[U++]=128|O&63}else if(O<=65535){if(U+2>=s)break;m[U++]=224|O>>12,m[U++]=128|O>>6&63,m[U++]=128|O&63}else{if(U+3>=s)break;m[U++]=240|O>>18,m[U++]=128|O>>12&63,m[U++]=128|O>>6&63,m[U++]=128|O&63}}return m[U]=0,U-f}function Hn(l,m,U){return Ve(l,Rr,m,U)}function jn(l){for(var m=0,U=0;U<l.length;++U){var q=l.charCodeAt(U);q>=55296&&q<=57343&&(q=65536+((q&1023)<<10)|l.charCodeAt(++U)&1023),q<=127?++m:q<=2047?m+=2:q<=65535?m+=3:m+=4}return m}var Qr=new TextDecoder("utf-16le");function ce(l,m){for(var U=l,q=U>>1,f=q+m/2;!(q>=f)&&qr[q];)++q;return U=q<<1,Qr.decode(Rr.subarray(l,U))}function In(l,m,U){if(U===void 0&&(U=2147483647),U<2)return 0;U-=2;for(var q=m,f=U<l.length*2?U/2:l.length,s=0;s<f;++s){var h=l.charCodeAt(s);Yr[m>>1]=h,m+=2}return Yr[m>>1]=0,m-q}function Gr(l){return l.length*2}function Wr(l,m){for(var U=0,q="";!(U>=m/4);){var f=Er[l+U*4>>2];if(f==0)break;if(++U,f>=65536){var s=f-65536;q+=String.fromCharCode(55296|s>>10,56320|s&1023)}else q+=String.fromCharCode(f)}return q}function we(l,m,U){if(U===void 0&&(U=2147483647),U<4)return 0;for(var q=m,f=q+U-4,s=0;s<l.length;++s){var h=l.charCodeAt(s);if(h>=55296&&h<=57343){var O=l.charCodeAt(++s);h=65536+((h&1023)<<10)|O&1023}if(Er[m>>2]=h,m+=4,m+4>f)break}return Er[m>>2]=0,m-q}function ue(l){for(var m=0,U=0;U<l.length;++U){var q=l.charCodeAt(U);q>=55296&&q<=57343&&++U,m+=4}return m}function pn(l,m){return l%m>0&&(l+=m-l%m),l}var Kr,jr,Rr,Yr,qr,Er,Hr,be,Mr;function qe(l){Kr=l,e.HEAP8=jr=new Int8Array(l),e.HEAP16=Yr=new Int16Array(l),e.HEAP32=Er=new Int32Array(l),e.HEAPU8=Rr=new Uint8Array(l),e.HEAPU16=qr=new Uint16Array(l),e.HEAPU32=Hr=new Uint32Array(l),e.HEAPF32=be=new Float32Array(l),e.HEAPF64=Mr=new Float64Array(l)}e.INITIAL_MEMORY;var Re,fe=[],bn=[],Ze=[];function Jr(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Qn(e.preRun.shift());rn(fe)}function $e(){rn(bn)}function gn(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)An(e.postRun.shift());rn(Ze)}function Qn(l){fe.unshift(l)}function Pn(l){bn.unshift(l)}function An(l){Ze.unshift(l)}var ae=0,Le=null;function Ae(l){ae++,e.monitorRunDependencies&&e.monitorRunDependencies(ae)}function oe(l){if(ae--,e.monitorRunDependencies&&e.monitorRunDependencies(ae),ae==0&&Le){var m=Le;Le=null,m()}}e.preloadedImages={},e.preloadedAudios={};function Ue(l){e.onAbort&&e.onAbort(l),l+="",_e(l),cn=!0,l="abort("+l+"). Build with -s ASSERTIONS=1 for more info.";var m=new WebAssembly.RuntimeError(l);throw Tr(m),m}var ye="data:application/octet-stream;base64,";function Mn(l){return l.startsWith(ye)}if(e.locateFile){var re="wp2_enc.wasm";Mn(re)||(re=Ir(re))}else var re=new URL("../wasm/wp2_enc.wasm",self.location).toString();function Rn(l){try{if(l==re&&$r)return new Uint8Array($r);if(a)return a(l);throw"both async and sync fetching of the wasm failed"}catch(m){Ue(m)}}function ze(){return!$r&&er&&typeof fetch=="function"?fetch(re,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+re+"'";return l.arrayBuffer()}).catch(function(){return Rn(re)}):Promise.resolve().then(function(){return Rn(re)})}function Ce(){var l={a:p};function m(h,O){var M=h.exports;e.asm=M,xr=e.asm.C,qe(xr.buffer),Re=e.asm.I,Pn(e.asm.D),oe()}Ae();function U(h){m(h.instance)}function q(h){return ze().then(function(O){var M=WebAssembly.instantiate(O,l);return M}).then(h,function(O){_e("failed to asynchronously prepare wasm: "+O),Ue(O)})}function f(){return!$r&&typeof WebAssembly.instantiateStreaming=="function"&&!Mn(re)&&typeof fetch=="function"?fetch(re,{credentials:"same-origin"}).then(function(h){var O=WebAssembly.instantiateStreaming(h,l);return O.then(U,function(M){return _e("wasm streaming compile failed: "+M),_e("falling back to ArrayBuffer instantiation"),q(U)})}):q(U)}if(e.instantiateWasm)try{var s=e.instantiateWasm(l,m);return s}catch(h){return _e("Module.instantiateWasm callback failed with error: "+h),!1}return f().catch(Tr),{}}function rn(l){for(;l.length>0;){var m=l.shift();if(typeof m=="function"){m(e);continue}var U=m.func;typeof U=="number"?m.arg===void 0?Re.get(U)():Re.get(U)(m.arg):U(m.arg===void 0?null:m.arg)}}function le(l,m,U,q){Ue("Assertion failed: "+wr(l)+", at: "+[m?wr(m):"unknown filename",U,q?wr(q):"unknown function"])}var xe={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function st(l){return B(l+xe.SIZE)+xe.SIZE}function pe(l,m){}function de(l,m){return void 0}function hn(l){this.excPtr=l,this.ptr=l-xe.SIZE,this.set_type=function(m){Er[this.ptr+xe.TYPE_OFFSET>>2]=m},this.get_type=function(){return Er[this.ptr+xe.TYPE_OFFSET>>2]},this.set_destructor=function(m){Er[this.ptr+xe.DESTRUCTOR_OFFSET>>2]=m},this.get_destructor=function(){return Er[this.ptr+xe.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(m){Er[this.ptr+xe.REFCOUNT_OFFSET>>2]=m},this.set_caught=function(m){m=m?1:0,jr[this.ptr+xe.CAUGHT_OFFSET>>0]=m},this.get_caught=function(){return jr[this.ptr+xe.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(m){m=m?1:0,jr[this.ptr+xe.RETHROWN_OFFSET>>0]=m},this.get_rethrown=function(){return jr[this.ptr+xe.RETHROWN_OFFSET>>0]!=0},this.init=function(m,U){this.set_type(m),this.set_destructor(U),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var m=Er[this.ptr+xe.REFCOUNT_OFFSET>>2];Er[this.ptr+xe.REFCOUNT_OFFSET>>2]=m+1},this.release_ref=function(){var m=Er[this.ptr+xe.REFCOUNT_OFFSET>>2];return Er[this.ptr+xe.REFCOUNT_OFFSET>>2]=m-1,m===1}}function We(l,m,U){var q=new hn(l);throw q.init(m,U),l}var Lr={};function Se(l){for(;l.length;){var m=l.pop(),U=l.pop();U(m)}}function Pe(l){return this.fromWireType(Hr[l>>2])}var Br={},Ee={},Ke={},en=48,Ur=57;function Cn(l){if(l===void 0)return"_unknown";l=l.replace(/[^a-zA-Z0-9_]/g,"$");var m=l.charCodeAt(0);return m>=en&&m<=Ur?"_"+l:l}function ee(l,m){return l=Cn(l),new Function("body","return function "+l+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(m)}function se(l,m){var U=ee(m,function(q){this.name=m,this.message=q;var f=new Error(q).stack;f!==void 0&&(this.stack=this.toString()+`
`+f.replace(/^Error(:[^\n]*)?\n/,""))});return U.prototype=Object.create(l.prototype),U.prototype.constructor=U,U.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},U}var Fe=void 0;function vr(l){throw new Fe(l)}function ne(l,m,U){l.forEach(function(O){Ke[O]=m});function q(O){var M=U(O);M.length!==l.length&&vr("Mismatched type converter count");for(var rr=0;rr<l.length;++rr)Xr(l[rr],M[rr])}var f=new Array(m.length),s=[],h=0;m.forEach(function(O,M){Ee.hasOwnProperty(O)?f[M]=Ee[O]:(s.push(O),Br.hasOwnProperty(O)||(Br[O]=[]),Br[O].push(function(){f[M]=Ee[O],++h,h===s.length&&q(f)}))}),s.length===0&&q(f)}function nn(l){var m=Lr[l];delete Lr[l];var U=m.rawConstructor,q=m.rawDestructor,f=m.fields,s=f.map(function(h){return h.getterReturnType}).concat(f.map(function(h){return h.setterArgumentType}));ne([l],s,function(h){var O={};return f.forEach(function(M,rr){var sr=M.fieldName,ir=h[rr],fr=M.getter,br=M.getterContext,Nr=h[rr+f.length],D=M.setter,L=M.setterContext;O[sr]={read:function(z){return ir.fromWireType(fr(br,z))},write:function(z,w){var k=[];D(L,z,Nr.toWireType(k,w)),Se(k)}}}),[{name:m.name,fromWireType:function(M){var rr={};for(var sr in O)rr[sr]=O[sr].read(M);return q(M),rr},toWireType:function(M,rr){for(var sr in O)if(!(sr in rr))throw new TypeError('Missing field:  "'+sr+'"');var ir=U();for(sr in O)O[sr].write(ir,rr[sr]);return M!==null&&M.push(q,ir),ir},argPackAdvance:8,readValueFromPointer:Pe,destructorFunction:q}]})}function nr(l,m,U,q,f){}function ge(l){switch(l){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+l)}}function Ge(){for(var l=new Array(256),m=0;m<256;++m)l[m]=String.fromCharCode(m);ie=l}var ie=void 0;function Sr(l){for(var m="",U=l;Rr[U];)m+=ie[Rr[U++]];return m}var un=void 0;function te(l){throw new un(l)}function Xr(l,m,U){if(U=U||{},!("argPackAdvance"in m))throw new TypeError("registerType registeredInstance requires argPackAdvance");var q=m.name;if(l||te('type "'+q+'" must have a positive integer typeid pointer'),Ee.hasOwnProperty(l)){if(U.ignoreDuplicateRegistrations)return;te("Cannot register type '"+q+"' twice")}if(Ee[l]=m,delete Ke[l],Br.hasOwnProperty(l)){var f=Br[l];delete Br[l],f.forEach(function(s){s()})}}function _n(l,m,U,q,f){var s=ge(U);m=Sr(m),Xr(l,{name:m,fromWireType:function(h){return!!h},toWireType:function(h,O){return O?q:f},argPackAdvance:8,readValueFromPointer:function(h){var O;if(U===1)O=jr;else if(U===2)O=Yr;else if(U===4)O=Er;else throw new TypeError("Unknown boolean type size: "+m);return this.fromWireType(O[h>>s])},destructorFunction:null})}var Ne=[],Be=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Fn(l){l>4&&--Be[l].refcount===0&&(Be[l]=void 0,Ne.push(l))}function He(){for(var l=0,m=5;m<Be.length;++m)Be[m]!==void 0&&++l;return l}function fn(){for(var l=5;l<Be.length;++l)if(Be[l]!==void 0)return Be[l];return null}function Qe(){e.count_emval_handles=He,e.get_first_emval=fn}function yn(l){switch(l){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var m=Ne.length?Ne.pop():Be.length;return Be[m]={refcount:1,value:l},m}}}function On(l,m){m=Sr(m),Xr(l,{name:m,fromWireType:function(U){var q=Be[U].value;return Fn(U),q},toWireType:function(U,q){return yn(q)},argPackAdvance:8,readValueFromPointer:Pe,destructorFunction:null})}function Je(l){if(l===null)return"null";var m=typeof l;return m==="object"||m==="array"||m==="function"?l.toString():""+l}function ln(l,m){switch(m){case 2:return function(U){return this.fromWireType(be[U>>2])};case 3:return function(U){return this.fromWireType(Mr[U>>3])};default:throw new TypeError("Unknown float type: "+l)}}function Ln(l,m,U){var q=ge(U);m=Sr(m),Xr(l,{name:m,fromWireType:function(f){return f},toWireType:function(f,s){if(typeof s!="number"&&typeof s!="boolean")throw new TypeError('Cannot convert "'+Je(s)+'" to '+this.name);return s},argPackAdvance:8,readValueFromPointer:ln(m,q),destructorFunction:null})}function $n(l,m){if(!(l instanceof Function))throw new TypeError("new_ called with constructor type "+typeof l+" which is not a function");var U=ee(l.name||"unknownFunctionName",function(){});U.prototype=l.prototype;var q=new U,f=l.apply(q,m);return f instanceof Object?f:q}function rt(l,m,U,q,f){var s=m.length;s<2&&te("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var h=m[1]!==null&&U!==null,O=!1,M=1;M<m.length;++M)if(m[M]!==null&&m[M].destructorFunction===void 0){O=!0;break}for(var rr=m[0].name!=="void",sr="",ir="",M=0;M<s-2;++M)sr+=(M!==0?", ":"")+"arg"+M,ir+=(M!==0?", ":"")+"arg"+M+"Wired";var fr="return function "+Cn(l)+"("+sr+`) {
if (arguments.length !== `+(s-2)+`) {
throwBindingError('function `+l+" called with ' + arguments.length + ' arguments, expected "+(s-2)+` args!');
}
`;O&&(fr+=`var destructors = [];
`);var br=O?"destructors":"null",Nr=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],D=[te,q,f,Se,m[0],m[1]];h&&(fr+="var thisWired = classParam.toWireType("+br+`, this);
`);for(var M=0;M<s-2;++M)fr+="var arg"+M+"Wired = argType"+M+".toWireType("+br+", arg"+M+"); // "+m[M+2].name+`
`,Nr.push("argType"+M),D.push(m[M+2]);if(h&&(ir="thisWired"+(ir.length>0?", ":"")+ir),fr+=(rr?"var rv = ":"")+"invoker(fn"+(ir.length>0?", ":"")+ir+`);
`,O)fr+=`runDestructors(destructors);
`;else for(var M=h?1:2;M<m.length;++M){var L=M===1?"thisWired":"arg"+(M-2)+"Wired";m[M].destructorFunction!==null&&(fr+=L+"_dtor("+L+"); // "+m[M].name+`
`,Nr.push(L+"_dtor"),D.push(m[M].destructorFunction))}rr&&(fr+=`var ret = retType.fromWireType(rv);
return ret;
`),fr+=`}
`,Nr.push(fr);var z=$n(Function,Nr).apply(null,D);return z}function En(l,m,U){if(l[m].overloadTable===void 0){var q=l[m];l[m]=function(){return l[m].overloadTable.hasOwnProperty(arguments.length)||te("Function '"+U+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+l[m].overloadTable+")!"),l[m].overloadTable[arguments.length].apply(this,arguments)},l[m].overloadTable=[],l[m].overloadTable[q.argCount]=q}}function xn(l,m,U){e.hasOwnProperty(l)?((U===void 0||e[l].overloadTable!==void 0&&e[l].overloadTable[U]!==void 0)&&te("Cannot register public name '"+l+"' twice"),En(e,l,l),e.hasOwnProperty(U)&&te("Cannot register multiple overloads of a function with the same number of arguments ("+U+")!"),e[l].overloadTable[U]=m):(e[l]=m,U!==void 0&&(e[l].numArguments=U))}function zn(l,m){for(var U=[],q=0;q<l;q++)U.push(Er[(m>>2)+q]);return U}function Bn(l,m,U){e.hasOwnProperty(l)||vr("Replacing nonexistant public symbol"),e[l].overloadTable!==void 0&&U!==void 0?e[l].overloadTable[U]=m:(e[l]=m,e[l].argCount=U)}function wn(l,m,U){var q=e["dynCall_"+l];return U&&U.length?q.apply(null,[m].concat(U)):q.call(null,m)}function Kn(l,m,U){return l.includes("j")?wn(l,m,U):Re.get(m).apply(null,U)}function et(l,m){var U=[];return function(){U.length=arguments.length;for(var q=0;q<arguments.length;q++)U[q]=arguments[q];return Kn(l,m,U)}}function Oe(l,m){l=Sr(l);function U(){return l.includes("j")?et(l,m):Re.get(m)}var q=U();return typeof q!="function"&&te("unknown function pointer with signature "+l+": "+m),q}var qn=void 0;function De(l){var m=K(l),U=Sr(m);return R(m),U}function ke(l,m){var U=[],q={};function f(s){if(!q[s]&&!Ee[s]){if(Ke[s]){Ke[s].forEach(f);return}U.push(s),q[s]=!0}}throw m.forEach(f),new qn(l+": "+U.map(De).join([", "]))}function Me(l,m,U,q,f,s){var h=zn(m,U);l=Sr(l),f=Oe(q,f),xn(l,function(){ke("Cannot call "+l+" due to unbound types",h)},m-1),ne([],h,function(O){var M=[O[0],null].concat(O.slice(1));return Bn(l,rt(l,M,null,f,s),m-1),[]})}function sn(l,m,U){switch(m){case 0:return U?function(f){return jr[f]}:function(f){return Rr[f]};case 1:return U?function(f){return Yr[f>>1]}:function(f){return qr[f>>1]};case 2:return U?function(f){return Er[f>>2]}:function(f){return Hr[f>>2]};default:throw new TypeError("Unknown integer type: "+l)}}function zr(l,m,U,q,f){m=Sr(m),f===-1&&(f=4294967295);var s=ge(U),h=function(rr){return rr};if(q===0){var O=32-8*U;h=function(rr){return rr<<O>>>O}}var M=m.includes("unsigned");Xr(l,{name:m,fromWireType:h,toWireType:function(rr,sr){if(typeof sr!="number"&&typeof sr!="boolean")throw new TypeError('Cannot convert "'+Je(sr)+'" to '+this.name);if(sr<q||sr>f)throw new TypeError('Passing a number "'+Je(sr)+'" from JS side to C/C++ side to an argument of type "'+m+'", which is outside the valid range ['+q+", "+f+"]!");return M?sr>>>0:sr|0},argPackAdvance:8,readValueFromPointer:sn(m,s,q!==0),destructorFunction:null})}function tn(l,m,U){var q=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],f=q[m];function s(h){h=h>>2;var O=Hr,M=O[h],rr=O[h+1];return new f(Kr,rr,M)}U=Sr(U),Xr(l,{name:U,fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})}function at(l,m){m=Sr(m);var U=m==="std::string";Xr(l,{name:m,fromWireType:function(q){var f=Hr[q>>2],s;if(U)for(var h=q+4,O=0;O<=f;++O){var M=q+4+O;if(O==f||Rr[M]==0){var rr=M-h,sr=wr(h,rr);s===void 0?s=sr:(s+=String.fromCharCode(0),s+=sr),h=M+1}}else{for(var ir=new Array(f),O=0;O<f;++O)ir[O]=String.fromCharCode(Rr[q+4+O]);s=ir.join("")}return R(q),s},toWireType:function(q,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var s,h=typeof f=="string";h||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array||te("Cannot pass non-string to std::string"),U&&h?s=function(){return jn(f)}:s=function(){return f.length};var O=s(),M=B(4+O+1);if(Hr[M>>2]=O,U&&h)Hn(f,M+4,O+1);else if(h)for(var rr=0;rr<O;++rr){var sr=f.charCodeAt(rr);sr>255&&(R(M),te("String has UTF-16 code units that do not fit in 8 bits")),Rr[M+4+rr]=sr}else for(var rr=0;rr<O;++rr)Rr[M+4+rr]=f[rr];return q!==null&&q.push(R,M),M},argPackAdvance:8,readValueFromPointer:Pe,destructorFunction:function(q){R(q)}})}function dn(l,m,U){U=Sr(U);var q,f,s,h,O;m===2?(q=ce,f=In,h=Gr,s=function(){return qr},O=1):m===4&&(q=Wr,f=we,h=ue,s=function(){return Hr},O=2),Xr(l,{name:U,fromWireType:function(M){for(var rr=Hr[M>>2],sr=s(),ir,fr=M+4,br=0;br<=rr;++br){var Nr=M+4+br*m;if(br==rr||sr[Nr>>O]==0){var D=Nr-fr,L=q(fr,D);ir===void 0?ir=L:(ir+=String.fromCharCode(0),ir+=L),fr=Nr+m}}return R(M),ir},toWireType:function(M,rr){typeof rr!="string"&&te("Cannot pass non-string to C++ string type "+U);var sr=h(rr),ir=B(4+sr+m);return Hr[ir>>2]=sr>>O,f(rr,ir+4,sr+m),M!==null&&M.push(R,ir),ir},argPackAdvance:8,readValueFromPointer:Pe,destructorFunction:function(M){R(M)}})}function Ye(l,m,U,q,f,s){Lr[l]={name:Sr(m),rawConstructor:Oe(U,q),rawDestructor:Oe(f,s),fields:[]}}function Sn(l,m,U,q,f,s,h,O,M,rr){Lr[l].fields.push({fieldName:Sr(m),getterReturnType:U,getter:Oe(q,f),getterContext:s,setterArgumentType:h,setter:Oe(O,M),setterContext:rr})}function ct(l,m){m=Sr(m),Xr(l,{isVoid:!0,name:m,argPackAdvance:0,fromWireType:function(){},toWireType:function(U,q){}})}var Jn={};function nt(l){var m=Jn[l];return m===void 0?Sr(l):m}function Vn(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function ot(l){return l===0?yn(Vn()):(l=nt(l),yn(Vn()[l]))}function Gn(l){l>4&&(Be[l].refcount+=1)}function kn(l,m){var U=Ee[l];return U===void 0&&te(m+" has unknown type "+De(l)),U}function ut(l){for(var m="",U=0;U<l;++U)m+=(U!==0?", ":"")+"arg"+U;for(var q="return function emval_allocator_"+l+`(constructor, argTypes, args) {
`,U=0;U<l;++U)q+="var argType"+U+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+U+'], "parameter '+U+`");
var arg`+U+" = argType"+U+`.readValueFromPointer(args);
args += argType`+U+`['argPackAdvance'];
`;return q+="var obj = new constructor("+m+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",q)(kn,e,yn)}var mn={};function Wn(l){return l||te("Cannot use deleted val. handle = "+l),Be[l].value}function V(l,m,U,q){l=Wn(l);var f=mn[m];return f||(f=ut(m),mn[m]=f),f(l,U,q)}function X(){Ue()}function C(l,m,U){Rr.copyWithin(l,m,m+U)}function d(l){try{return xr.grow(l-Kr.byteLength+65535>>>16),qe(xr.buffer),1}catch{}}function y(l){var m=Rr.length;l=l>>>0;var U=2147483648;if(l>U)return!1;for(var q=1;q<=4;q*=2){var f=m*(1+.2/q);f=Math.min(f,l+100663296);var s=Math.min(U,pn(Math.max(l,f),65536)),h=d(s);if(h)return!0}return!1}var P={mappings:{},buffers:[null,[],[]],printChar:function(l,m){var U=P.buffers[l];m===0||m===10?((l===1?Ie:_e)(mr(U,0)),U.length=0):U.push(m)},varargs:void 0,get:function(){P.varargs+=4;var l=Er[P.varargs-4>>2];return l},getStr:function(l){var m=wr(l);return m},get64:function(l,m){return l}};function j(l){return 0}function g(l,m,U,q,f){}function T(l,m,U,q){for(var f=0,s=0;s<U;s++){for(var h=Er[m+s*8>>2],O=Er[m+(s*8+4)>>2],M=0;M<O;M++)P.printChar(l,Rr[h+M]);f+=O}return Er[q>>2]=f,0}function c(l){}Fe=e.InternalError=se(Error,"InternalError"),Ge(),un=e.BindingError=se(Error,"BindingError"),Qe(),qn=e.UnboundTypeError=se(Error,"UnboundTypeError");var p={o:le,z:st,B:de,y:We,l:nn,q:nr,w:_n,v:On,h:Ln,k:Me,c:zr,a:tn,i:at,e:dn,m:Ye,b:Sn,x:ct,g:Fn,A:ot,j:Gn,n:V,f:X,s:C,d:y,u:j,p:g,t:T,r:c};Ce(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.D).apply(null,arguments)};var R=e._free=function(){return(R=e._free=e.asm.E).apply(null,arguments)},B=e._malloc=function(){return(B=e._malloc=e.asm.F).apply(null,arguments)},K=e.___getTypeName=function(){return(K=e.___getTypeName=e.asm.G).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.H).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.J).apply(null,arguments)};var E;Le=function l(){E||S(),E||(Le=l)};function S(l){if(ae>0||(Jr(),ae>0))return;function m(){E||(E=!0,e.calledRun=!0,!cn&&($e(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),gn()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),m()},1)):m()}if(e.run=S,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return S(),e.ready}}(),vu=du,Oi;async function _u(){return await bi()?await xi()?jt(su):jt(lu):jt(vu)}async function pu(G,cr){Oi||(Oi=_u());const lr=(await Oi).encode(G.data,G.width,G.height,cr);if(!lr)throw new Error("Encoding error.");return lr.buffer}var Pa=(G,cr)=>pu(G,cr),gu={zx:0,maxNumColors:256,dither:1},hu=["triangle","catrom","mitchell","lanczos3","hqx"],mu={width:1,height:1,method:"lanczos3",fitMethod:"stretch",premultiply:!0,linearRGB:!0},yu={rotate:0},Oa={avif:{meta:Zi,...sa},browserGIF:{meta:$i,...la},browserJPEG:{meta:ra,...va},browserPNG:{meta:na,...pa},jxl:{meta:ia,...ha},mozJPEG:{meta:aa,...ya},oxiPNG:{meta:oa,...wa},webP:{meta:ua,...Fa},wp2:{meta:fa,...Sa}},Eu={quantize:{enabled:!1,...gu},resize:{enabled:!1,...mu}},wu={rotate:yu},Tu=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(f,s){lr=f,Tr=s});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er=!0,kr="";function Ir(f){return e.locateFile?e.locateFile(f,kr):kr+f}var a;kr=self.location.href,G&&(kr=G),kr.indexOf("blob:")!==0?kr=kr.substr(0,kr.lastIndexOf("/")+1):kr="",a=function(f){var s=new XMLHttpRequest;return s.open("GET",f,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)};var Ie=e.print||console.log.bind(console),_e=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var $r=0,xr=function(f){$r=f},cn=function(){return $r},vn;e.wasmBinary&&(vn=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&re("no native wasm support detected");var mr,wr=!1,Ve=new TextDecoder("utf8");function Hn(f,s,h){for(var O=s+h,M=s;f[M]&&!(M>=O);)++M;return Ve.decode(f.subarray?f.subarray(s,M):new Uint8Array(f.slice(s,M)))}function jn(f,s){if(!f)return"";for(var h=f+s,O=f;!(O>=h)&&Er[O];)++O;return Ve.decode(Er.subarray(f,O))}function Qr(f,s,h,O){if(!(O>0))return 0;for(var M=h,rr=h+O-1,sr=0;sr<f.length;++sr){var ir=f.charCodeAt(sr);if(ir>=55296&&ir<=57343){var fr=f.charCodeAt(++sr);ir=65536+((ir&1023)<<10)|fr&1023}if(ir<=127){if(h>=rr)break;s[h++]=ir}else if(ir<=2047){if(h+1>=rr)break;s[h++]=192|ir>>6,s[h++]=128|ir&63}else if(ir<=65535){if(h+2>=rr)break;s[h++]=224|ir>>12,s[h++]=128|ir>>6&63,s[h++]=128|ir&63}else{if(h+3>=rr)break;s[h++]=240|ir>>18,s[h++]=128|ir>>12&63,s[h++]=128|ir>>6&63,s[h++]=128|ir&63}}return s[h]=0,h-M}function ce(f,s,h){return Qr(f,Er,s,h)}function In(f){for(var s=0,h=0;h<f.length;++h){var O=f.charCodeAt(h);O>=55296&&O<=57343&&(O=65536+((O&1023)<<10)|f.charCodeAt(++h)&1023),O<=127?++s:O<=2047?s+=2:O<=65535?s+=3:s+=4}return s}var Gr=new TextDecoder("utf-16le");function Wr(f,s){for(var h=f,O=h>>1,M=O+s/2;!(O>=M)&&be[O];)++O;return h=O<<1,Gr.decode(Er.subarray(f,h))}function we(f,s,h){if(h===void 0&&(h=2147483647),h<2)return 0;h-=2;for(var O=s,M=h<f.length*2?h/2:f.length,rr=0;rr<M;++rr){var sr=f.charCodeAt(rr);Hr[s>>1]=sr,s+=2}return Hr[s>>1]=0,s-O}function ue(f){return f.length*2}function pn(f,s){for(var h=0,O="";!(h>=s/4);){var M=Mr[f+h*4>>2];if(M==0)break;if(++h,M>=65536){var rr=M-65536;O+=String.fromCharCode(55296|rr>>10,56320|rr&1023)}else O+=String.fromCharCode(M)}return O}function Kr(f,s,h){if(h===void 0&&(h=2147483647),h<4)return 0;for(var O=s,M=O+h-4,rr=0;rr<f.length;++rr){var sr=f.charCodeAt(rr);if(sr>=55296&&sr<=57343){var ir=f.charCodeAt(++rr);sr=65536+((sr&1023)<<10)|ir&1023}if(Mr[s>>2]=sr,s+=4,s+4>M)break}return Mr[s>>2]=0,s-O}function jr(f){for(var s=0,h=0;h<f.length;++h){var O=f.charCodeAt(h);O>=55296&&O<=57343&&++h,s+=4}return s}function Rr(f,s){return f%s>0&&(f+=s-f%s),f}var Yr,qr,Er,Hr,be,Mr,qe,Re,fe;function bn(f){Yr=f,e.HEAP8=qr=new Int8Array(f),e.HEAP16=Hr=new Int16Array(f),e.HEAP32=Mr=new Int32Array(f),e.HEAPU8=Er=new Uint8Array(f),e.HEAPU16=be=new Uint16Array(f),e.HEAPU32=qe=new Uint32Array(f),e.HEAPF32=Re=new Float32Array(f),e.HEAPF64=fe=new Float64Array(f)}e.INITIAL_MEMORY;var Ze,Jr=[],$e=[],gn=[];function Qn(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)ae(e.preRun.shift());st(Jr)}function Pn(){st($e)}function An(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Ae(e.postRun.shift());st(gn)}function ae(f){Jr.unshift(f)}function Le(f){$e.unshift(f)}function Ae(f){gn.unshift(f)}var oe=0,Ue=null;function ye(f){oe++,e.monitorRunDependencies&&e.monitorRunDependencies(oe)}function Mn(f){if(oe--,e.monitorRunDependencies&&e.monitorRunDependencies(oe),oe==0&&Ue){var s=Ue;Ue=null,s()}}e.preloadedImages={},e.preloadedAudios={};function re(f){e.onAbort&&e.onAbort(f),f+="",_e(f),wr=!0,f="abort("+f+"). Build with -s ASSERTIONS=1 for more info.";var s=new WebAssembly.RuntimeError(f);throw Tr(s),s}var Rn="data:application/octet-stream;base64,";function ze(f){return f.startsWith(Rn)}if(e.locateFile){var Ce="avif_dec.wasm";ze(Ce)||(Ce=Ir(Ce))}else var Ce=new URL("../wasm/avif_dec.wasm",self.location).toString();function rn(f){try{if(f==Ce&&vn)return new Uint8Array(vn);if(a)return a(f);throw"both async and sync fetching of the wasm failed"}catch(s){re(s)}}function le(){return!vn&&er&&typeof fetch=="function"?fetch(Ce,{credentials:"same-origin"}).then(function(f){if(!f.ok)throw"failed to load wasm binary file at '"+Ce+"'";return f.arrayBuffer()}).catch(function(){return rn(Ce)}):Promise.resolve().then(function(){return rn(Ce)})}function xe(){var f={a:g};function s(sr,ir){var fr=sr.exports;e.asm=fr,mr=e.asm.C,bn(mr.buffer),Ze=e.asm.L,Le(e.asm.D),Mn()}ye();function h(sr){s(sr.instance)}function O(sr){return le().then(function(ir){var fr=WebAssembly.instantiate(ir,f);return fr}).then(sr,function(ir){_e("failed to asynchronously prepare wasm: "+ir),re(ir)})}function M(){return!vn&&typeof WebAssembly.instantiateStreaming=="function"&&!ze(Ce)&&typeof fetch=="function"?fetch(Ce,{credentials:"same-origin"}).then(function(sr){var ir=WebAssembly.instantiateStreaming(sr,f);return ir.then(h,function(fr){return _e("wasm streaming compile failed: "+fr),_e("falling back to ArrayBuffer instantiation"),O(h)})}):O(h)}if(e.instantiateWasm)try{var rr=e.instantiateWasm(f,s);return rr}catch(sr){return _e("Module.instantiateWasm callback failed with error: "+sr),!1}return M().catch(Tr),{}}function st(f){for(;f.length>0;){var s=f.shift();if(typeof s=="function"){s(e);continue}var h=s.func;typeof h=="number"?s.arg===void 0?Ze.get(h)():Ze.get(h)(s.arg):h(s.arg===void 0?null:s.arg)}}function pe(f,s){}function de(f,s){return void 0}function hn(f,s,h,O,M){}function We(f){switch(f){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+f)}}function Lr(){for(var f=new Array(256),s=0;s<256;++s)f[s]=String.fromCharCode(s);Se=f}var Se=void 0;function Pe(f){for(var s="",h=f;Er[h];)s+=Se[Er[h++]];return s}var Br={},Ee={},Ke={},en=48,Ur=57;function Cn(f){if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var s=f.charCodeAt(0);return s>=en&&s<=Ur?"_"+f:f}function ee(f,s){return f=Cn(f),new Function("body","return function "+f+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(s)}function se(f,s){var h=ee(s,function(O){this.name=s,this.message=O;var M=new Error(O).stack;M!==void 0&&(this.stack=this.toString()+`
`+M.replace(/^Error(:[^\n]*)?\n/,""))});return h.prototype=Object.create(f.prototype),h.prototype.constructor=h,h.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},h}var Fe=void 0;function vr(f){throw new Fe(f)}var ne=void 0;function nn(f){throw new ne(f)}function nr(f,s,h){f.forEach(function(ir){Ke[ir]=s});function O(ir){var fr=h(ir);fr.length!==f.length&&nn("Mismatched type converter count");for(var br=0;br<f.length;++br)ge(f[br],fr[br])}var M=new Array(s.length),rr=[],sr=0;s.forEach(function(ir,fr){Ee.hasOwnProperty(ir)?M[fr]=Ee[ir]:(rr.push(ir),Br.hasOwnProperty(ir)||(Br[ir]=[]),Br[ir].push(function(){M[fr]=Ee[ir],++sr,sr===rr.length&&O(M)}))}),rr.length===0&&O(M)}function ge(f,s,h){if(h=h||{},!("argPackAdvance"in s))throw new TypeError("registerType registeredInstance requires argPackAdvance");var O=s.name;if(f||vr('type "'+O+'" must have a positive integer typeid pointer'),Ee.hasOwnProperty(f)){if(h.ignoreDuplicateRegistrations)return;vr("Cannot register type '"+O+"' twice")}if(Ee[f]=s,delete Ke[f],Br.hasOwnProperty(f)){var M=Br[f];delete Br[f],M.forEach(function(rr){rr()})}}function Ge(f,s,h,O,M){var rr=We(h);s=Pe(s),ge(f,{name:s,fromWireType:function(sr){return!!sr},toWireType:function(sr,ir){return ir?O:M},argPackAdvance:8,readValueFromPointer:function(sr){var ir;if(h===1)ir=qr;else if(h===2)ir=Hr;else if(h===4)ir=Mr;else throw new TypeError("Unknown boolean type size: "+s);return this.fromWireType(ir[sr>>rr])},destructorFunction:null})}var ie=[],Sr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function un(f){f>4&&--Sr[f].refcount===0&&(Sr[f]=void 0,ie.push(f))}function te(){for(var f=0,s=5;s<Sr.length;++s)Sr[s]!==void 0&&++f;return f}function Xr(){for(var f=5;f<Sr.length;++f)if(Sr[f]!==void 0)return Sr[f];return null}function _n(){e.count_emval_handles=te,e.get_first_emval=Xr}function Ne(f){switch(f){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var s=ie.length?ie.pop():Sr.length;return Sr[s]={refcount:1,value:f},s}}}function Be(f){return this.fromWireType(qe[f>>2])}function Fn(f,s){s=Pe(s),ge(f,{name:s,fromWireType:function(h){var O=Sr[h].value;return un(h),O},toWireType:function(h,O){return Ne(O)},argPackAdvance:8,readValueFromPointer:Be,destructorFunction:null})}function He(f){if(f===null)return"null";var s=typeof f;return s==="object"||s==="array"||s==="function"?f.toString():""+f}function fn(f,s){switch(s){case 2:return function(h){return this.fromWireType(Re[h>>2])};case 3:return function(h){return this.fromWireType(fe[h>>3])};default:throw new TypeError("Unknown float type: "+f)}}function Qe(f,s,h){var O=We(h);s=Pe(s),ge(f,{name:s,fromWireType:function(M){return M},toWireType:function(M,rr){if(typeof rr!="number"&&typeof rr!="boolean")throw new TypeError('Cannot convert "'+He(rr)+'" to '+this.name);return rr},argPackAdvance:8,readValueFromPointer:fn(s,O),destructorFunction:null})}function yn(f,s){if(!(f instanceof Function))throw new TypeError("new_ called with constructor type "+typeof f+" which is not a function");var h=ee(f.name||"unknownFunctionName",function(){});h.prototype=f.prototype;var O=new h,M=f.apply(O,s);return M instanceof Object?M:O}function On(f){for(;f.length;){var s=f.pop(),h=f.pop();h(s)}}function Je(f,s,h,O,M){var rr=s.length;rr<2&&vr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var sr=s[1]!==null&&h!==null,ir=!1,fr=1;fr<s.length;++fr)if(s[fr]!==null&&s[fr].destructorFunction===void 0){ir=!0;break}for(var br=s[0].name!=="void",Nr="",D="",fr=0;fr<rr-2;++fr)Nr+=(fr!==0?", ":"")+"arg"+fr,D+=(fr!==0?", ":"")+"arg"+fr+"Wired";var L="return function "+Cn(f)+"("+Nr+`) {
if (arguments.length !== `+(rr-2)+`) {
throwBindingError('function `+f+" called with ' + arguments.length + ' arguments, expected "+(rr-2)+` args!');
}
`;ir&&(L+=`var destructors = [];
`);var z=ir?"destructors":"null",w=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],k=[vr,O,M,On,s[0],s[1]];sr&&(L+="var thisWired = classParam.toWireType("+z+`, this);
`);for(var fr=0;fr<rr-2;++fr)L+="var arg"+fr+"Wired = argType"+fr+".toWireType("+z+", arg"+fr+"); // "+s[fr+2].name+`
`,w.push("argType"+fr),k.push(s[fr+2]);if(sr&&(D="thisWired"+(D.length>0?", ":"")+D),L+=(br?"var rv = ":"")+"invoker(fn"+(D.length>0?", ":"")+D+`);
`,ir)L+=`runDestructors(destructors);
`;else for(var fr=sr?1:2;fr<s.length;++fr){var H=fr===1?"thisWired":"arg"+(fr-2)+"Wired";s[fr].destructorFunction!==null&&(L+=H+"_dtor("+H+"); // "+s[fr].name+`
`,w.push(H+"_dtor"),k.push(s[fr].destructorFunction))}br&&(L+=`var ret = retType.fromWireType(rv);
return ret;
`),L+=`}
`,w.push(L);var J=yn(Function,w).apply(null,k);return J}function ln(f,s,h){if(f[s].overloadTable===void 0){var O=f[s];f[s]=function(){return f[s].overloadTable.hasOwnProperty(arguments.length)||vr("Function '"+h+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+f[s].overloadTable+")!"),f[s].overloadTable[arguments.length].apply(this,arguments)},f[s].overloadTable=[],f[s].overloadTable[O.argCount]=O}}function Ln(f,s,h){e.hasOwnProperty(f)?((h===void 0||e[f].overloadTable!==void 0&&e[f].overloadTable[h]!==void 0)&&vr("Cannot register public name '"+f+"' twice"),ln(e,f,f),e.hasOwnProperty(h)&&vr("Cannot register multiple overloads of a function with the same number of arguments ("+h+")!"),e[f].overloadTable[h]=s):(e[f]=s,h!==void 0&&(e[f].numArguments=h))}function $n(f,s){for(var h=[],O=0;O<f;O++)h.push(Mr[(s>>2)+O]);return h}function rt(f,s,h){e.hasOwnProperty(f)||nn("Replacing nonexistant public symbol"),e[f].overloadTable!==void 0&&h!==void 0?e[f].overloadTable[h]=s:(e[f]=s,e[f].argCount=h)}function En(f,s,h){var O=e["dynCall_"+f];return h&&h.length?O.apply(null,[s].concat(h)):O.call(null,s)}function xn(f,s,h){return f.includes("j")?En(f,s,h):Ze.get(s).apply(null,h)}function zn(f,s){var h=[];return function(){h.length=arguments.length;for(var O=0;O<arguments.length;O++)h[O]=arguments[O];return xn(f,s,h)}}function Bn(f,s){f=Pe(f);function h(){return f.includes("j")?zn(f,s):Ze.get(s)}var O=h();return typeof O!="function"&&vr("unknown function pointer with signature "+f+": "+s),O}var wn=void 0;function Kn(f){var s=p(f),h=Pe(s);return c(s),h}function et(f,s){var h=[],O={};function M(rr){if(!O[rr]&&!Ee[rr]){if(Ke[rr]){Ke[rr].forEach(M);return}h.push(rr),O[rr]=!0}}throw s.forEach(M),new wn(f+": "+h.map(Kn).join([", "]))}function Oe(f,s,h,O,M,rr){var sr=$n(s,h);f=Pe(f),M=Bn(O,M),Ln(f,function(){et("Cannot call "+f+" due to unbound types",sr)},s-1),nr([],sr,function(ir){var fr=[ir[0],null].concat(ir.slice(1));return rt(f,Je(f,fr,null,M,rr),s-1),[]})}function qn(f,s,h){switch(s){case 0:return h?function(M){return qr[M]}:function(M){return Er[M]};case 1:return h?function(M){return Hr[M>>1]}:function(M){return be[M>>1]};case 2:return h?function(M){return Mr[M>>2]}:function(M){return qe[M>>2]};default:throw new TypeError("Unknown integer type: "+f)}}function De(f,s,h,O,M){s=Pe(s),M===-1&&(M=4294967295);var rr=We(h),sr=function(br){return br};if(O===0){var ir=32-8*h;sr=function(br){return br<<ir>>>ir}}var fr=s.includes("unsigned");ge(f,{name:s,fromWireType:sr,toWireType:function(br,Nr){if(typeof Nr!="number"&&typeof Nr!="boolean")throw new TypeError('Cannot convert "'+He(Nr)+'" to '+this.name);if(Nr<O||Nr>M)throw new TypeError('Passing a number "'+He(Nr)+'" from JS side to C/C++ side to an argument of type "'+s+'", which is outside the valid range ['+O+", "+M+"]!");return fr?Nr>>>0:Nr|0},argPackAdvance:8,readValueFromPointer:qn(s,rr,O!==0),destructorFunction:null})}function ke(f,s,h){var O=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],M=O[s];function rr(sr){sr=sr>>2;var ir=qe,fr=ir[sr],br=ir[sr+1];return new M(Yr,br,fr)}h=Pe(h),ge(f,{name:h,fromWireType:rr,argPackAdvance:8,readValueFromPointer:rr},{ignoreDuplicateRegistrations:!0})}function Me(f,s){s=Pe(s);var h=s==="std::string";ge(f,{name:s,fromWireType:function(O){var M=qe[O>>2],rr;if(h)for(var sr=O+4,ir=0;ir<=M;++ir){var fr=O+4+ir;if(ir==M||Er[fr]==0){var br=fr-sr,Nr=jn(sr,br);rr===void 0?rr=Nr:(rr+=String.fromCharCode(0),rr+=Nr),sr=fr+1}}else{for(var D=new Array(M),ir=0;ir<M;++ir)D[ir]=String.fromCharCode(Er[O+4+ir]);rr=D.join("")}return c(O),rr},toWireType:function(O,M){M instanceof ArrayBuffer&&(M=new Uint8Array(M));var rr,sr=typeof M=="string";sr||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int8Array||vr("Cannot pass non-string to std::string"),h&&sr?rr=function(){return In(M)}:rr=function(){return M.length};var ir=rr(),fr=T(4+ir+1);if(qe[fr>>2]=ir,h&&sr)ce(M,fr+4,ir+1);else if(sr)for(var br=0;br<ir;++br){var Nr=M.charCodeAt(br);Nr>255&&(c(fr),vr("String has UTF-16 code units that do not fit in 8 bits")),Er[fr+4+br]=Nr}else for(var br=0;br<ir;++br)Er[fr+4+br]=M[br];return O!==null&&O.push(c,fr),fr},argPackAdvance:8,readValueFromPointer:Be,destructorFunction:function(O){c(O)}})}function sn(f,s,h){h=Pe(h);var O,M,rr,sr,ir;s===2?(O=Wr,M=we,sr=ue,rr=function(){return be},ir=1):s===4&&(O=pn,M=Kr,sr=jr,rr=function(){return qe},ir=2),ge(f,{name:h,fromWireType:function(fr){for(var br=qe[fr>>2],Nr=rr(),D,L=fr+4,z=0;z<=br;++z){var w=fr+4+z*s;if(z==br||Nr[w>>ir]==0){var k=w-L,H=O(L,k);D===void 0?D=H:(D+=String.fromCharCode(0),D+=H),L=w+s}}return c(fr),D},toWireType:function(fr,br){typeof br!="string"&&vr("Cannot pass non-string to C++ string type "+h);var Nr=sr(br),D=T(4+Nr+s);return qe[D>>2]=Nr>>ir,M(br,D+4,Nr+s),fr!==null&&fr.push(c,D),D},argPackAdvance:8,readValueFromPointer:Be,destructorFunction:function(fr){c(fr)}})}function zr(f,s){s=Pe(s),ge(f,{isVoid:!0,name:s,argPackAdvance:0,fromWireType:function(){},toWireType:function(h,O){}})}var tn={};function at(f){var s=tn[f];return s===void 0?Pe(f):s}function dn(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Ye(f){return f===0?Ne(dn()):(f=at(f),Ne(dn()[f]))}function Sn(f){f>4&&(Sr[f].refcount+=1)}function ct(f,s){var h=Ee[f];return h===void 0&&vr(s+" has unknown type "+Kn(f)),h}function Jn(f){for(var s="",h=0;h<f;++h)s+=(h!==0?", ":"")+"arg"+h;for(var O="return function emval_allocator_"+f+`(constructor, argTypes, args) {
`,h=0;h<f;++h)O+="var argType"+h+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+h+'], "parameter '+h+`");
var arg`+h+" = argType"+h+`.readValueFromPointer(args);
args += argType`+h+`['argPackAdvance'];
`;return O+="var obj = new constructor("+s+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",O)(ct,e,Ne)}var nt={};function Vn(f){return f||vr("Cannot use deleted val. handle = "+f),Sr[f].value}function ot(f,s,h,O){f=Vn(f);var M=nt[s];return M||(M=Jn(s),nt[s]=M),M(f,h,O)}function Gn(){re()}function kn(f,s){throw K(f,s||1),"longjmp"}function ut(f,s){return kn(f,s)}function mn(f,s,h){Er.copyWithin(f,s,s+h)}function Wn(f){try{return mr.grow(f-Yr.byteLength+65535>>>16),bn(mr.buffer),1}catch{}}function V(f){var s=Er.length;f=f>>>0;var h=2147483648;if(f>h)return!1;for(var O=1;O<=4;O*=2){var M=s*(1+.2/O);M=Math.min(M,f+100663296);var rr=Math.min(h,Rr(Math.max(f,M),65536)),sr=Wn(rr);if(sr)return!0}return!1}var X={mappings:{},buffers:[null,[],[]],printChar:function(f,s){var h=X.buffers[f];s===0||s===10?((f===1?Ie:_e)(Hn(h,0)),h.length=0):h.push(s)},varargs:void 0,get:function(){X.varargs+=4;var f=Mr[X.varargs-4>>2];return f},getStr:function(f){var s=jn(f);return s},get64:function(f,s){return f}};function C(f){return 0}function d(f,s,h,O,M){}function y(f,s,h,O){for(var M=0,rr=0;rr<h;rr++){for(var sr=Mr[s+rr*8>>2],ir=Mr[s+(rr*8+4)>>2],fr=0;fr<ir;fr++)X.printChar(f,Er[sr+fr]);M+=ir}return Mr[O>>2]=M,0}function P(){return cn()}function j(f){xr(f)}Lr(),Fe=e.BindingError=se(Error,"BindingError"),ne=e.InternalError=se(Error,"InternalError"),_n(),wn=e.UnboundTypeError=se(Error,"UnboundTypeError");var g={j:de,v:hn,r:Ge,B:Fn,q:Qe,t:Oe,e:De,d:ke,m:Me,l:sn,s:zr,h:un,i:Ye,n:Sn,o:ot,a:Gn,g:ut,y:mn,k:V,A:C,u:d,z:y,b:P,f:l,w:m,p:S,x:E,c:j};xe(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.D).apply(null,arguments)};var T=e._malloc=function(){return(T=e._malloc=e.asm.E).apply(null,arguments)},c=e._free=function(){return(c=e._free=e.asm.F).apply(null,arguments)},p=e.___getTypeName=function(){return(p=e.___getTypeName=e.asm.G).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.H).apply(null,arguments)};var R=e.stackSave=function(){return(R=e.stackSave=e.asm.I).apply(null,arguments)},B=e.stackRestore=function(){return(B=e.stackRestore=e.asm.J).apply(null,arguments)},K=e._setThrew=function(){return(K=e._setThrew=e.asm.K).apply(null,arguments)};e.dynCall_iiijii=function(){return(e.dynCall_iiijii=e.asm.M).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.N).apply(null,arguments)};function E(f,s,h,O,M,rr,sr,ir){var fr=R();try{Ze.get(f)(s,h,O,M,rr,sr,ir)}catch(br){if(B(fr),br!==br+0&&br!=="longjmp")throw br;K(1,0)}}function S(f,s,h,O,M){var rr=R();try{Ze.get(f)(s,h,O,M)}catch(sr){if(B(rr),sr!==sr+0&&sr!=="longjmp")throw sr;K(1,0)}}function l(f,s,h){var O=R();try{return Ze.get(f)(s,h)}catch(M){if(B(O),M!==M+0&&M!=="longjmp")throw M;K(1,0)}}function m(f,s,h,O,M){var rr=R();try{return Ze.get(f)(s,h,O,M)}catch(sr){if(B(rr),sr!==sr+0&&sr!=="longjmp")throw sr;K(1,0)}}var U;Ue=function f(){U||q(),U||(Ue=f)};function q(f){if(oe>0||(Qn(),oe>0))return;function s(){U||(U=!0,e.calledRun=!0,!wr&&(Pn(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),An()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),s()},1)):s()}if(e.run=q,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return q(),e.ready}}(),bu=Tu,ki;async function Au(G){ki||(ki=jt(bu));const[cr,e]=await Promise.all([ki,Ti(G)]),lr=cr.decode(e);if(!lr)throw new Error("Decoding error");return lr}var Cu=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(E,S){lr=E,Tr=S});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er="./this.program",kr=!0,Ir="";function a(E){return e.locateFile?e.locateFile(E,Ir):Ir+E}var Ie;Ir=self.location.href,G&&(Ir=G),Ir.indexOf("blob:")!==0?Ir=Ir.substr(0,Ir.lastIndexOf("/")+1):Ir="",Ie=function(E){var S=new XMLHttpRequest;return S.open("GET",E,!1),S.responseType="arraybuffer",S.send(null),new Uint8Array(S.response)};var _e=e.print||console.log.bind(console),$r=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&(er=e.thisProgram),e.quit&&e.quit;var xr;e.wasmBinary&&(xr=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&Mn("no native wasm support detected");var cn,vn=!1,mr=new TextDecoder("utf8");function wr(E,S,l){for(var m=S+l,U=S;E[U]&&!(U>=m);)++U;return mr.decode(E.subarray?E.subarray(S,U):new Uint8Array(E.slice(S,U)))}function Ve(E,S){if(!E)return"";for(var l=E+S,m=E;!(m>=l)&&qr[m];)++m;return mr.decode(qr.subarray(E,m))}function Hn(E,S,l,m){if(!(m>0))return 0;for(var U=l,q=l+m-1,f=0;f<E.length;++f){var s=E.charCodeAt(f);if(s>=55296&&s<=57343){var h=E.charCodeAt(++f);s=65536+((s&1023)<<10)|h&1023}if(s<=127){if(l>=q)break;S[l++]=s}else if(s<=2047){if(l+1>=q)break;S[l++]=192|s>>6,S[l++]=128|s&63}else if(s<=65535){if(l+2>=q)break;S[l++]=224|s>>12,S[l++]=128|s>>6&63,S[l++]=128|s&63}else{if(l+3>=q)break;S[l++]=240|s>>18,S[l++]=128|s>>12&63,S[l++]=128|s>>6&63,S[l++]=128|s&63}}return S[l]=0,l-U}function jn(E,S,l){return Hn(E,qr,S,l)}function Qr(E){for(var S=0,l=0;l<E.length;++l){var m=E.charCodeAt(l);m>=55296&&m<=57343&&(m=65536+((m&1023)<<10)|E.charCodeAt(++l)&1023),m<=127?++S:m<=2047?S+=2:m<=65535?S+=3:S+=4}return S}var ce=new TextDecoder("utf-16le");function In(E,S){for(var l=E,m=l>>1,U=m+S/2;!(m>=U)&&Hr[m];)++m;return l=m<<1,ce.decode(qr.subarray(E,l))}function Gr(E,S,l){if(l===void 0&&(l=2147483647),l<2)return 0;l-=2;for(var m=S,U=l<E.length*2?l/2:E.length,q=0;q<U;++q){var f=E.charCodeAt(q);Er[S>>1]=f,S+=2}return Er[S>>1]=0,S-m}function Wr(E){return E.length*2}function we(E,S){for(var l=0,m="";!(l>=S/4);){var U=be[E+l*4>>2];if(U==0)break;if(++l,U>=65536){var q=U-65536;m+=String.fromCharCode(55296|q>>10,56320|q&1023)}else m+=String.fromCharCode(U)}return m}function ue(E,S,l){if(l===void 0&&(l=2147483647),l<4)return 0;for(var m=S,U=m+l-4,q=0;q<E.length;++q){var f=E.charCodeAt(q);if(f>=55296&&f<=57343){var s=E.charCodeAt(++q);f=65536+((f&1023)<<10)|s&1023}if(be[S>>2]=f,S+=4,S+4>U)break}return be[S>>2]=0,S-m}function pn(E){for(var S=0,l=0;l<E.length;++l){var m=E.charCodeAt(l);m>=55296&&m<=57343&&++l,S+=4}return S}function Kr(E,S,l){for(var m=0;m<E.length;++m)Yr[S++>>0]=E.charCodeAt(m);l||(Yr[S>>0]=0)}function jr(E,S){return E%S>0&&(E+=S-E%S),E}var Rr,Yr,qr,Er,Hr,be,Mr,qe,Re;function fe(E){Rr=E,e.HEAP8=Yr=new Int8Array(E),e.HEAP16=Er=new Int16Array(E),e.HEAP32=be=new Int32Array(E),e.HEAPU8=qr=new Uint8Array(E),e.HEAPU16=Hr=new Uint16Array(E),e.HEAPU32=Mr=new Uint32Array(E),e.HEAPF32=qe=new Float32Array(E),e.HEAPF64=Re=new Float64Array(E)}e.INITIAL_MEMORY;var bn,Ze=[],Jr=[],$e=[];function gn(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)An(e.preRun.shift());xe(Ze)}function Qn(){xe(Jr)}function Pn(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Le(e.postRun.shift());xe($e)}function An(E){Ze.unshift(E)}function ae(E){Jr.unshift(E)}function Le(E){$e.unshift(E)}var Ae=0,oe=null;function Ue(E){Ae++,e.monitorRunDependencies&&e.monitorRunDependencies(Ae)}function ye(E){if(Ae--,e.monitorRunDependencies&&e.monitorRunDependencies(Ae),Ae==0&&oe){var S=oe;oe=null,S()}}e.preloadedImages={},e.preloadedAudios={};function Mn(E){e.onAbort&&e.onAbort(E),E+="",$r(E),vn=!0,E="abort("+E+"). Build with -s ASSERTIONS=1 for more info.";var S=new WebAssembly.RuntimeError(E);throw Tr(S),S}var re="data:application/octet-stream;base64,";function Rn(E){return E.startsWith(re)}if(e.locateFile){var ze="jxl_dec.wasm";Rn(ze)||(ze=a(ze))}else var ze=new URL("../wasm/jxl_dec.wasm",self.location).toString();function Ce(E){try{if(E==ze&&xr)return new Uint8Array(xr);if(Ie)return Ie(E);throw"both async and sync fetching of the wasm failed"}catch(S){Mn(S)}}function rn(){return!xr&&kr&&typeof fetch=="function"?fetch(ze,{credentials:"same-origin"}).then(function(E){if(!E.ok)throw"failed to load wasm binary file at '"+ze+"'";return E.arrayBuffer()}).catch(function(){return Ce(ze)}):Promise.resolve().then(function(){return Ce(ze)})}function le(){var E={a:T};function S(f,s){var h=f.exports;e.asm=h,cn=e.asm.y,fe(cn.buffer),bn=e.asm.E,ae(e.asm.z),ye()}Ue();function l(f){S(f.instance)}function m(f){return rn().then(function(s){var h=WebAssembly.instantiate(s,E);return h}).then(f,function(s){$r("failed to asynchronously prepare wasm: "+s),Mn(s)})}function U(){return!xr&&typeof WebAssembly.instantiateStreaming=="function"&&!Rn(ze)&&typeof fetch=="function"?fetch(ze,{credentials:"same-origin"}).then(function(f){var s=WebAssembly.instantiateStreaming(f,E);return s.then(l,function(h){return $r("wasm streaming compile failed: "+h),$r("falling back to ArrayBuffer instantiation"),m(l)})}):m(l)}if(e.instantiateWasm)try{var q=e.instantiateWasm(E,S);return q}catch(f){return $r("Module.instantiateWasm callback failed with error: "+f),!1}return U().catch(Tr),{}}function xe(E){for(;E.length>0;){var S=E.shift();if(typeof S=="function"){S(e);continue}var l=S.func;typeof l=="number"?S.arg===void 0?bn.get(l)():bn.get(l)(S.arg):l(S.arg===void 0?null:S.arg)}}function st(E,S){}function pe(E,S){return void 0}function de(E,S,l,m,U){}function hn(E){switch(E){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+E)}}function We(){for(var E=new Array(256),S=0;S<256;++S)E[S]=String.fromCharCode(S);Lr=E}var Lr=void 0;function Se(E){for(var S="",l=E;qr[l];)S+=Lr[qr[l++]];return S}var Pe={},Br={},Ee={},Ke=48,en=57;function Ur(E){if(E===void 0)return"_unknown";E=E.replace(/[^a-zA-Z0-9_]/g,"$");var S=E.charCodeAt(0);return S>=Ke&&S<=en?"_"+E:E}function Cn(E,S){return E=Ur(E),new Function("body","return function "+E+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(S)}function ee(E,S){var l=Cn(S,function(m){this.name=S,this.message=m;var U=new Error(m).stack;U!==void 0&&(this.stack=this.toString()+`
`+U.replace(/^Error(:[^\n]*)?\n/,""))});return l.prototype=Object.create(E.prototype),l.prototype.constructor=l,l.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},l}var se=void 0;function Fe(E){throw new se(E)}var vr=void 0;function ne(E){throw new vr(E)}function nn(E,S,l){E.forEach(function(s){Ee[s]=S});function m(s){var h=l(s);h.length!==E.length&&ne("Mismatched type converter count");for(var O=0;O<E.length;++O)nr(E[O],h[O])}var U=new Array(S.length),q=[],f=0;S.forEach(function(s,h){Br.hasOwnProperty(s)?U[h]=Br[s]:(q.push(s),Pe.hasOwnProperty(s)||(Pe[s]=[]),Pe[s].push(function(){U[h]=Br[s],++f,f===q.length&&m(U)}))}),q.length===0&&m(U)}function nr(E,S,l){if(l=l||{},!("argPackAdvance"in S))throw new TypeError("registerType registeredInstance requires argPackAdvance");var m=S.name;if(E||Fe('type "'+m+'" must have a positive integer typeid pointer'),Br.hasOwnProperty(E)){if(l.ignoreDuplicateRegistrations)return;Fe("Cannot register type '"+m+"' twice")}if(Br[E]=S,delete Ee[E],Pe.hasOwnProperty(E)){var U=Pe[E];delete Pe[E],U.forEach(function(q){q()})}}function ge(E,S,l,m,U){var q=hn(l);S=Se(S),nr(E,{name:S,fromWireType:function(f){return!!f},toWireType:function(f,s){return s?m:U},argPackAdvance:8,readValueFromPointer:function(f){var s;if(l===1)s=Yr;else if(l===2)s=Er;else if(l===4)s=be;else throw new TypeError("Unknown boolean type size: "+S);return this.fromWireType(s[f>>q])},destructorFunction:null})}var Ge=[],ie=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Sr(E){E>4&&--ie[E].refcount===0&&(ie[E]=void 0,Ge.push(E))}function un(){for(var E=0,S=5;S<ie.length;++S)ie[S]!==void 0&&++E;return E}function te(){for(var E=5;E<ie.length;++E)if(ie[E]!==void 0)return ie[E];return null}function Xr(){e.count_emval_handles=un,e.get_first_emval=te}function _n(E){switch(E){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var S=Ge.length?Ge.pop():ie.length;return ie[S]={refcount:1,value:E},S}}}function Ne(E){return this.fromWireType(Mr[E>>2])}function Be(E,S){S=Se(S),nr(E,{name:S,fromWireType:function(l){var m=ie[l].value;return Sr(l),m},toWireType:function(l,m){return _n(m)},argPackAdvance:8,readValueFromPointer:Ne,destructorFunction:null})}function Fn(E){if(E===null)return"null";var S=typeof E;return S==="object"||S==="array"||S==="function"?E.toString():""+E}function He(E,S){switch(S){case 2:return function(l){return this.fromWireType(qe[l>>2])};case 3:return function(l){return this.fromWireType(Re[l>>3])};default:throw new TypeError("Unknown float type: "+E)}}function fn(E,S,l){var m=hn(l);S=Se(S),nr(E,{name:S,fromWireType:function(U){return U},toWireType:function(U,q){if(typeof q!="number"&&typeof q!="boolean")throw new TypeError('Cannot convert "'+Fn(q)+'" to '+this.name);return q},argPackAdvance:8,readValueFromPointer:He(S,m),destructorFunction:null})}function Qe(E,S){if(!(E instanceof Function))throw new TypeError("new_ called with constructor type "+typeof E+" which is not a function");var l=Cn(E.name||"unknownFunctionName",function(){});l.prototype=E.prototype;var m=new l,U=E.apply(m,S);return U instanceof Object?U:m}function yn(E){for(;E.length;){var S=E.pop(),l=E.pop();l(S)}}function On(E,S,l,m,U){var q=S.length;q<2&&Fe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var f=S[1]!==null&&l!==null,s=!1,h=1;h<S.length;++h)if(S[h]!==null&&S[h].destructorFunction===void 0){s=!0;break}for(var O=S[0].name!=="void",M="",rr="",h=0;h<q-2;++h)M+=(h!==0?", ":"")+"arg"+h,rr+=(h!==0?", ":"")+"arg"+h+"Wired";var sr="return function "+Ur(E)+"("+M+`) {
if (arguments.length !== `+(q-2)+`) {
throwBindingError('function `+E+" called with ' + arguments.length + ' arguments, expected "+(q-2)+` args!');
}
`;s&&(sr+=`var destructors = [];
`);var ir=s?"destructors":"null",fr=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],br=[Fe,m,U,yn,S[0],S[1]];f&&(sr+="var thisWired = classParam.toWireType("+ir+`, this);
`);for(var h=0;h<q-2;++h)sr+="var arg"+h+"Wired = argType"+h+".toWireType("+ir+", arg"+h+"); // "+S[h+2].name+`
`,fr.push("argType"+h),br.push(S[h+2]);if(f&&(rr="thisWired"+(rr.length>0?", ":"")+rr),sr+=(O?"var rv = ":"")+"invoker(fn"+(rr.length>0?", ":"")+rr+`);
`,s)sr+=`runDestructors(destructors);
`;else for(var h=f?1:2;h<S.length;++h){var Nr=h===1?"thisWired":"arg"+(h-2)+"Wired";S[h].destructorFunction!==null&&(sr+=Nr+"_dtor("+Nr+"); // "+S[h].name+`
`,fr.push(Nr+"_dtor"),br.push(S[h].destructorFunction))}O&&(sr+=`var ret = retType.fromWireType(rv);
return ret;
`),sr+=`}
`,fr.push(sr);var D=Qe(Function,fr).apply(null,br);return D}function Je(E,S,l){if(E[S].overloadTable===void 0){var m=E[S];E[S]=function(){return E[S].overloadTable.hasOwnProperty(arguments.length)||Fe("Function '"+l+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+E[S].overloadTable+")!"),E[S].overloadTable[arguments.length].apply(this,arguments)},E[S].overloadTable=[],E[S].overloadTable[m.argCount]=m}}function ln(E,S,l){e.hasOwnProperty(E)?((l===void 0||e[E].overloadTable!==void 0&&e[E].overloadTable[l]!==void 0)&&Fe("Cannot register public name '"+E+"' twice"),Je(e,E,E),e.hasOwnProperty(l)&&Fe("Cannot register multiple overloads of a function with the same number of arguments ("+l+")!"),e[E].overloadTable[l]=S):(e[E]=S,l!==void 0&&(e[E].numArguments=l))}function Ln(E,S){for(var l=[],m=0;m<E;m++)l.push(be[(S>>2)+m]);return l}function $n(E,S,l){e.hasOwnProperty(E)||ne("Replacing nonexistant public symbol"),e[E].overloadTable!==void 0&&l!==void 0?e[E].overloadTable[l]=S:(e[E]=S,e[E].argCount=l)}function rt(E,S,l){var m=e["dynCall_"+E];return l&&l.length?m.apply(null,[S].concat(l)):m.call(null,S)}function En(E,S,l){return E.includes("j")?rt(E,S,l):bn.get(S).apply(null,l)}function xn(E,S){var l=[];return function(){l.length=arguments.length;for(var m=0;m<arguments.length;m++)l[m]=arguments[m];return En(E,S,l)}}function zn(E,S){E=Se(E);function l(){return E.includes("j")?xn(E,S):bn.get(S)}var m=l();return typeof m!="function"&&Fe("unknown function pointer with signature "+E+": "+S),m}var Bn=void 0;function wn(E){var S=R(E),l=Se(S);return p(S),l}function Kn(E,S){var l=[],m={};function U(q){if(!m[q]&&!Br[q]){if(Ee[q]){Ee[q].forEach(U);return}l.push(q),m[q]=!0}}throw S.forEach(U),new Bn(E+": "+l.map(wn).join([", "]))}function et(E,S,l,m,U,q){var f=Ln(S,l);E=Se(E),U=zn(m,U),ln(E,function(){Kn("Cannot call "+E+" due to unbound types",f)},S-1),nn([],f,function(s){var h=[s[0],null].concat(s.slice(1));return $n(E,On(E,h,null,U,q),S-1),[]})}function Oe(E,S,l){switch(S){case 0:return l?function(U){return Yr[U]}:function(U){return qr[U]};case 1:return l?function(U){return Er[U>>1]}:function(U){return Hr[U>>1]};case 2:return l?function(U){return be[U>>2]}:function(U){return Mr[U>>2]};default:throw new TypeError("Unknown integer type: "+E)}}function qn(E,S,l,m,U){S=Se(S),U===-1&&(U=4294967295);var q=hn(l),f=function(O){return O};if(m===0){var s=32-8*l;f=function(O){return O<<s>>>s}}var h=S.includes("unsigned");nr(E,{name:S,fromWireType:f,toWireType:function(O,M){if(typeof M!="number"&&typeof M!="boolean")throw new TypeError('Cannot convert "'+Fn(M)+'" to '+this.name);if(M<m||M>U)throw new TypeError('Passing a number "'+Fn(M)+'" from JS side to C/C++ side to an argument of type "'+S+'", which is outside the valid range ['+m+", "+U+"]!");return h?M>>>0:M|0},argPackAdvance:8,readValueFromPointer:Oe(S,q,m!==0),destructorFunction:null})}function De(E,S,l){var m=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],U=m[S];function q(f){f=f>>2;var s=Mr,h=s[f],O=s[f+1];return new U(Rr,O,h)}l=Se(l),nr(E,{name:l,fromWireType:q,argPackAdvance:8,readValueFromPointer:q},{ignoreDuplicateRegistrations:!0})}function ke(E,S){S=Se(S);var l=S==="std::string";nr(E,{name:S,fromWireType:function(m){var U=Mr[m>>2],q;if(l)for(var f=m+4,s=0;s<=U;++s){var h=m+4+s;if(s==U||qr[h]==0){var O=h-f,M=Ve(f,O);q===void 0?q=M:(q+=String.fromCharCode(0),q+=M),f=h+1}}else{for(var rr=new Array(U),s=0;s<U;++s)rr[s]=String.fromCharCode(qr[m+4+s]);q=rr.join("")}return p(m),q},toWireType:function(m,U){U instanceof ArrayBuffer&&(U=new Uint8Array(U));var q,f=typeof U=="string";f||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int8Array||Fe("Cannot pass non-string to std::string"),l&&f?q=function(){return Qr(U)}:q=function(){return U.length};var s=q(),h=c(4+s+1);if(Mr[h>>2]=s,l&&f)jn(U,h+4,s+1);else if(f)for(var O=0;O<s;++O){var M=U.charCodeAt(O);M>255&&(p(h),Fe("String has UTF-16 code units that do not fit in 8 bits")),qr[h+4+O]=M}else for(var O=0;O<s;++O)qr[h+4+O]=U[O];return m!==null&&m.push(p,h),h},argPackAdvance:8,readValueFromPointer:Ne,destructorFunction:function(m){p(m)}})}function Me(E,S,l){l=Se(l);var m,U,q,f,s;S===2?(m=In,U=Gr,f=Wr,q=function(){return Hr},s=1):S===4&&(m=we,U=ue,f=pn,q=function(){return Mr},s=2),nr(E,{name:l,fromWireType:function(h){for(var O=Mr[h>>2],M=q(),rr,sr=h+4,ir=0;ir<=O;++ir){var fr=h+4+ir*S;if(ir==O||M[fr>>s]==0){var br=fr-sr,Nr=m(sr,br);rr===void 0?rr=Nr:(rr+=String.fromCharCode(0),rr+=Nr),sr=fr+S}}return p(h),rr},toWireType:function(h,O){typeof O!="string"&&Fe("Cannot pass non-string to C++ string type "+l);var M=f(O),rr=c(4+M+S);return Mr[rr>>2]=M>>s,U(O,rr+4,M+S),h!==null&&h.push(p,rr),rr},argPackAdvance:8,readValueFromPointer:Ne,destructorFunction:function(h){p(h)}})}function sn(E,S){S=Se(S),nr(E,{isVoid:!0,name:S,argPackAdvance:0,fromWireType:function(){},toWireType:function(l,m){}})}var zr={};function tn(E){var S=zr[E];return S===void 0?Se(E):S}function at(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function dn(E){return E===0?_n(at()):(E=tn(E),_n(at()[E]))}function Ye(E){E>4&&(ie[E].refcount+=1)}function Sn(E,S){var l=Br[E];return l===void 0&&Fe(S+" has unknown type "+wn(E)),l}function ct(E){for(var S="",l=0;l<E;++l)S+=(l!==0?", ":"")+"arg"+l;for(var m="return function emval_allocator_"+E+`(constructor, argTypes, args) {
`,l=0;l<E;++l)m+="var argType"+l+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+l+'], "parameter '+l+`");
var arg`+l+" = argType"+l+`.readValueFromPointer(args);
args += argType`+l+`['argPackAdvance'];
`;return m+="var obj = new constructor("+S+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",m)(Sn,e,_n)}var Jn={};function nt(E){return E||Fe("Cannot use deleted val. handle = "+E),ie[E].value}function Vn(E,S,l,m){E=nt(E);var U=Jn[S];return U||(U=ct(S),Jn[S]=U),U(E,l,m)}function ot(){Mn()}function Gn(E,S,l){qr.copyWithin(E,S,S+l)}function kn(E){try{return cn.grow(E-Rr.byteLength+65535>>>16),fe(cn.buffer),1}catch{}}function ut(E){var S=qr.length;E=E>>>0;var l=2147483648;if(E>l)return!1;for(var m=1;m<=4;m*=2){var U=S*(1+.2/m);U=Math.min(U,E+100663296);var q=Math.min(l,jr(Math.max(E,U),65536)),f=kn(q);if(f)return!0}return!1}var mn={};function Wn(){return er||"./this.program"}function V(){if(!V.strings){var E=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",S={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:E,_:Wn()};for(var l in mn)S[l]=mn[l];var m=[];for(var l in S)m.push(l+"="+S[l]);V.strings=m}return V.strings}var X={mappings:{},buffers:[null,[],[]],printChar:function(E,S){var l=X.buffers[E];S===0||S===10?((E===1?_e:$r)(wr(l,0)),l.length=0):l.push(S)},varargs:void 0,get:function(){X.varargs+=4;var E=be[X.varargs-4>>2];return E},getStr:function(E){var S=Ve(E);return S},get64:function(E,S){return E}};function C(E,S){var l=0;return V().forEach(function(m,U){var q=S+l;be[E+U*4>>2]=q,Kr(m,q),l+=m.length+1}),0}function d(E,S){var l=V();be[E>>2]=l.length;var m=0;return l.forEach(function(U){m+=U.length+1}),be[S>>2]=m,0}function y(E){return 0}function P(E,S,l,m,U){}function j(E,S,l,m){for(var U=0,q=0;q<l;q++){for(var f=be[S+q*8>>2],s=be[S+(q*8+4)>>2],h=0;h<s;h++)X.printChar(E,qr[f+h]);U+=s}return be[m>>2]=U,0}function g(E){}We(),se=e.BindingError=ee(Error,"BindingError"),vr=e.InternalError=ee(Error,"InternalError"),Xr(),Bn=e.UnboundTypeError=ee(Error,"UnboundTypeError");var T={l:pe,q:de,m:ge,x:Be,j:fn,o:et,c:qn,b:De,g:ke,f:Me,n:sn,d:Sr,k:dn,h:Ye,i:Vn,a:ot,s:Gn,e:ut,t:C,u:d,w:y,p:P,v:j,r:g};le(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.z).apply(null,arguments)};var c=e._malloc=function(){return(c=e._malloc=e.asm.A).apply(null,arguments)},p=e._free=function(){return(p=e._free=e.asm.B).apply(null,arguments)},R=e.___getTypeName=function(){return(R=e.___getTypeName=e.asm.C).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.D).apply(null,arguments)},e.dynCall_iiji=function(){return(e.dynCall_iiji=e.asm.F).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.G).apply(null,arguments)};var B;oe=function E(){B||K(),B||(oe=E)};function K(E){if(Ae>0||(gn(),Ae>0))return;function S(){B||(B=!0,e.calledRun=!0,!vn&&(Qn(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Pn()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),S()},1)):S()}if(e.run=K,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return K(),e.ready}}(),Fu=Cu,Wi;async function Ru(G){Wi||(Wi=jt(Fu));const[cr,e]=await Promise.all([Wi,Ti(G)]),lr=cr.decode(e);if(!lr)throw new Error("Decoding error");return lr}var Su=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(V,X){lr=V,Tr=X});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er=!0,kr="";function Ir(V){return e.locateFile?e.locateFile(V,kr):kr+V}var a;kr=self.location.href,G&&(kr=G),kr.indexOf("blob:")!==0?kr=kr.substr(0,kr.lastIndexOf("/")+1):kr="",a=function(V){var X=new XMLHttpRequest;return X.open("GET",V,!1),X.responseType="arraybuffer",X.send(null),new Uint8Array(X.response)},e.print||console.log.bind(console);var Ie=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var _e;e.wasmBinary&&(_e=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&Ae("no native wasm support detected");var $r,xr=!1,cn=new TextDecoder("utf8");function vn(V,X){if(!V)return"";for(var C=V+X,d=V;!(d>=C)&&Kr[d];)++d;return cn.decode(Kr.subarray(V,d))}function mr(V,X,C,d){if(!(d>0))return 0;for(var y=C,P=C+d-1,j=0;j<V.length;++j){var g=V.charCodeAt(j);if(g>=55296&&g<=57343){var T=V.charCodeAt(++j);g=65536+((g&1023)<<10)|T&1023}if(g<=127){if(C>=P)break;X[C++]=g}else if(g<=2047){if(C+1>=P)break;X[C++]=192|g>>6,X[C++]=128|g&63}else if(g<=65535){if(C+2>=P)break;X[C++]=224|g>>12,X[C++]=128|g>>6&63,X[C++]=128|g&63}else{if(C+3>=P)break;X[C++]=240|g>>18,X[C++]=128|g>>12&63,X[C++]=128|g>>6&63,X[C++]=128|g&63}}return X[C]=0,C-y}function wr(V,X,C){return mr(V,Kr,X,C)}function Ve(V){for(var X=0,C=0;C<V.length;++C){var d=V.charCodeAt(C);d>=55296&&d<=57343&&(d=65536+((d&1023)<<10)|V.charCodeAt(++C)&1023),d<=127?++X:d<=2047?X+=2:d<=65535?X+=3:X+=4}return X}var Hn=new TextDecoder("utf-16le");function jn(V,X){for(var C=V,d=C>>1,y=d+X/2;!(d>=y)&&Rr[d];)++d;return C=d<<1,Hn.decode(Kr.subarray(V,C))}function Qr(V,X,C){if(C===void 0&&(C=2147483647),C<2)return 0;C-=2;for(var d=X,y=C<V.length*2?C/2:V.length,P=0;P<y;++P){var j=V.charCodeAt(P);jr[X>>1]=j,X+=2}return jr[X>>1]=0,X-d}function ce(V){return V.length*2}function In(V,X){for(var C=0,d="";!(C>=X/4);){var y=Yr[V+C*4>>2];if(y==0)break;if(++C,y>=65536){var P=y-65536;d+=String.fromCharCode(55296|P>>10,56320|P&1023)}else d+=String.fromCharCode(y)}return d}function Gr(V,X,C){if(C===void 0&&(C=2147483647),C<4)return 0;for(var d=X,y=d+C-4,P=0;P<V.length;++P){var j=V.charCodeAt(P);if(j>=55296&&j<=57343){var g=V.charCodeAt(++P);j=65536+((j&1023)<<10)|g&1023}if(Yr[X>>2]=j,X+=4,X+4>y)break}return Yr[X>>2]=0,X-d}function Wr(V){for(var X=0,C=0;C<V.length;++C){var d=V.charCodeAt(C);d>=55296&&d<=57343&&++C,X+=4}return X}function we(V,X){return V%X>0&&(V+=X-V%X),V}var ue,pn,Kr,jr,Rr,Yr,qr,Er,Hr;function be(V){ue=V,e.HEAP8=pn=new Int8Array(V),e.HEAP16=jr=new Int16Array(V),e.HEAP32=Yr=new Int32Array(V),e.HEAPU8=Kr=new Uint8Array(V),e.HEAPU16=Rr=new Uint16Array(V),e.HEAPU32=qr=new Uint32Array(V),e.HEAPF32=Er=new Float32Array(V),e.HEAPF64=Hr=new Float64Array(V)}e.INITIAL_MEMORY;var Mr,qe=[],Re=[],fe=[];function bn(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)$e(e.preRun.shift());ze(qe)}function Ze(){ze(Re)}function Jr(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Qn(e.postRun.shift());ze(fe)}function $e(V){qe.unshift(V)}function gn(V){Re.unshift(V)}function Qn(V){fe.unshift(V)}var Pn=0,An=null;function ae(V){Pn++,e.monitorRunDependencies&&e.monitorRunDependencies(Pn)}function Le(V){if(Pn--,e.monitorRunDependencies&&e.monitorRunDependencies(Pn),Pn==0&&An){var X=An;An=null,X()}}e.preloadedImages={},e.preloadedAudios={};function Ae(V){e.onAbort&&e.onAbort(V),V+="",Ie(V),xr=!0,V="abort("+V+"). Build with -s ASSERTIONS=1 for more info.";var X=new WebAssembly.RuntimeError(V);throw Tr(X),X}var oe="data:application/octet-stream;base64,";function Ue(V){return V.startsWith(oe)}if(e.locateFile){var ye="webp_dec.wasm";Ue(ye)||(ye=Ir(ye))}else var ye=new URL("../wasm/webp_dec.wasm",self.location).toString();function Mn(V){try{if(V==ye&&_e)return new Uint8Array(_e);if(a)return a(V);throw"both async and sync fetching of the wasm failed"}catch(X){Ae(X)}}function re(){return!_e&&er&&typeof fetch=="function"?fetch(ye,{credentials:"same-origin"}).then(function(V){if(!V.ok)throw"failed to load wasm binary file at '"+ye+"'";return V.arrayBuffer()}).catch(function(){return Mn(ye)}):Promise.resolve().then(function(){return Mn(ye)})}function Rn(){var V={a:ot};function X(j,g){var T=j.exports;e.asm=T,$r=e.asm.s,be($r.buffer),Mr=e.asm.y,gn(e.asm.t),Le()}ae();function C(j){X(j.instance)}function d(j){return re().then(function(g){var T=WebAssembly.instantiate(g,V);return T}).then(j,function(g){Ie("failed to asynchronously prepare wasm: "+g),Ae(g)})}function y(){return!_e&&typeof WebAssembly.instantiateStreaming=="function"&&!Ue(ye)&&typeof fetch=="function"?fetch(ye,{credentials:"same-origin"}).then(function(j){var g=WebAssembly.instantiateStreaming(j,V);return g.then(C,function(T){return Ie("wasm streaming compile failed: "+T),Ie("falling back to ArrayBuffer instantiation"),d(C)})}):d(C)}if(e.instantiateWasm)try{var P=e.instantiateWasm(V,X);return P}catch(j){return Ie("Module.instantiateWasm callback failed with error: "+j),!1}return y().catch(Tr),{}}function ze(V){for(;V.length>0;){var X=V.shift();if(typeof X=="function"){X(e);continue}var C=X.func;typeof C=="number"?X.arg===void 0?Mr.get(C)():Mr.get(C)(X.arg):C(X.arg===void 0?null:X.arg)}}function Ce(V,X){}function rn(V,X){return void 0}function le(V,X,C,d,y){}function xe(V){switch(V){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+V)}}function st(){for(var V=new Array(256),X=0;X<256;++X)V[X]=String.fromCharCode(X);pe=V}var pe=void 0;function de(V){for(var X="",C=V;Kr[C];)X+=pe[Kr[C++]];return X}var hn={},We={},Lr={},Se=48,Pe=57;function Br(V){if(V===void 0)return"_unknown";V=V.replace(/[^a-zA-Z0-9_]/g,"$");var X=V.charCodeAt(0);return X>=Se&&X<=Pe?"_"+V:V}function Ee(V,X){return V=Br(V),new Function("body","return function "+V+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(X)}function Ke(V,X){var C=Ee(X,function(d){this.name=X,this.message=d;var y=new Error(d).stack;y!==void 0&&(this.stack=this.toString()+`
`+y.replace(/^Error(:[^\n]*)?\n/,""))});return C.prototype=Object.create(V.prototype),C.prototype.constructor=C,C.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},C}var en=void 0;function Ur(V){throw new en(V)}var Cn=void 0;function ee(V){throw new Cn(V)}function se(V,X,C){V.forEach(function(g){Lr[g]=X});function d(g){var T=C(g);T.length!==V.length&&ee("Mismatched type converter count");for(var c=0;c<V.length;++c)Fe(V[c],T[c])}var y=new Array(X.length),P=[],j=0;X.forEach(function(g,T){We.hasOwnProperty(g)?y[T]=We[g]:(P.push(g),hn.hasOwnProperty(g)||(hn[g]=[]),hn[g].push(function(){y[T]=We[g],++j,j===P.length&&d(y)}))}),P.length===0&&d(y)}function Fe(V,X,C){if(C=C||{},!("argPackAdvance"in X))throw new TypeError("registerType registeredInstance requires argPackAdvance");var d=X.name;if(V||Ur('type "'+d+'" must have a positive integer typeid pointer'),We.hasOwnProperty(V)){if(C.ignoreDuplicateRegistrations)return;Ur("Cannot register type '"+d+"' twice")}if(We[V]=X,delete Lr[V],hn.hasOwnProperty(V)){var y=hn[V];delete hn[V],y.forEach(function(P){P()})}}function vr(V,X,C,d,y){var P=xe(C);X=de(X),Fe(V,{name:X,fromWireType:function(j){return!!j},toWireType:function(j,g){return g?d:y},argPackAdvance:8,readValueFromPointer:function(j){var g;if(C===1)g=pn;else if(C===2)g=jr;else if(C===4)g=Yr;else throw new TypeError("Unknown boolean type size: "+X);return this.fromWireType(g[j>>P])},destructorFunction:null})}var ne=[],nn=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function nr(V){V>4&&--nn[V].refcount===0&&(nn[V]=void 0,ne.push(V))}function ge(){for(var V=0,X=5;X<nn.length;++X)nn[X]!==void 0&&++V;return V}function Ge(){for(var V=5;V<nn.length;++V)if(nn[V]!==void 0)return nn[V];return null}function ie(){e.count_emval_handles=ge,e.get_first_emval=Ge}function Sr(V){switch(V){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var X=ne.length?ne.pop():nn.length;return nn[X]={refcount:1,value:V},X}}}function un(V){return this.fromWireType(qr[V>>2])}function te(V,X){X=de(X),Fe(V,{name:X,fromWireType:function(C){var d=nn[C].value;return nr(C),d},toWireType:function(C,d){return Sr(d)},argPackAdvance:8,readValueFromPointer:un,destructorFunction:null})}function Xr(V){if(V===null)return"null";var X=typeof V;return X==="object"||X==="array"||X==="function"?V.toString():""+V}function _n(V,X){switch(X){case 2:return function(C){return this.fromWireType(Er[C>>2])};case 3:return function(C){return this.fromWireType(Hr[C>>3])};default:throw new TypeError("Unknown float type: "+V)}}function Ne(V,X,C){var d=xe(C);X=de(X),Fe(V,{name:X,fromWireType:function(y){return y},toWireType:function(y,P){if(typeof P!="number"&&typeof P!="boolean")throw new TypeError('Cannot convert "'+Xr(P)+'" to '+this.name);return P},argPackAdvance:8,readValueFromPointer:_n(X,d),destructorFunction:null})}function Be(V,X){if(!(V instanceof Function))throw new TypeError("new_ called with constructor type "+typeof V+" which is not a function");var C=Ee(V.name||"unknownFunctionName",function(){});C.prototype=V.prototype;var d=new C,y=V.apply(d,X);return y instanceof Object?y:d}function Fn(V){for(;V.length;){var X=V.pop(),C=V.pop();C(X)}}function He(V,X,C,d,y){var P=X.length;P<2&&Ur("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var j=X[1]!==null&&C!==null,g=!1,T=1;T<X.length;++T)if(X[T]!==null&&X[T].destructorFunction===void 0){g=!0;break}for(var c=X[0].name!=="void",p="",R="",T=0;T<P-2;++T)p+=(T!==0?", ":"")+"arg"+T,R+=(T!==0?", ":"")+"arg"+T+"Wired";var B="return function "+Br(V)+"("+p+`) {
if (arguments.length !== `+(P-2)+`) {
throwBindingError('function `+V+" called with ' + arguments.length + ' arguments, expected "+(P-2)+` args!');
}
`;g&&(B+=`var destructors = [];
`);var K=g?"destructors":"null",E=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],S=[Ur,d,y,Fn,X[0],X[1]];j&&(B+="var thisWired = classParam.toWireType("+K+`, this);
`);for(var T=0;T<P-2;++T)B+="var arg"+T+"Wired = argType"+T+".toWireType("+K+", arg"+T+"); // "+X[T+2].name+`
`,E.push("argType"+T),S.push(X[T+2]);if(j&&(R="thisWired"+(R.length>0?", ":"")+R),B+=(c?"var rv = ":"")+"invoker(fn"+(R.length>0?", ":"")+R+`);
`,g)B+=`runDestructors(destructors);
`;else for(var T=j?1:2;T<X.length;++T){var l=T===1?"thisWired":"arg"+(T-2)+"Wired";X[T].destructorFunction!==null&&(B+=l+"_dtor("+l+"); // "+X[T].name+`
`,E.push(l+"_dtor"),S.push(X[T].destructorFunction))}c&&(B+=`var ret = retType.fromWireType(rv);
return ret;
`),B+=`}
`,E.push(B);var m=Be(Function,E).apply(null,S);return m}function fn(V,X,C){if(V[X].overloadTable===void 0){var d=V[X];V[X]=function(){return V[X].overloadTable.hasOwnProperty(arguments.length)||Ur("Function '"+C+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+V[X].overloadTable+")!"),V[X].overloadTable[arguments.length].apply(this,arguments)},V[X].overloadTable=[],V[X].overloadTable[d.argCount]=d}}function Qe(V,X,C){e.hasOwnProperty(V)?((C===void 0||e[V].overloadTable!==void 0&&e[V].overloadTable[C]!==void 0)&&Ur("Cannot register public name '"+V+"' twice"),fn(e,V,V),e.hasOwnProperty(C)&&Ur("Cannot register multiple overloads of a function with the same number of arguments ("+C+")!"),e[V].overloadTable[C]=X):(e[V]=X,C!==void 0&&(e[V].numArguments=C))}function yn(V,X){for(var C=[],d=0;d<V;d++)C.push(Yr[(X>>2)+d]);return C}function On(V,X,C){e.hasOwnProperty(V)||ee("Replacing nonexistant public symbol"),e[V].overloadTable!==void 0&&C!==void 0?e[V].overloadTable[C]=X:(e[V]=X,e[V].argCount=C)}function Je(V,X,C){var d=e["dynCall_"+V];return C&&C.length?d.apply(null,[X].concat(C)):d.call(null,X)}function ln(V,X,C){return V.includes("j")?Je(V,X,C):Mr.get(X).apply(null,C)}function Ln(V,X){var C=[];return function(){C.length=arguments.length;for(var d=0;d<arguments.length;d++)C[d]=arguments[d];return ln(V,X,C)}}function $n(V,X){V=de(V);function C(){return V.includes("j")?Ln(V,X):Mr.get(X)}var d=C();return typeof d!="function"&&Ur("unknown function pointer with signature "+V+": "+X),d}var rt=void 0;function En(V){var X=ut(V),C=de(X);return kn(X),C}function xn(V,X){var C=[],d={};function y(P){if(!d[P]&&!We[P]){if(Lr[P]){Lr[P].forEach(y);return}C.push(P),d[P]=!0}}throw X.forEach(y),new rt(V+": "+C.map(En).join([", "]))}function zn(V,X,C,d,y,P){var j=yn(X,C);V=de(V),y=$n(d,y),Qe(V,function(){xn("Cannot call "+V+" due to unbound types",j)},X-1),se([],j,function(g){var T=[g[0],null].concat(g.slice(1));return On(V,He(V,T,null,y,P),X-1),[]})}function Bn(V,X,C){switch(X){case 0:return C?function(y){return pn[y]}:function(y){return Kr[y]};case 1:return C?function(y){return jr[y>>1]}:function(y){return Rr[y>>1]};case 2:return C?function(y){return Yr[y>>2]}:function(y){return qr[y>>2]};default:throw new TypeError("Unknown integer type: "+V)}}function wn(V,X,C,d,y){X=de(X),y===-1&&(y=4294967295);var P=xe(C),j=function(c){return c};if(d===0){var g=32-8*C;j=function(c){return c<<g>>>g}}var T=X.includes("unsigned");Fe(V,{name:X,fromWireType:j,toWireType:function(c,p){if(typeof p!="number"&&typeof p!="boolean")throw new TypeError('Cannot convert "'+Xr(p)+'" to '+this.name);if(p<d||p>y)throw new TypeError('Passing a number "'+Xr(p)+'" from JS side to C/C++ side to an argument of type "'+X+'", which is outside the valid range ['+d+", "+y+"]!");return T?p>>>0:p|0},argPackAdvance:8,readValueFromPointer:Bn(X,P,d!==0),destructorFunction:null})}function Kn(V,X,C){var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],y=d[X];function P(j){j=j>>2;var g=qr,T=g[j],c=g[j+1];return new y(ue,c,T)}C=de(C),Fe(V,{name:C,fromWireType:P,argPackAdvance:8,readValueFromPointer:P},{ignoreDuplicateRegistrations:!0})}function et(V,X){X=de(X);var C=X==="std::string";Fe(V,{name:X,fromWireType:function(d){var y=qr[d>>2],P;if(C)for(var j=d+4,g=0;g<=y;++g){var T=d+4+g;if(g==y||Kr[T]==0){var c=T-j,p=vn(j,c);P===void 0?P=p:(P+=String.fromCharCode(0),P+=p),j=T+1}}else{for(var R=new Array(y),g=0;g<y;++g)R[g]=String.fromCharCode(Kr[d+4+g]);P=R.join("")}return kn(d),P},toWireType:function(d,y){y instanceof ArrayBuffer&&(y=new Uint8Array(y));var P,j=typeof y=="string";j||y instanceof Uint8Array||y instanceof Uint8ClampedArray||y instanceof Int8Array||Ur("Cannot pass non-string to std::string"),C&&j?P=function(){return Ve(y)}:P=function(){return y.length};var g=P(),T=Gn(4+g+1);if(qr[T>>2]=g,C&&j)wr(y,T+4,g+1);else if(j)for(var c=0;c<g;++c){var p=y.charCodeAt(c);p>255&&(kn(T),Ur("String has UTF-16 code units that do not fit in 8 bits")),Kr[T+4+c]=p}else for(var c=0;c<g;++c)Kr[T+4+c]=y[c];return d!==null&&d.push(kn,T),T},argPackAdvance:8,readValueFromPointer:un,destructorFunction:function(d){kn(d)}})}function Oe(V,X,C){C=de(C);var d,y,P,j,g;X===2?(d=jn,y=Qr,j=ce,P=function(){return Rr},g=1):X===4&&(d=In,y=Gr,j=Wr,P=function(){return qr},g=2),Fe(V,{name:C,fromWireType:function(T){for(var c=qr[T>>2],p=P(),R,B=T+4,K=0;K<=c;++K){var E=T+4+K*X;if(K==c||p[E>>g]==0){var S=E-B,l=d(B,S);R===void 0?R=l:(R+=String.fromCharCode(0),R+=l),B=E+X}}return kn(T),R},toWireType:function(T,c){typeof c!="string"&&Ur("Cannot pass non-string to C++ string type "+C);var p=j(c),R=Gn(4+p+X);return qr[R>>2]=p>>g,y(c,R+4,p+X),T!==null&&T.push(kn,R),R},argPackAdvance:8,readValueFromPointer:un,destructorFunction:function(T){kn(T)}})}function qn(V,X){X=de(X),Fe(V,{isVoid:!0,name:X,argPackAdvance:0,fromWireType:function(){},toWireType:function(C,d){}})}var De={};function ke(V){var X=De[V];return X===void 0?de(V):X}function Me(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function sn(V){return V===0?Sr(Me()):(V=ke(V),Sr(Me()[V]))}function zr(V){V>4&&(nn[V].refcount+=1)}function tn(V,X){var C=We[V];return C===void 0&&Ur(X+" has unknown type "+En(V)),C}function at(V){for(var X="",C=0;C<V;++C)X+=(C!==0?", ":"")+"arg"+C;for(var d="return function emval_allocator_"+V+`(constructor, argTypes, args) {
`,C=0;C<V;++C)d+="var argType"+C+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+C+'], "parameter '+C+`");
var arg`+C+" = argType"+C+`.readValueFromPointer(args);
args += argType`+C+`['argPackAdvance'];
`;return d+="var obj = new constructor("+X+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",d)(tn,e,Sr)}var dn={};function Ye(V){return V||Ur("Cannot use deleted val. handle = "+V),nn[V].value}function Sn(V,X,C,d){V=Ye(V);var y=dn[X];return y||(y=at(X),dn[X]=y),y(V,C,d)}function ct(){Ae()}function Jn(V,X,C){Kr.copyWithin(V,X,X+C)}function nt(V){try{return $r.grow(V-ue.byteLength+65535>>>16),be($r.buffer),1}catch{}}function Vn(V){var X=Kr.length;V=V>>>0;var C=2147483648;if(V>C)return!1;for(var d=1;d<=4;d*=2){var y=X*(1+.2/d);y=Math.min(y,V+100663296);var P=Math.min(C,we(Math.max(V,y),65536)),j=nt(P);if(j)return!0}return!1}st(),en=e.BindingError=Ke(Error,"BindingError"),Cn=e.InternalError=Ke(Error,"InternalError"),ie(),rt=e.UnboundTypeError=Ke(Error,"UnboundTypeError");var ot={e:rn,p:le,n:vr,r:te,m:Ne,i:zn,b:wn,a:Kn,h:et,f:Oe,o:qn,c:nr,d:sn,j:zr,k:Sn,l:ct,q:Jn,g:Vn};Rn(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.t).apply(null,arguments)};var Gn=e._malloc=function(){return(Gn=e._malloc=e.asm.u).apply(null,arguments)},kn=e._free=function(){return(kn=e._free=e.asm.v).apply(null,arguments)},ut=e.___getTypeName=function(){return(ut=e.___getTypeName=e.asm.w).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.x).apply(null,arguments)};var mn;An=function V(){mn||Wn(),mn||(An=V)};function Wn(V){if(Pn>0||(bn(),Pn>0))return;function X(){mn||(mn=!0,e.calledRun=!0,!xr&&(Ze(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Jr()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),X()},1)):X()}if(e.run=Wn,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Wn(),e.ready}}(),Pu=Su,Ui;async function Ou(G){Ui||(Ui=jt(Pu));const[cr,e]=await Promise.all([Ui,Ti(G)]),lr=cr.decode(e);if(!lr)throw new Error("Decoding error");return lr}var ku=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(c,p){lr=c,Tr=p});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er=!0,kr="";function Ir(c){return e.locateFile?e.locateFile(c,kr):kr+c}var a;kr=self.location.href,G&&(kr=G),kr.indexOf("blob:")!==0?kr=kr.substr(0,kr.lastIndexOf("/")+1):kr="",a=function(c){var p=new XMLHttpRequest;return p.open("GET",c,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)};var Ie=e.print||console.log.bind(console),_e=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var $r;e.wasmBinary&&($r=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&Ue("no native wasm support detected");var xr,cn=!1,vn=new TextDecoder("utf8");function mr(c,p,R){for(var B=p+R,K=p;c[K]&&!(K>=B);)++K;return vn.decode(c.subarray?c.subarray(p,K):new Uint8Array(c.slice(p,K)))}function wr(c,p){if(!c)return"";for(var R=c+p,B=c;!(B>=R)&&Rr[B];)++B;return vn.decode(Rr.subarray(c,B))}function Ve(c,p,R,B){if(!(B>0))return 0;for(var K=R,E=R+B-1,S=0;S<c.length;++S){var l=c.charCodeAt(S);if(l>=55296&&l<=57343){var m=c.charCodeAt(++S);l=65536+((l&1023)<<10)|m&1023}if(l<=127){if(R>=E)break;p[R++]=l}else if(l<=2047){if(R+1>=E)break;p[R++]=192|l>>6,p[R++]=128|l&63}else if(l<=65535){if(R+2>=E)break;p[R++]=224|l>>12,p[R++]=128|l>>6&63,p[R++]=128|l&63}else{if(R+3>=E)break;p[R++]=240|l>>18,p[R++]=128|l>>12&63,p[R++]=128|l>>6&63,p[R++]=128|l&63}}return p[R]=0,R-K}function Hn(c,p,R){return Ve(c,Rr,p,R)}function jn(c){for(var p=0,R=0;R<c.length;++R){var B=c.charCodeAt(R);B>=55296&&B<=57343&&(B=65536+((B&1023)<<10)|c.charCodeAt(++R)&1023),B<=127?++p:B<=2047?p+=2:B<=65535?p+=3:p+=4}return p}var Qr=new TextDecoder("utf-16le");function ce(c,p){for(var R=c,B=R>>1,K=B+p/2;!(B>=K)&&qr[B];)++B;return R=B<<1,Qr.decode(Rr.subarray(c,R))}function In(c,p,R){if(R===void 0&&(R=2147483647),R<2)return 0;R-=2;for(var B=p,K=R<c.length*2?R/2:c.length,E=0;E<K;++E){var S=c.charCodeAt(E);Yr[p>>1]=S,p+=2}return Yr[p>>1]=0,p-B}function Gr(c){return c.length*2}function Wr(c,p){for(var R=0,B="";!(R>=p/4);){var K=Er[c+R*4>>2];if(K==0)break;if(++R,K>=65536){var E=K-65536;B+=String.fromCharCode(55296|E>>10,56320|E&1023)}else B+=String.fromCharCode(K)}return B}function we(c,p,R){if(R===void 0&&(R=2147483647),R<4)return 0;for(var B=p,K=B+R-4,E=0;E<c.length;++E){var S=c.charCodeAt(E);if(S>=55296&&S<=57343){var l=c.charCodeAt(++E);S=65536+((S&1023)<<10)|l&1023}if(Er[p>>2]=S,p+=4,p+4>K)break}return Er[p>>2]=0,p-B}function ue(c){for(var p=0,R=0;R<c.length;++R){var B=c.charCodeAt(R);B>=55296&&B<=57343&&++R,p+=4}return p}function pn(c,p){return c%p>0&&(c+=p-c%p),c}var Kr,jr,Rr,Yr,qr,Er,Hr,be,Mr;function qe(c){Kr=c,e.HEAP8=jr=new Int8Array(c),e.HEAP16=Yr=new Int16Array(c),e.HEAP32=Er=new Int32Array(c),e.HEAPU8=Rr=new Uint8Array(c),e.HEAPU16=qr=new Uint16Array(c),e.HEAPU32=Hr=new Uint32Array(c),e.HEAPF32=be=new Float32Array(c),e.HEAPF64=Mr=new Float64Array(c)}e.INITIAL_MEMORY;var Re,fe=[],bn=[],Ze=[];function Jr(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Qn(e.preRun.shift());rn(fe)}function $e(){rn(bn)}function gn(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)An(e.postRun.shift());rn(Ze)}function Qn(c){fe.unshift(c)}function Pn(c){bn.unshift(c)}function An(c){Ze.unshift(c)}var ae=0,Le=null;function Ae(c){ae++,e.monitorRunDependencies&&e.monitorRunDependencies(ae)}function oe(c){if(ae--,e.monitorRunDependencies&&e.monitorRunDependencies(ae),ae==0&&Le){var p=Le;Le=null,p()}}e.preloadedImages={},e.preloadedAudios={};function Ue(c){e.onAbort&&e.onAbort(c),c+="",_e(c),cn=!0,c="abort("+c+"). Build with -s ASSERTIONS=1 for more info.";var p=new WebAssembly.RuntimeError(c);throw Tr(p),p}var ye="data:application/octet-stream;base64,";function Mn(c){return c.startsWith(ye)}if(e.locateFile){var re="wp2_dec.wasm";Mn(re)||(re=Ir(re))}else var re=new URL("../wasm/wp2_dec.wasm",self.location).toString();function Rn(c){try{if(c==re&&$r)return new Uint8Array($r);if(a)return a(c);throw"both async and sync fetching of the wasm failed"}catch(p){Ue(p)}}function ze(){return!$r&&er&&typeof fetch=="function"?fetch(re,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+re+"'";return c.arrayBuffer()}).catch(function(){return Rn(re)}):Promise.resolve().then(function(){return Rn(re)})}function Ce(){var c={a:d};function p(S,l){var m=S.exports;e.asm=m,xr=e.asm.w,qe(xr.buffer),Re=e.asm.C,Pn(e.asm.x),oe()}Ae();function R(S){p(S.instance)}function B(S){return ze().then(function(l){var m=WebAssembly.instantiate(l,c);return m}).then(S,function(l){_e("failed to asynchronously prepare wasm: "+l),Ue(l)})}function K(){return!$r&&typeof WebAssembly.instantiateStreaming=="function"&&!Mn(re)&&typeof fetch=="function"?fetch(re,{credentials:"same-origin"}).then(function(S){var l=WebAssembly.instantiateStreaming(S,c);return l.then(R,function(m){return _e("wasm streaming compile failed: "+m),_e("falling back to ArrayBuffer instantiation"),B(R)})}):B(R)}if(e.instantiateWasm)try{var E=e.instantiateWasm(c,p);return E}catch(S){return _e("Module.instantiateWasm callback failed with error: "+S),!1}return K().catch(Tr),{}}function rn(c){for(;c.length>0;){var p=c.shift();if(typeof p=="function"){p(e);continue}var R=p.func;typeof R=="number"?p.arg===void 0?Re.get(R)():Re.get(R)(p.arg):R(p.arg===void 0?null:p.arg)}}var le={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function xe(c){return P(c+le.SIZE)+le.SIZE}function st(c,p){}function pe(c,p){return void 0}function de(c){this.excPtr=c,this.ptr=c-le.SIZE,this.set_type=function(p){Er[this.ptr+le.TYPE_OFFSET>>2]=p},this.get_type=function(){return Er[this.ptr+le.TYPE_OFFSET>>2]},this.set_destructor=function(p){Er[this.ptr+le.DESTRUCTOR_OFFSET>>2]=p},this.get_destructor=function(){return Er[this.ptr+le.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(p){Er[this.ptr+le.REFCOUNT_OFFSET>>2]=p},this.set_caught=function(p){p=p?1:0,jr[this.ptr+le.CAUGHT_OFFSET>>0]=p},this.get_caught=function(){return jr[this.ptr+le.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(p){p=p?1:0,jr[this.ptr+le.RETHROWN_OFFSET>>0]=p},this.get_rethrown=function(){return jr[this.ptr+le.RETHROWN_OFFSET>>0]!=0},this.init=function(p,R){this.set_type(p),this.set_destructor(R),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var p=Er[this.ptr+le.REFCOUNT_OFFSET>>2];Er[this.ptr+le.REFCOUNT_OFFSET>>2]=p+1},this.release_ref=function(){var p=Er[this.ptr+le.REFCOUNT_OFFSET>>2];return Er[this.ptr+le.REFCOUNT_OFFSET>>2]=p-1,p===1}}function hn(c,p,R){var B=new de(c);throw B.init(p,R),c}function We(c,p,R,B,K){}function Lr(c){switch(c){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+c)}}function Se(){for(var c=new Array(256),p=0;p<256;++p)c[p]=String.fromCharCode(p);Pe=c}var Pe=void 0;function Br(c){for(var p="",R=c;Rr[R];)p+=Pe[Rr[R++]];return p}var Ee={},Ke={},en={},Ur=48,Cn=57;function ee(c){if(c===void 0)return"_unknown";c=c.replace(/[^a-zA-Z0-9_]/g,"$");var p=c.charCodeAt(0);return p>=Ur&&p<=Cn?"_"+c:c}function se(c,p){return c=ee(c),new Function("body","return function "+c+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(p)}function Fe(c,p){var R=se(p,function(B){this.name=p,this.message=B;var K=new Error(B).stack;K!==void 0&&(this.stack=this.toString()+`
`+K.replace(/^Error(:[^\n]*)?\n/,""))});return R.prototype=Object.create(c.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},R}var vr=void 0;function ne(c){throw new vr(c)}var nn=void 0;function nr(c){throw new nn(c)}function ge(c,p,R){c.forEach(function(l){en[l]=p});function B(l){var m=R(l);m.length!==c.length&&nr("Mismatched type converter count");for(var U=0;U<c.length;++U)Ge(c[U],m[U])}var K=new Array(p.length),E=[],S=0;p.forEach(function(l,m){Ke.hasOwnProperty(l)?K[m]=Ke[l]:(E.push(l),Ee.hasOwnProperty(l)||(Ee[l]=[]),Ee[l].push(function(){K[m]=Ke[l],++S,S===E.length&&B(K)}))}),E.length===0&&B(K)}function Ge(c,p,R){if(R=R||{},!("argPackAdvance"in p))throw new TypeError("registerType registeredInstance requires argPackAdvance");var B=p.name;if(c||ne('type "'+B+'" must have a positive integer typeid pointer'),Ke.hasOwnProperty(c)){if(R.ignoreDuplicateRegistrations)return;ne("Cannot register type '"+B+"' twice")}if(Ke[c]=p,delete en[c],Ee.hasOwnProperty(c)){var K=Ee[c];delete Ee[c],K.forEach(function(E){E()})}}function ie(c,p,R,B,K){var E=Lr(R);p=Br(p),Ge(c,{name:p,fromWireType:function(S){return!!S},toWireType:function(S,l){return l?B:K},argPackAdvance:8,readValueFromPointer:function(S){var l;if(R===1)l=jr;else if(R===2)l=Yr;else if(R===4)l=Er;else throw new TypeError("Unknown boolean type size: "+p);return this.fromWireType(l[S>>E])},destructorFunction:null})}var Sr=[],un=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function te(c){c>4&&--un[c].refcount===0&&(un[c]=void 0,Sr.push(c))}function Xr(){for(var c=0,p=5;p<un.length;++p)un[p]!==void 0&&++c;return c}function _n(){for(var c=5;c<un.length;++c)if(un[c]!==void 0)return un[c];return null}function Ne(){e.count_emval_handles=Xr,e.get_first_emval=_n}function Be(c){switch(c){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var p=Sr.length?Sr.pop():un.length;return un[p]={refcount:1,value:c},p}}}function Fn(c){return this.fromWireType(Hr[c>>2])}function He(c,p){p=Br(p),Ge(c,{name:p,fromWireType:function(R){var B=un[R].value;return te(R),B},toWireType:function(R,B){return Be(B)},argPackAdvance:8,readValueFromPointer:Fn,destructorFunction:null})}function fn(c){if(c===null)return"null";var p=typeof c;return p==="object"||p==="array"||p==="function"?c.toString():""+c}function Qe(c,p){switch(p){case 2:return function(R){return this.fromWireType(be[R>>2])};case 3:return function(R){return this.fromWireType(Mr[R>>3])};default:throw new TypeError("Unknown float type: "+c)}}function yn(c,p,R){var B=Lr(R);p=Br(p),Ge(c,{name:p,fromWireType:function(K){return K},toWireType:function(K,E){if(typeof E!="number"&&typeof E!="boolean")throw new TypeError('Cannot convert "'+fn(E)+'" to '+this.name);return E},argPackAdvance:8,readValueFromPointer:Qe(p,B),destructorFunction:null})}function On(c,p){if(!(c instanceof Function))throw new TypeError("new_ called with constructor type "+typeof c+" which is not a function");var R=se(c.name||"unknownFunctionName",function(){});R.prototype=c.prototype;var B=new R,K=c.apply(B,p);return K instanceof Object?K:B}function Je(c){for(;c.length;){var p=c.pop(),R=c.pop();R(p)}}function ln(c,p,R,B,K){var E=p.length;E<2&&ne("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var S=p[1]!==null&&R!==null,l=!1,m=1;m<p.length;++m)if(p[m]!==null&&p[m].destructorFunction===void 0){l=!0;break}for(var U=p[0].name!=="void",q="",f="",m=0;m<E-2;++m)q+=(m!==0?", ":"")+"arg"+m,f+=(m!==0?", ":"")+"arg"+m+"Wired";var s="return function "+ee(c)+"("+q+`) {
if (arguments.length !== `+(E-2)+`) {
throwBindingError('function `+c+" called with ' + arguments.length + ' arguments, expected "+(E-2)+` args!');
}
`;l&&(s+=`var destructors = [];
`);var h=l?"destructors":"null",O=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],M=[ne,B,K,Je,p[0],p[1]];S&&(s+="var thisWired = classParam.toWireType("+h+`, this);
`);for(var m=0;m<E-2;++m)s+="var arg"+m+"Wired = argType"+m+".toWireType("+h+", arg"+m+"); // "+p[m+2].name+`
`,O.push("argType"+m),M.push(p[m+2]);if(S&&(f="thisWired"+(f.length>0?", ":"")+f),s+=(U?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+`);
`,l)s+=`runDestructors(destructors);
`;else for(var m=S?1:2;m<p.length;++m){var rr=m===1?"thisWired":"arg"+(m-2)+"Wired";p[m].destructorFunction!==null&&(s+=rr+"_dtor("+rr+"); // "+p[m].name+`
`,O.push(rr+"_dtor"),M.push(p[m].destructorFunction))}U&&(s+=`var ret = retType.fromWireType(rv);
return ret;
`),s+=`}
`,O.push(s);var sr=On(Function,O).apply(null,M);return sr}function Ln(c,p,R){if(c[p].overloadTable===void 0){var B=c[p];c[p]=function(){return c[p].overloadTable.hasOwnProperty(arguments.length)||ne("Function '"+R+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+c[p].overloadTable+")!"),c[p].overloadTable[arguments.length].apply(this,arguments)},c[p].overloadTable=[],c[p].overloadTable[B.argCount]=B}}function $n(c,p,R){e.hasOwnProperty(c)?((R===void 0||e[c].overloadTable!==void 0&&e[c].overloadTable[R]!==void 0)&&ne("Cannot register public name '"+c+"' twice"),Ln(e,c,c),e.hasOwnProperty(R)&&ne("Cannot register multiple overloads of a function with the same number of arguments ("+R+")!"),e[c].overloadTable[R]=p):(e[c]=p,R!==void 0&&(e[c].numArguments=R))}function rt(c,p){for(var R=[],B=0;B<c;B++)R.push(Er[(p>>2)+B]);return R}function En(c,p,R){e.hasOwnProperty(c)||nr("Replacing nonexistant public symbol"),e[c].overloadTable!==void 0&&R!==void 0?e[c].overloadTable[R]=p:(e[c]=p,e[c].argCount=R)}function xn(c,p,R){var B=e["dynCall_"+c];return R&&R.length?B.apply(null,[p].concat(R)):B.call(null,p)}function zn(c,p,R){return c.includes("j")?xn(c,p,R):Re.get(p).apply(null,R)}function Bn(c,p){var R=[];return function(){R.length=arguments.length;for(var B=0;B<arguments.length;B++)R[B]=arguments[B];return zn(c,p,R)}}function wn(c,p){c=Br(c);function R(){return c.includes("j")?Bn(c,p):Re.get(p)}var B=R();return typeof B!="function"&&ne("unknown function pointer with signature "+c+": "+p),B}var Kn=void 0;function et(c){var p=j(c),R=Br(p);return y(p),R}function Oe(c,p){var R=[],B={};function K(E){if(!B[E]&&!Ke[E]){if(en[E]){en[E].forEach(K);return}R.push(E),B[E]=!0}}throw p.forEach(K),new Kn(c+": "+R.map(et).join([", "]))}function qn(c,p,R,B,K,E){var S=rt(p,R);c=Br(c),K=wn(B,K),$n(c,function(){Oe("Cannot call "+c+" due to unbound types",S)},p-1),ge([],S,function(l){var m=[l[0],null].concat(l.slice(1));return En(c,ln(c,m,null,K,E),p-1),[]})}function De(c,p,R){switch(p){case 0:return R?function(K){return jr[K]}:function(K){return Rr[K]};case 1:return R?function(K){return Yr[K>>1]}:function(K){return qr[K>>1]};case 2:return R?function(K){return Er[K>>2]}:function(K){return Hr[K>>2]};default:throw new TypeError("Unknown integer type: "+c)}}function ke(c,p,R,B,K){p=Br(p),K===-1&&(K=4294967295);var E=Lr(R),S=function(U){return U};if(B===0){var l=32-8*R;S=function(U){return U<<l>>>l}}var m=p.includes("unsigned");Ge(c,{name:p,fromWireType:S,toWireType:function(U,q){if(typeof q!="number"&&typeof q!="boolean")throw new TypeError('Cannot convert "'+fn(q)+'" to '+this.name);if(q<B||q>K)throw new TypeError('Passing a number "'+fn(q)+'" from JS side to C/C++ side to an argument of type "'+p+'", which is outside the valid range ['+B+", "+K+"]!");return m?q>>>0:q|0},argPackAdvance:8,readValueFromPointer:De(p,E,B!==0),destructorFunction:null})}function Me(c,p,R){var B=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],K=B[p];function E(S){S=S>>2;var l=Hr,m=l[S],U=l[S+1];return new K(Kr,U,m)}R=Br(R),Ge(c,{name:R,fromWireType:E,argPackAdvance:8,readValueFromPointer:E},{ignoreDuplicateRegistrations:!0})}function sn(c,p){p=Br(p);var R=p==="std::string";Ge(c,{name:p,fromWireType:function(B){var K=Hr[B>>2],E;if(R)for(var S=B+4,l=0;l<=K;++l){var m=B+4+l;if(l==K||Rr[m]==0){var U=m-S,q=wr(S,U);E===void 0?E=q:(E+=String.fromCharCode(0),E+=q),S=m+1}}else{for(var f=new Array(K),l=0;l<K;++l)f[l]=String.fromCharCode(Rr[B+4+l]);E=f.join("")}return y(B),E},toWireType:function(B,K){K instanceof ArrayBuffer&&(K=new Uint8Array(K));var E,S=typeof K=="string";S||K instanceof Uint8Array||K instanceof Uint8ClampedArray||K instanceof Int8Array||ne("Cannot pass non-string to std::string"),R&&S?E=function(){return jn(K)}:E=function(){return K.length};var l=E(),m=P(4+l+1);if(Hr[m>>2]=l,R&&S)Hn(K,m+4,l+1);else if(S)for(var U=0;U<l;++U){var q=K.charCodeAt(U);q>255&&(y(m),ne("String has UTF-16 code units that do not fit in 8 bits")),Rr[m+4+U]=q}else for(var U=0;U<l;++U)Rr[m+4+U]=K[U];return B!==null&&B.push(y,m),m},argPackAdvance:8,readValueFromPointer:Fn,destructorFunction:function(B){y(B)}})}function zr(c,p,R){R=Br(R);var B,K,E,S,l;p===2?(B=ce,K=In,S=Gr,E=function(){return qr},l=1):p===4&&(B=Wr,K=we,S=ue,E=function(){return Hr},l=2),Ge(c,{name:R,fromWireType:function(m){for(var U=Hr[m>>2],q=E(),f,s=m+4,h=0;h<=U;++h){var O=m+4+h*p;if(h==U||q[O>>l]==0){var M=O-s,rr=B(s,M);f===void 0?f=rr:(f+=String.fromCharCode(0),f+=rr),s=O+p}}return y(m),f},toWireType:function(m,U){typeof U!="string"&&ne("Cannot pass non-string to C++ string type "+R);var q=S(U),f=P(4+q+p);return Hr[f>>2]=q>>l,K(U,f+4,q+p),m!==null&&m.push(y,f),f},argPackAdvance:8,readValueFromPointer:Fn,destructorFunction:function(m){y(m)}})}function tn(c,p){p=Br(p),Ge(c,{isVoid:!0,name:p,argPackAdvance:0,fromWireType:function(){},toWireType:function(R,B){}})}var at={};function dn(c){var p=at[c];return p===void 0?Br(c):p}function Ye(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Sn(c){return c===0?Be(Ye()):(c=dn(c),Be(Ye()[c]))}function ct(c){c>4&&(un[c].refcount+=1)}function Jn(c,p){var R=Ke[c];return R===void 0&&ne(p+" has unknown type "+et(c)),R}function nt(c){for(var p="",R=0;R<c;++R)p+=(R!==0?", ":"")+"arg"+R;for(var B="return function emval_allocator_"+c+`(constructor, argTypes, args) {
`,R=0;R<c;++R)B+="var argType"+R+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+R+'], "parameter '+R+`");
var arg`+R+" = argType"+R+`.readValueFromPointer(args);
args += argType`+R+`['argPackAdvance'];
`;return B+="var obj = new constructor("+p+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",B)(Jn,e,Be)}var Vn={};function ot(c){return c||ne("Cannot use deleted val. handle = "+c),un[c].value}function Gn(c,p,R,B){c=ot(c);var K=Vn[p];return K||(K=nt(p),Vn[p]=K),K(c,R,B)}function kn(){Ue()}function ut(c,p,R){Rr.copyWithin(c,p,p+R)}function mn(c){try{return xr.grow(c-Kr.byteLength+65535>>>16),qe(xr.buffer),1}catch{}}function Wn(c){var p=Rr.length;c=c>>>0;var R=2147483648;if(c>R)return!1;for(var B=1;B<=4;B*=2){var K=p*(1+.2/B);K=Math.min(K,c+100663296);var E=Math.min(R,pn(Math.max(c,K),65536)),S=mn(E);if(S)return!0}return!1}var V={mappings:{},buffers:[null,[],[]],printChar:function(c,p){var R=V.buffers[c];p===0||p===10?((c===1?Ie:_e)(mr(R,0)),R.length=0):R.push(p)},varargs:void 0,get:function(){V.varargs+=4;var c=Er[V.varargs-4>>2];return c},getStr:function(c){var p=wr(c);return p},get64:function(c,p){return c}};function X(c,p,R,B){for(var K=0,E=0;E<R;E++){for(var S=Er[p+E*8>>2],l=Er[p+(E*8+4)>>2],m=0;m<l;m++)V.printChar(c,Rr[S+m]);K+=l}return Er[B>>2]=K,0}function C(c){}Se(),vr=e.BindingError=Fe(Error,"BindingError"),nn=e.InternalError=Fe(Error,"InternalError"),Ne(),Kn=e.UnboundTypeError=Fe(Error,"UnboundTypeError");var d={p:xe,e:pe,o:hn,r:We,m:ie,v:He,k:yn,q:qn,b:ke,a:Me,l:sn,g:zr,n:tn,c:te,d:Sn,h:ct,i:Gn,j:kn,t:ut,f:Wn,u:X,s:C};Ce(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.x).apply(null,arguments)};var y=e._free=function(){return(y=e._free=e.asm.y).apply(null,arguments)},P=e._malloc=function(){return(P=e._malloc=e.asm.z).apply(null,arguments)},j=e.___getTypeName=function(){return(j=e.___getTypeName=e.asm.A).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.B).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.D).apply(null,arguments)};var g;Le=function c(){g||T(),g||(Le=c)};function T(c){if(ae>0||(Jr(),ae>0))return;function p(){g||(g=!0,e.calledRun=!0,!cn&&($e(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),gn()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),p()},1)):p()}if(e.run=T,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return T(),e.ready}}(),Wu=ku,Di;async function Uu(G){Di||(Di=jt(Wu));const[cr,e]=await Promise.all([Di,Ti(G)]),lr=cr.decode(e);if(!lr)throw new Error("Decoding error");return lr}function Bi(G,cr,e,lr){const Tr=G/cr,hr=e/lr;if(hr>Tr){const kr=G/hr,Ir=(cr-kr)/2;return{sw:G,sh:kr,sx:0,sy:Ir}}const F=cr*hr,er=(G-F)/2;return{sh:cr,sw:F,sx:er,sy:0}}var zt,gi=null;function Du(){return(gi===null||gi.buffer!==zt.memory.buffer)&&(gi=new Uint8Array(zt.memory.buffer)),gi}var ka=0;function Iu(G,cr){const e=cr(G.length*1);return Du().set(G,e/1),ka=G.length,e}var hi=null;function zi(){return(hi===null||hi.buffer!==zt.memory.buffer)&&(hi=new Int32Array(zt.memory.buffer)),hi}var mi=null;function Mu(){return(mi===null||mi.buffer!==zt.memory.buffer)&&(mi=new Uint8ClampedArray(zt.memory.buffer)),mi}function Lu(G,cr){return Mu().subarray(G/1,G/1+cr)}function Nu(G,cr,e,lr,Tr,hr,F,er){try{const $r=zt.__wbindgen_add_to_stack_pointer(-16);var kr=Iu(G,zt.__wbindgen_malloc),Ir=ka;zt.resize($r,kr,Ir,cr,e,lr,Tr,hr,F,er);var a=zi()[$r/4+0],Ie=zi()[$r/4+1],_e=Lu(a,Ie).slice();return zt.__wbindgen_free(a,Ie*1),_e}finally{zt.__wbindgen_add_to_stack_pointer(16)}}async function Hu(G,cr){if(typeof Response=="function"&&G instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(G,cr)}catch(lr){if(G.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",lr);else throw lr}const e=await G.arrayBuffer();return await WebAssembly.instantiate(e,cr)}else{const e=await WebAssembly.instantiate(G,cr);return e instanceof WebAssembly.Instance?{instance:e,module:G}:e}}async function Wa(G){typeof G>"u"&&(G=new URL("../wasm/squoosh_resize_bg.wasm",self.location));const cr={};(typeof G=="string"||typeof Request=="function"&&G instanceof Request||typeof URL=="function"&&G instanceof URL)&&(G=fetch(G));const{instance:e,module:lr}=await Hu(await G,cr);return zt=e.exports,Wa.__wbindgen_wasm_module=lr,zt}var xu=Wa,oi,yi=null;function Ua(){return(yi===null||yi.buffer!==oi.memory.buffer)&&(yi=new Uint32Array(oi.memory.buffer)),yi}var Da=0;function ju(G,cr){const e=cr(G.length*4);return Ua().set(G,e/4),Da=G.length,e}var Ei=null;function Ki(){return(Ei===null||Ei.buffer!==oi.memory.buffer)&&(Ei=new Int32Array(oi.memory.buffer)),Ei}function Bu(G,cr){return Ua().subarray(G/4,G/4+cr)}function Vu(G,cr,e,lr){try{const Ir=oi.__wbindgen_add_to_stack_pointer(-16);var Tr=ju(G,oi.__wbindgen_malloc),hr=Da;oi.resize(Ir,Tr,hr,cr,e,lr);var F=Ki()[Ir/4+0],er=Ki()[Ir/4+1],kr=Bu(F,er).slice();return oi.__wbindgen_free(F,er*4),kr}finally{oi.__wbindgen_add_to_stack_pointer(16)}}async function Gu(G,cr){if(typeof Response=="function"&&G instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(G,cr)}catch(lr){if(G.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",lr);else throw lr}const e=await G.arrayBuffer();return await WebAssembly.instantiate(e,cr)}else{const e=await WebAssembly.instantiate(G,cr);return e instanceof WebAssembly.Instance?{instance:e,module:G}:e}}async function Ia(G){typeof G>"u"&&(G=new URL("../wasm/squooshhqx_bg.wasm",self.location));const cr={};(typeof G=="string"||typeof Request=="function"&&G instanceof Request||typeof URL=="function"&&G instanceof URL)&&(G=fetch(G));const{instance:e,module:lr}=await Gu(await G,cr);return oi=e.exports,Ia.__wbindgen_wasm_module=lr,oi}var Yu=Ia;function qu(G){return G.method==="hqx"}function zu(G,cr,e,lr,Tr){const hr=new Uint32Array(G.data.buffer);for(let F=0;F<Tr;F+=1){const er=(F+e)*G.width+cr;hr.copyWithin(F*lr,er,er+lr)}return new ImageData(new Uint8ClampedArray(hr.buffer.slice(0,lr*Tr*4)),lr,Tr)}function Ku(G,{min:cr=Number.MIN_VALUE,max:e=Number.MAX_VALUE}){return Math.min(Math.max(G,cr),e)}var Xu=["triangle","catrom","mitchell","lanczos3"],Ii,Mi;async function Qu(G,cr){Mi||(Mi=Yu()),await Mi;const e=cr.width/G.width,lr=cr.height/G.height,Tr=Math.max(e,lr),hr=Ku(Math.ceil(Tr),{min:1,max:4});if(hr===1)return G;const F=Vu(new Uint32Array(G.data.buffer),G.width,G.height,hr);return new ImageData(new Uint8ClampedArray(F.buffer),G.width*hr,G.height*hr)}async function Ju(G,cr){let e=G;if(Ii||(Ii=xu()),qu(cr)&&(e=await Qu(e,cr),cr={...cr,method:"catrom"}),await Ii,cr.fitMethod==="contain"){const{sx:Tr,sy:hr,sw:F,sh:er}=Bi(G.width,G.height,cr.width,cr.height);e=zu(e,Math.round(Tr),Math.round(hr),Math.round(F),Math.round(er))}const lr=Nu(new Uint8Array(e.data.buffer),e.width,e.height,cr.width,cr.height,Xu.indexOf(cr.method),cr.premultiply,cr.linearRGB);return new ImageData(new Uint8ClampedArray(lr.buffer),cr.width,cr.height)}function Zu(G){return hu.includes(G.method)}function $u(G,cr){let e=0,lr=0,Tr=G.width,hr=G.height;return cr.fitMethod==="contain"&&({sx:e,sy:lr,sw:Tr,sh:hr}=Bi(Tr,hr,cr.width,cr.height)),Na(G,e,lr,Tr,hr,cr.width,cr.height,cr.method.slice(8))}function rf(G,cr){let e=0,lr=0,Tr=G.width,hr=G.height;return cr.fitMethod==="contain"&&({sx:e,sy:lr,sw:Tr,sh:hr}=Bi(Tr,hr,cr.width,cr.height)),wi(G,{sx:e,sy:lr,sw:Tr,sh:hr,width:cr.width,height:cr.height})}async function ef(G,cr){if(cr.method==="vector"){if(!G.vectorImage)throw Error("No vector image available");return rf(G.vectorImage,cr)}return Zu(cr)?Ju(G.preprocessed,cr):$u(G.preprocessed,cr)}var nf=function(){var G=import.meta.url;return function(e){e=e||{};var e=typeof e<"u"?e:{},lr,Tr;e.ready=new Promise(function(g,T){lr=g,Tr=T});var hr={},F;for(F in e)e.hasOwnProperty(F)&&(hr[F]=e[F]);var er=!0,kr="";function Ir(g){return e.locateFile?e.locateFile(g,kr):kr+g}var a;kr=self.location.href,G&&(kr=G),kr.indexOf("blob:")!==0?kr=kr.substr(0,kr.lastIndexOf("/")+1):kr="",a=function(g){var T=new XMLHttpRequest;return T.open("GET",g,!1),T.responseType="arraybuffer",T.send(null),new Uint8Array(T.response)};var Ie=e.print||console.log.bind(console),_e=e.printErr||console.warn.bind(console);for(F in hr)hr.hasOwnProperty(F)&&(e[F]=hr[F]);hr=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit;var $r;e.wasmBinary&&($r=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&Ue("no native wasm support detected");var xr,cn=!1,vn=new TextDecoder("utf8");function mr(g,T,c){for(var p=T+c,R=T;g[R]&&!(R>=p);)++R;return vn.decode(g.subarray?g.subarray(T,R):new Uint8Array(g.slice(T,R)))}function wr(g,T){if(!g)return"";for(var c=g+T,p=g;!(p>=c)&&Rr[p];)++p;return vn.decode(Rr.subarray(g,p))}function Ve(g,T,c,p){if(!(p>0))return 0;for(var R=c,B=c+p-1,K=0;K<g.length;++K){var E=g.charCodeAt(K);if(E>=55296&&E<=57343){var S=g.charCodeAt(++K);E=65536+((E&1023)<<10)|S&1023}if(E<=127){if(c>=B)break;T[c++]=E}else if(E<=2047){if(c+1>=B)break;T[c++]=192|E>>6,T[c++]=128|E&63}else if(E<=65535){if(c+2>=B)break;T[c++]=224|E>>12,T[c++]=128|E>>6&63,T[c++]=128|E&63}else{if(c+3>=B)break;T[c++]=240|E>>18,T[c++]=128|E>>12&63,T[c++]=128|E>>6&63,T[c++]=128|E&63}}return T[c]=0,c-R}function Hn(g,T,c){return Ve(g,Rr,T,c)}function jn(g){for(var T=0,c=0;c<g.length;++c){var p=g.charCodeAt(c);p>=55296&&p<=57343&&(p=65536+((p&1023)<<10)|g.charCodeAt(++c)&1023),p<=127?++T:p<=2047?T+=2:p<=65535?T+=3:T+=4}return T}var Qr=new TextDecoder("utf-16le");function ce(g,T){for(var c=g,p=c>>1,R=p+T/2;!(p>=R)&&qr[p];)++p;return c=p<<1,Qr.decode(Rr.subarray(g,c))}function In(g,T,c){if(c===void 0&&(c=2147483647),c<2)return 0;c-=2;for(var p=T,R=c<g.length*2?c/2:g.length,B=0;B<R;++B){var K=g.charCodeAt(B);Yr[T>>1]=K,T+=2}return Yr[T>>1]=0,T-p}function Gr(g){return g.length*2}function Wr(g,T){for(var c=0,p="";!(c>=T/4);){var R=Er[g+c*4>>2];if(R==0)break;if(++c,R>=65536){var B=R-65536;p+=String.fromCharCode(55296|B>>10,56320|B&1023)}else p+=String.fromCharCode(R)}return p}function we(g,T,c){if(c===void 0&&(c=2147483647),c<4)return 0;for(var p=T,R=p+c-4,B=0;B<g.length;++B){var K=g.charCodeAt(B);if(K>=55296&&K<=57343){var E=g.charCodeAt(++B);K=65536+((K&1023)<<10)|E&1023}if(Er[T>>2]=K,T+=4,T+4>R)break}return Er[T>>2]=0,T-p}function ue(g){for(var T=0,c=0;c<g.length;++c){var p=g.charCodeAt(c);p>=55296&&p<=57343&&++c,T+=4}return T}function pn(g,T){return g%T>0&&(g+=T-g%T),g}var Kr,jr,Rr,Yr,qr,Er,Hr,be,Mr;function qe(g){Kr=g,e.HEAP8=jr=new Int8Array(g),e.HEAP16=Yr=new Int16Array(g),e.HEAP32=Er=new Int32Array(g),e.HEAPU8=Rr=new Uint8Array(g),e.HEAPU16=qr=new Uint16Array(g),e.HEAPU32=Hr=new Uint32Array(g),e.HEAPF32=be=new Float32Array(g),e.HEAPF64=Mr=new Float64Array(g)}e.INITIAL_MEMORY;var Re,fe=[],bn=[],Ze=[];function Jr(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Qn(e.preRun.shift());rn(fe)}function $e(){rn(bn)}function gn(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)An(e.postRun.shift());rn(Ze)}function Qn(g){fe.unshift(g)}function Pn(g){bn.unshift(g)}function An(g){Ze.unshift(g)}var ae=0,Le=null;function Ae(g){ae++,e.monitorRunDependencies&&e.monitorRunDependencies(ae)}function oe(g){if(ae--,e.monitorRunDependencies&&e.monitorRunDependencies(ae),ae==0&&Le){var T=Le;Le=null,T()}}e.preloadedImages={},e.preloadedAudios={};function Ue(g){e.onAbort&&e.onAbort(g),g+="",_e(g),cn=!0,g="abort("+g+"). Build with -s ASSERTIONS=1 for more info.";var T=new WebAssembly.RuntimeError(g);throw Tr(T),T}var ye="data:application/octet-stream;base64,";function Mn(g){return g.startsWith(ye)}if(e.locateFile){var re="imagequant.wasm";Mn(re)||(re=Ir(re))}else var re=new URL("../wasm/imagequant.wasm",self.location).toString();function Rn(g){try{if(g==re&&$r)return new Uint8Array($r);if(a)return a(g);throw"both async and sync fetching of the wasm failed"}catch(T){Ue(T)}}function ze(){return!$r&&er&&typeof fetch=="function"?fetch(re,{credentials:"same-origin"}).then(function(g){if(!g.ok)throw"failed to load wasm binary file at '"+re+"'";return g.arrayBuffer()}).catch(function(){return Rn(re)}):Promise.resolve().then(function(){return Rn(re)})}function Ce(){var g={a:X};function T(K,E){var S=K.exports;e.asm=S,xr=e.asm.w,qe(xr.buffer),Re=e.asm.C,Pn(e.asm.x),oe()}Ae();function c(K){T(K.instance)}function p(K){return ze().then(function(E){var S=WebAssembly.instantiate(E,g);return S}).then(K,function(E){_e("failed to asynchronously prepare wasm: "+E),Ue(E)})}function R(){return!$r&&typeof WebAssembly.instantiateStreaming=="function"&&!Mn(re)&&typeof fetch=="function"?fetch(re,{credentials:"same-origin"}).then(function(K){var E=WebAssembly.instantiateStreaming(K,g);return E.then(c,function(S){return _e("wasm streaming compile failed: "+S),_e("falling back to ArrayBuffer instantiation"),p(c)})}):p(c)}if(e.instantiateWasm)try{var B=e.instantiateWasm(g,T);return B}catch(K){return _e("Module.instantiateWasm callback failed with error: "+K),!1}return R().catch(Tr),{}}function rn(g){for(;g.length>0;){var T=g.shift();if(typeof T=="function"){T(e);continue}var c=T.func;typeof c=="number"?T.arg===void 0?Re.get(c)():Re.get(c)(T.arg):c(T.arg===void 0?null:T.arg)}}function le(g,T){}function xe(g,T){return void 0}function st(g,T,c,p,R){}function pe(g){switch(g){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+g)}}function de(){for(var g=new Array(256),T=0;T<256;++T)g[T]=String.fromCharCode(T);hn=g}var hn=void 0;function We(g){for(var T="",c=g;Rr[c];)T+=hn[Rr[c++]];return T}var Lr={},Se={},Pe={},Br=48,Ee=57;function Ke(g){if(g===void 0)return"_unknown";g=g.replace(/[^a-zA-Z0-9_]/g,"$");var T=g.charCodeAt(0);return T>=Br&&T<=Ee?"_"+g:g}function en(g,T){return g=Ke(g),new Function("body","return function "+g+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(T)}function Ur(g,T){var c=en(T,function(p){this.name=T,this.message=p;var R=new Error(p).stack;R!==void 0&&(this.stack=this.toString()+`
`+R.replace(/^Error(:[^\n]*)?\n/,""))});return c.prototype=Object.create(g.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},c}var Cn=void 0;function ee(g){throw new Cn(g)}var se=void 0;function Fe(g){throw new se(g)}function vr(g,T,c){g.forEach(function(E){Pe[E]=T});function p(E){var S=c(E);S.length!==g.length&&Fe("Mismatched type converter count");for(var l=0;l<g.length;++l)ne(g[l],S[l])}var R=new Array(T.length),B=[],K=0;T.forEach(function(E,S){Se.hasOwnProperty(E)?R[S]=Se[E]:(B.push(E),Lr.hasOwnProperty(E)||(Lr[E]=[]),Lr[E].push(function(){R[S]=Se[E],++K,K===B.length&&p(R)}))}),B.length===0&&p(R)}function ne(g,T,c){if(c=c||{},!("argPackAdvance"in T))throw new TypeError("registerType registeredInstance requires argPackAdvance");var p=T.name;if(g||ee('type "'+p+'" must have a positive integer typeid pointer'),Se.hasOwnProperty(g)){if(c.ignoreDuplicateRegistrations)return;ee("Cannot register type '"+p+"' twice")}if(Se[g]=T,delete Pe[g],Lr.hasOwnProperty(g)){var R=Lr[g];delete Lr[g],R.forEach(function(B){B()})}}function nn(g,T,c,p,R){var B=pe(c);T=We(T),ne(g,{name:T,fromWireType:function(K){return!!K},toWireType:function(K,E){return E?p:R},argPackAdvance:8,readValueFromPointer:function(K){var E;if(c===1)E=jr;else if(c===2)E=Yr;else if(c===4)E=Er;else throw new TypeError("Unknown boolean type size: "+T);return this.fromWireType(E[K>>B])},destructorFunction:null})}var nr=[],ge=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ge(g){g>4&&--ge[g].refcount===0&&(ge[g]=void 0,nr.push(g))}function ie(){for(var g=0,T=5;T<ge.length;++T)ge[T]!==void 0&&++g;return g}function Sr(){for(var g=5;g<ge.length;++g)if(ge[g]!==void 0)return ge[g];return null}function un(){e.count_emval_handles=ie,e.get_first_emval=Sr}function te(g){switch(g){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var T=nr.length?nr.pop():ge.length;return ge[T]={refcount:1,value:g},T}}}function Xr(g){return this.fromWireType(Hr[g>>2])}function _n(g,T){T=We(T),ne(g,{name:T,fromWireType:function(c){var p=ge[c].value;return Ge(c),p},toWireType:function(c,p){return te(p)},argPackAdvance:8,readValueFromPointer:Xr,destructorFunction:null})}function Ne(g){if(g===null)return"null";var T=typeof g;return T==="object"||T==="array"||T==="function"?g.toString():""+g}function Be(g,T){switch(T){case 2:return function(c){return this.fromWireType(be[c>>2])};case 3:return function(c){return this.fromWireType(Mr[c>>3])};default:throw new TypeError("Unknown float type: "+g)}}function Fn(g,T,c){var p=pe(c);T=We(T),ne(g,{name:T,fromWireType:function(R){return R},toWireType:function(R,B){if(typeof B!="number"&&typeof B!="boolean")throw new TypeError('Cannot convert "'+Ne(B)+'" to '+this.name);return B},argPackAdvance:8,readValueFromPointer:Be(T,p),destructorFunction:null})}function He(g,T){if(!(g instanceof Function))throw new TypeError("new_ called with constructor type "+typeof g+" which is not a function");var c=en(g.name||"unknownFunctionName",function(){});c.prototype=g.prototype;var p=new c,R=g.apply(p,T);return R instanceof Object?R:p}function fn(g){for(;g.length;){var T=g.pop(),c=g.pop();c(T)}}function Qe(g,T,c,p,R){var B=T.length;B<2&&ee("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var K=T[1]!==null&&c!==null,E=!1,S=1;S<T.length;++S)if(T[S]!==null&&T[S].destructorFunction===void 0){E=!0;break}for(var l=T[0].name!=="void",m="",U="",S=0;S<B-2;++S)m+=(S!==0?", ":"")+"arg"+S,U+=(S!==0?", ":"")+"arg"+S+"Wired";var q="return function "+Ke(g)+"("+m+`) {
if (arguments.length !== `+(B-2)+`) {
throwBindingError('function `+g+" called with ' + arguments.length + ' arguments, expected "+(B-2)+` args!');
}
`;E&&(q+=`var destructors = [];
`);var f=E?"destructors":"null",s=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[ee,p,R,fn,T[0],T[1]];K&&(q+="var thisWired = classParam.toWireType("+f+`, this);
`);for(var S=0;S<B-2;++S)q+="var arg"+S+"Wired = argType"+S+".toWireType("+f+", arg"+S+"); // "+T[S+2].name+`
`,s.push("argType"+S),h.push(T[S+2]);if(K&&(U="thisWired"+(U.length>0?", ":"")+U),q+=(l?"var rv = ":"")+"invoker(fn"+(U.length>0?", ":"")+U+`);
`,E)q+=`runDestructors(destructors);
`;else for(var S=K?1:2;S<T.length;++S){var O=S===1?"thisWired":"arg"+(S-2)+"Wired";T[S].destructorFunction!==null&&(q+=O+"_dtor("+O+"); // "+T[S].name+`
`,s.push(O+"_dtor"),h.push(T[S].destructorFunction))}l&&(q+=`var ret = retType.fromWireType(rv);
return ret;
`),q+=`}
`,s.push(q);var M=He(Function,s).apply(null,h);return M}function yn(g,T,c){if(g[T].overloadTable===void 0){var p=g[T];g[T]=function(){return g[T].overloadTable.hasOwnProperty(arguments.length)||ee("Function '"+c+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+g[T].overloadTable+")!"),g[T].overloadTable[arguments.length].apply(this,arguments)},g[T].overloadTable=[],g[T].overloadTable[p.argCount]=p}}function On(g,T,c){e.hasOwnProperty(g)?((c===void 0||e[g].overloadTable!==void 0&&e[g].overloadTable[c]!==void 0)&&ee("Cannot register public name '"+g+"' twice"),yn(e,g,g),e.hasOwnProperty(c)&&ee("Cannot register multiple overloads of a function with the same number of arguments ("+c+")!"),e[g].overloadTable[c]=T):(e[g]=T,c!==void 0&&(e[g].numArguments=c))}function Je(g,T){for(var c=[],p=0;p<g;p++)c.push(Er[(T>>2)+p]);return c}function ln(g,T,c){e.hasOwnProperty(g)||Fe("Replacing nonexistant public symbol"),e[g].overloadTable!==void 0&&c!==void 0?e[g].overloadTable[c]=T:(e[g]=T,e[g].argCount=c)}function Ln(g,T,c){var p=e["dynCall_"+g];return c&&c.length?p.apply(null,[T].concat(c)):p.call(null,T)}function $n(g,T,c){return g.includes("j")?Ln(g,T,c):Re.get(T).apply(null,c)}function rt(g,T){var c=[];return function(){c.length=arguments.length;for(var p=0;p<arguments.length;p++)c[p]=arguments[p];return $n(g,T,c)}}function En(g,T){g=We(g);function c(){return g.includes("j")?rt(g,T):Re.get(T)}var p=c();return typeof p!="function"&&ee("unknown function pointer with signature "+g+": "+T),p}var xn=void 0;function zn(g){var T=y(g),c=We(T);return d(T),c}function Bn(g,T){var c=[],p={};function R(B){if(!p[B]&&!Se[B]){if(Pe[B]){Pe[B].forEach(R);return}c.push(B),p[B]=!0}}throw T.forEach(R),new xn(g+": "+c.map(zn).join([", "]))}function wn(g,T,c,p,R,B){var K=Je(T,c);g=We(g),R=En(p,R),On(g,function(){Bn("Cannot call "+g+" due to unbound types",K)},T-1),vr([],K,function(E){var S=[E[0],null].concat(E.slice(1));return ln(g,Qe(g,S,null,R,B),T-1),[]})}function Kn(g,T,c){switch(T){case 0:return c?function(R){return jr[R]}:function(R){return Rr[R]};case 1:return c?function(R){return Yr[R>>1]}:function(R){return qr[R>>1]};case 2:return c?function(R){return Er[R>>2]}:function(R){return Hr[R>>2]};default:throw new TypeError("Unknown integer type: "+g)}}function et(g,T,c,p,R){T=We(T),R===-1&&(R=4294967295);var B=pe(c),K=function(l){return l};if(p===0){var E=32-8*c;K=function(l){return l<<E>>>E}}var S=T.includes("unsigned");ne(g,{name:T,fromWireType:K,toWireType:function(l,m){if(typeof m!="number"&&typeof m!="boolean")throw new TypeError('Cannot convert "'+Ne(m)+'" to '+this.name);if(m<p||m>R)throw new TypeError('Passing a number "'+Ne(m)+'" from JS side to C/C++ side to an argument of type "'+T+'", which is outside the valid range ['+p+", "+R+"]!");return S?m>>>0:m|0},argPackAdvance:8,readValueFromPointer:Kn(T,B,p!==0),destructorFunction:null})}function Oe(g,T,c){var p=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],R=p[T];function B(K){K=K>>2;var E=Hr,S=E[K],l=E[K+1];return new R(Kr,l,S)}c=We(c),ne(g,{name:c,fromWireType:B,argPackAdvance:8,readValueFromPointer:B},{ignoreDuplicateRegistrations:!0})}function qn(g,T){T=We(T);var c=T==="std::string";ne(g,{name:T,fromWireType:function(p){var R=Hr[p>>2],B;if(c)for(var K=p+4,E=0;E<=R;++E){var S=p+4+E;if(E==R||Rr[S]==0){var l=S-K,m=wr(K,l);B===void 0?B=m:(B+=String.fromCharCode(0),B+=m),K=S+1}}else{for(var U=new Array(R),E=0;E<R;++E)U[E]=String.fromCharCode(Rr[p+4+E]);B=U.join("")}return d(p),B},toWireType:function(p,R){R instanceof ArrayBuffer&&(R=new Uint8Array(R));var B,K=typeof R=="string";K||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int8Array||ee("Cannot pass non-string to std::string"),c&&K?B=function(){return jn(R)}:B=function(){return R.length};var E=B(),S=C(4+E+1);if(Hr[S>>2]=E,c&&K)Hn(R,S+4,E+1);else if(K)for(var l=0;l<E;++l){var m=R.charCodeAt(l);m>255&&(d(S),ee("String has UTF-16 code units that do not fit in 8 bits")),Rr[S+4+l]=m}else for(var l=0;l<E;++l)Rr[S+4+l]=R[l];return p!==null&&p.push(d,S),S},argPackAdvance:8,readValueFromPointer:Xr,destructorFunction:function(p){d(p)}})}function De(g,T,c){c=We(c);var p,R,B,K,E;T===2?(p=ce,R=In,K=Gr,B=function(){return qr},E=1):T===4&&(p=Wr,R=we,K=ue,B=function(){return Hr},E=2),ne(g,{name:c,fromWireType:function(S){for(var l=Hr[S>>2],m=B(),U,q=S+4,f=0;f<=l;++f){var s=S+4+f*T;if(f==l||m[s>>E]==0){var h=s-q,O=p(q,h);U===void 0?U=O:(U+=String.fromCharCode(0),U+=O),q=s+T}}return d(S),U},toWireType:function(S,l){typeof l!="string"&&ee("Cannot pass non-string to C++ string type "+c);var m=K(l),U=C(4+m+T);return Hr[U>>2]=m>>E,R(l,U+4,m+T),S!==null&&S.push(d,U),U},argPackAdvance:8,readValueFromPointer:Xr,destructorFunction:function(S){d(S)}})}function ke(g,T){T=We(T),ne(g,{isVoid:!0,name:T,argPackAdvance:0,fromWireType:function(){},toWireType:function(c,p){}})}var Me={};function sn(g){var T=Me[g];return T===void 0?We(g):T}function zr(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function tn(g){return g===0?te(zr()):(g=sn(g),te(zr()[g]))}function at(g){g>4&&(ge[g].refcount+=1)}function dn(g,T){var c=Se[g];return c===void 0&&ee(T+" has unknown type "+zn(g)),c}function Ye(g){for(var T="",c=0;c<g;++c)T+=(c!==0?", ":"")+"arg"+c;for(var p="return function emval_allocator_"+g+`(constructor, argTypes, args) {
`,c=0;c<g;++c)p+="var argType"+c+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+c+'], "parameter '+c+`");
var arg`+c+" = argType"+c+`.readValueFromPointer(args);
args += argType`+c+`['argPackAdvance'];
`;return p+="var obj = new constructor("+T+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",p)(dn,e,te)}var Sn={};function ct(g){return g||ee("Cannot use deleted val. handle = "+g),ge[g].value}function Jn(g,T,c,p){g=ct(g);var R=Sn[T];return R||(R=Ye(T),Sn[T]=R),R(g,c,p)}function nt(){Ue()}function Vn(g,T,c){Rr.copyWithin(g,T,T+c)}function ot(g){try{return xr.grow(g-Kr.byteLength+65535>>>16),qe(xr.buffer),1}catch{}}function Gn(g){var T=Rr.length;g=g>>>0;var c=2147483648;if(g>c)return!1;for(var p=1;p<=4;p*=2){var R=T*(1+.2/p);R=Math.min(R,g+100663296);var B=Math.min(c,pn(Math.max(g,R),65536)),K=ot(B);if(K)return!0}return!1}var kn={mappings:{},buffers:[null,[],[]],printChar:function(g,T){var c=kn.buffers[g];T===0||T===10?((g===1?Ie:_e)(mr(c,0)),c.length=0):c.push(T)},varargs:void 0,get:function(){kn.varargs+=4;var g=Er[kn.varargs-4>>2];return g},getStr:function(g){var T=wr(g);return T},get64:function(g,T){return g}};function ut(g){return 0}function mn(g,T,c,p,R){}function Wn(g,T,c,p){for(var R=0,B=0;B<c;B++){for(var K=Er[T+B*8>>2],E=Er[T+(B*8+4)>>2],S=0;S<E;S++)kn.printChar(g,Rr[K+S]);R+=E}return Er[p>>2]=R,0}function V(g){}de(),Cn=e.BindingError=Ur(Error,"BindingError"),se=e.InternalError=Ur(Error,"InternalError"),un(),xn=e.UnboundTypeError=Ur(Error,"UnboundTypeError");var X={m:xe,q:st,n:nn,v:_n,l:Fn,c:wn,b:et,a:Oe,h:qn,f:De,o:ke,d:Ge,k:tn,i:at,j:Jn,g:nt,s:Vn,e:Gn,u:ut,p:mn,t:Wn,r:V};Ce(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.x).apply(null,arguments)};var C=e._malloc=function(){return(C=e._malloc=e.asm.y).apply(null,arguments)},d=e._free=function(){return(d=e._free=e.asm.z).apply(null,arguments)},y=e.___getTypeName=function(){return(y=e.___getTypeName=e.asm.A).apply(null,arguments)};e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.B).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.D).apply(null,arguments)};var P;Le=function g(){P||j(),P||(Le=g)};function j(g){if(ae>0||(Jr(),ae>0))return;function T(){P||(P=!0,e.calledRun=!0,!cn&&($e(),lr(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),gn()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),T()},1)):T()}if(e.run=j,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return j(),e.ready}}(),tf=nf,Li;async function af(G,cr){Li||(Li=jt(tf));const e=await Li,lr=cr.zx?e.zx_quantize(G.data,G.width,G.height,cr.dither):e.quantize(G.data,G.width,G.height,cr.maxNumColors,cr.dither);return new ImageData(lr,G.width,G.height)}async function of(G){const cr=await za(G);if(!await Va(cr))switch(cr){case"image/avif":return await Au(G);case"image/webp":return await Ou(G);case"image/jxl":return await Ru(G);case"image/webp2":return await Uu(G)}return await Ka(G,cr)}async function uf(G,cr){let e=G;return cr.rotate.rotate,e}async function ff(G,cr){let e=G.preprocessed;return cr.resize.enabled&&(e=await ef(G,cr.resize)),cr.quantize.enabled&&(e=await af(e,cr.quantize)),e}async function sf(G,cr,e,lr){const Tr=Oa[cr.type];di=lr;let hr;switch(cr.type){case"avif":hr=await ca(G,cr.options);break;case"browserGIF":hr=await da(G,cr.options);break;case"browserJPEG":hr=await _a(G,cr.options);break;case"browserPNG":hr=await ga(G,cr.options);break;case"jxl":hr=await ma(G,cr.options);break;case"mozJPEG":hr=await Ea(G,cr.options);break;case"oxiPNG":hr=await Ca(G,cr.options);break;case"webP":hr=await Ra(G,cr.options);break;case"wp2":hr=await Pa(G,cr.options);break;default:hr=new Blob;break}const F=Tr.meta.mimeType;return console.log({type:F}),new File([hr],e.replace(/.[^.]*$/,`.${Tr.meta.extension}`),{type:F})}async function cf(G){const cr=new DOMParser,e=await Ga(G),lr=cr.parseFromString(e,"image/svg+xml"),Tr=lr.documentElement;if(Tr.hasAttribute("width")&&Tr.hasAttribute("height"))return Ni(G);const hr=Tr.getAttribute("viewBox");if(hr===null)throw Error("SVG must have width/height or viewBox");const F=hr.split(/\s+/);Tr.setAttribute("width",F[2]),Tr.setAttribute("height",F[3]);const kr=new XMLSerializer().serializeToString(lr);return Ni(new Blob([kr],{type:"image/svg+xml"}))}var lf=class{constructor(G,cr){Vi(this,"file"),Vi(this,"setting",{encoderState:{type:"webP",options:Oa.webP.meta.defaultOptions},processorState:Eu,preprocessorState:wu}),this.file=G,cr&&(this.setting=cr)}async process(){let G,cr;this.file.type.startsWith("image/svg+xml")?(cr=await cf(this.file),G=wi(cr)):G=await of(this.file);const e=await uf(G,this.setting.preprocessorState),lr={file:this.file,decoded:G,vectorImage:cr,preprocessed:e},Tr=await ff(lr,this.setting.processorState);if(this.setting.encoderState.type=="oxiPNG"){const F=await vi(Tr,"image/png");return await Ji(F)}return Tr}async compressImageWorker(G,cr,e,lr){return await sf(G,cr,e,lr)}};export{lf as default};
